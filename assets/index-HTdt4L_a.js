var Mp=t=>{throw TypeError(t)};var nu=(t,e,n)=>e.has(t)||Mp("Cannot "+n);var B=(t,e,n)=>(nu(t,e,"read from private field"),n?n.call(t):e.get(t)),ke=(t,e,n)=>e.has(t)?Mp("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),me=(t,e,n,r)=>(nu(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ct=(t,e,n)=>(nu(t,e,"access private method"),n);var Ma=(t,e,n,r)=>({set _(s){me(t,e,s,n)},get _(){return B(t,e,r)}});import{r as g,a as Ai,R as Ut,b as gE,c as yE,u as Es,d as As,L as qt,H as vE,e as xE,f as fn,N as bE,B as wE}from"./vendor-C59mtF_K.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var hv={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E=g,TE=Symbol.for("react.element"),EE=Symbol.for("react.fragment"),AE=Object.prototype.hasOwnProperty,IE=_E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SE={key:!0,ref:!0,__self:!0,__source:!0};function fv(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)AE.call(e,r)&&!SE.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:TE,type:t,key:i,ref:o,props:s,_owner:IE.current}}Xl.Fragment=EE;Xl.jsx=fv;Xl.jsxs=fv;hv.exports=Xl;var a=hv.exports,pv,Vp=Ai;pv=Vp.createRoot,Vp.hydrateRoot;const CE=1,NE=1e6;let ru=0;function RE(){return ru=(ru+1)%Number.MAX_SAFE_INTEGER,ru.toString()}const su=new Map,Lp=t=>{if(su.has(t))return;const e=setTimeout(()=>{su.delete(t),fo({type:"REMOVE_TOAST",toastId:t})},NE);su.set(t,e)},PE=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,CE)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Lp(n):t.toasts.forEach(r=>{Lp(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Za=[];let el={toasts:[]};function fo(t){el=PE(el,t),Za.forEach(e=>{e(el)})}function kE({...t}){const e=RE(),n=s=>fo({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>fo({type:"DISMISS_TOAST",toastId:e});return fo({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Wr(){const[t,e]=g.useState(el);return g.useEffect(()=>(Za.push(e),()=>{const n=Za.indexOf(e);n>-1&&Za.splice(n,1)}),[t]),{...t,toast:kE,dismiss:n=>fo({type:"DISMISS_TOAST",toastId:n})}}function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function jE(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function mv(...t){return e=>t.forEach(n=>jE(n,e))}function qe(...t){return g.useCallback(mv(...t),t)}function DE(t,e=[]){let n=[];function r(i,o){const l=g.createContext(o),u=n.length;n=[...n,o];function d(f){const{scope:m,children:x,...w}=f,v=(m==null?void 0:m[t][u])||l,b=g.useMemo(()=>w,Object.values(w));return a.jsx(v.Provider,{value:b,children:x})}function h(f,m){const x=(m==null?void 0:m[t][u])||l,w=g.useContext(x);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[r,OE(s,...e)]}function OE(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:u,scopeName:d})=>{const f=u(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ms=g.forwardRef((t,e)=>{const{children:n,...r}=t,s=g.Children.toArray(n),i=s.find(ME);if(i){const o=i.props.children,l=s.map(u=>u===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:u);return a.jsx($u,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,l):null})}return a.jsx($u,{...r,ref:e,children:n})});ms.displayName="Slot";var $u=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const s=LE(n);return g.cloneElement(n,{...VE(r,n.props),ref:e?mv(e,s):s})}return g.Children.count(n)>1?g.Children.only(null):null});$u.displayName="SlotClone";var gv=({children:t})=>a.jsx(a.Fragment,{children:t});function ME(t){return g.isValidElement(t)&&t.type===gv}function VE(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function LE(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function yv(t){const e=t+"CollectionProvider",[n,r]=DE(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:w,children:v}=x,b=Ut.useRef(null),E=Ut.useRef(new Map).current;return a.jsx(s,{scope:w,itemMap:E,collectionRef:b,children:v})};o.displayName=e;const l=t+"CollectionSlot",u=Ut.forwardRef((x,w)=>{const{scope:v,children:b}=x,E=i(l,v),A=qe(w,E.collectionRef);return a.jsx(ms,{ref:A,children:b})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=Ut.forwardRef((x,w)=>{const{scope:v,children:b,...E}=x,A=Ut.useRef(null),R=qe(w,A),j=i(d,v);return Ut.useEffect(()=>(j.itemMap.set(A,{ref:A,...E}),()=>void j.itemMap.delete(A))),a.jsx(ms,{[h]:"",ref:R,children:b})});f.displayName=d;function m(x){const w=i(t+"CollectionConsumer",x);return Ut.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const E=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((j,D)=>E.indexOf(j.ref.current)-E.indexOf(D.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:f},m,r]}function FE(t,e){const n=g.createContext(e),r=i=>{const{children:o,...l}=i,u=g.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Jl(t,e=[]){let n=[];function r(i,o){const l=g.createContext(o),u=n.length;n=[...n,o];const d=f=>{var E;const{scope:m,children:x,...w}=f,v=((E=m==null?void 0:m[t])==null?void 0:E[u])||l,b=g.useMemo(()=>w,Object.values(w));return a.jsx(v.Provider,{value:b,children:x})};d.displayName=i+"Provider";function h(f,m){var v;const x=((v=m==null?void 0:m[t])==null?void 0:v[u])||l,w=g.useContext(x);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[r,UE(s,...e)]}function UE(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:u,scopeName:d})=>{const f=u(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var BE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Se=BE.reduce((t,e)=>{const n=g.forwardRef((r,s)=>{const{asChild:i,...o}=r,l=i?ms:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function vv(t,e){t&&Ai.flushSync(()=>t.dispatchEvent(e))}function sn(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function $E(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var zE="DismissableLayer",zu="dismissableLayer.update",WE="dismissableLayer.pointerDownOutside",qE="dismissableLayer.focusOutside",Fp,xv=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Go=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=t,d=g.useContext(xv),[h,f]=g.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=g.useState({}),w=qe(e,N=>f(N)),v=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(b),A=h?v.indexOf(h):-1,R=d.layersWithOutsidePointerEventsDisabled.size>0,j=A>=E,D=KE(N=>{const _=N.target,S=[...d.branches].some(P=>P.contains(_));!j||S||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},m),V=GE(N=>{const _=N.target;[...d.branches].some(P=>P.contains(_))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},m);return $E(N=>{A===d.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),g.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Fp=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Up(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Fp)}},[h,m,n,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Up())},[h,d]),g.useEffect(()=>{const N=()=>x({});return document.addEventListener(zu,N),()=>document.removeEventListener(zu,N)},[]),a.jsx(Se.div,{...u,ref:w,style:{pointerEvents:R?j?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,V.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,D.onPointerDownCapture)})});Go.displayName=zE;var HE="DismissableLayerBranch",bv=g.forwardRef((t,e)=>{const n=g.useContext(xv),r=g.useRef(null),s=qe(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(Se.div,{...t,ref:s})});bv.displayName=HE;function KE(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){wv(WE,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function GE(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&wv(qE,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Up(){const t=new CustomEvent(zu);document.dispatchEvent(t)}function wv(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?vv(s,i):s.dispatchEvent(i)}var QE=Go,YE=bv,Ot=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},XE="Portal",Zl=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=g.useState(!1);Ot(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?gE.createPortal(a.jsx(Se.div,{...r,ref:e}),o):null});Zl.displayName=XE;function JE(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Ii=t=>{const{present:e,children:n}=t,r=ZE(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=qe(r.ref,e1(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Ii.displayName="Presence";function ZE(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[l,u]=JE(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=Va(r.current);i.current=l==="mounted"?d:"none"},[l]),Ot(()=>{const d=r.current,h=s.current;if(h!==t){const m=i.current,x=Va(d);t?u("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(h&&m!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Ot(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=x=>{const v=Va(r.current).includes(x.animationName);if(x.target===e&&v&&(u("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=x=>{x.target===e&&(i.current=Va(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Va(t){return(t==null?void 0:t.animationName)||"none"}function e1(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function gl({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=t1({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,l=sn(n),u=g.useCallback(d=>{if(i){const f=typeof d=="function"?d(t):d;f!==t&&l(f)}else s(d)},[i,t,s,l]);return[o,u]}function t1({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=sn(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var n1="VisuallyHidden",Qo=g.forwardRef((t,e)=>a.jsx(Se.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Qo.displayName=n1;var r1=Qo,Yd="ToastProvider",[Xd,s1,i1]=yv("Toast"),[_v,ML]=Jl("Toast",[i1]),[o1,ec]=_v(Yd),Tv=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,u]=g.useState(null),[d,h]=g.useState(0),f=g.useRef(!1),m=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yd}\`. Expected non-empty \`string\`.`),a.jsx(Xd.Provider,{scope:e,children:a.jsx(o1,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:g.useCallback(()=>h(x=>x+1),[]),onToastRemove:g.useCallback(()=>h(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};Tv.displayName=Yd;var Ev="ToastViewport",a1=["F8"],Wu="toast.viewportPause",qu="toast.viewportResume",Av=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=a1,label:s="Notifications ({hotkey})",...i}=t,o=ec(Ev,n),l=s1(n),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=g.useRef(null),m=qe(e,f,o.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;g.useEffect(()=>{const b=E=>{var R;r.length!==0&&r.every(j=>E[j]||E.code===j)&&((R=f.current)==null||R.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),g.useEffect(()=>{const b=u.current,E=f.current;if(w&&b&&E){const A=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(Wu);E.dispatchEvent(V),o.isClosePausedRef.current=!0}},R=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(qu);E.dispatchEvent(V),o.isClosePausedRef.current=!1}},j=V=>{!b.contains(V.relatedTarget)&&R()},D=()=>{b.contains(document.activeElement)||R()};return b.addEventListener("focusin",A),b.addEventListener("focusout",j),b.addEventListener("pointermove",A),b.addEventListener("pointerleave",D),window.addEventListener("blur",A),window.addEventListener("focus",R),()=>{b.removeEventListener("focusin",A),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",A),b.removeEventListener("pointerleave",D),window.removeEventListener("blur",A),window.removeEventListener("focus",R)}}},[w,o.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:b})=>{const A=l().map(R=>{const j=R.ref.current,D=[j,...b1(j)];return b==="forwards"?D:D.reverse()});return(b==="forwards"?A.reverse():A).flat()},[l]);return g.useEffect(()=>{const b=f.current;if(b){const E=A=>{var D,V,N;const R=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!R){const _=document.activeElement,S=A.shiftKey;if(A.target===b&&S){(D=d.current)==null||D.focus();return}const C=v({tabbingDirection:S?"backwards":"forwards"}),I=C.findIndex(U=>U===_);iu(C.slice(I+1))?A.preventDefault():S?(V=d.current)==null||V.focus():(N=h.current)==null||N.focus()}};return b.addEventListener("keydown",E),()=>b.removeEventListener("keydown",E)}},[l,v]),a.jsxs(YE,{ref:u,role:"region","aria-label":s.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(Hu,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});iu(b)}}),a.jsx(Xd.Slot,{scope:n,children:a.jsx(Se.ol,{tabIndex:-1,...i,ref:m})}),w&&a.jsx(Hu,{ref:h,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});iu(b)}})]})});Av.displayName=Ev;var Iv="ToastFocusProxy",Hu=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=ec(Iv,n);return a.jsx(Qo,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});Hu.displayName=Iv;var tc="Toast",l1="toast.swipeStart",c1="toast.swipeMove",u1="toast.swipeCancel",d1="toast.swipeEnd",Sv=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l=!0,u]=gl({prop:r,defaultProp:s,onChange:i});return a.jsx(Ii,{present:n||l,children:a.jsx(p1,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:sn(t.onPause),onResume:sn(t.onResume),onSwipeStart:fe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:fe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});Sv.displayName=tc;var[h1,f1]=_v(tc,{onClose(){}}),p1=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:x,...w}=t,v=ec(tc,n),[b,E]=g.useState(null),A=qe(e,U=>E(U)),R=g.useRef(null),j=g.useRef(null),D=s||v.duration,V=g.useRef(0),N=g.useRef(D),_=g.useRef(0),{onToastAdd:S,onToastRemove:P}=v,k=sn(()=>{var G;(b==null?void 0:b.contains(document.activeElement))&&((G=v.viewport)==null||G.focus()),o()}),C=g.useCallback(U=>{!U||U===1/0||(window.clearTimeout(_.current),V.current=new Date().getTime(),_.current=window.setTimeout(k,U))},[k]);g.useEffect(()=>{const U=v.viewport;if(U){const G=()=>{C(N.current),d==null||d()},q=()=>{const Y=new Date().getTime()-V.current;N.current=N.current-Y,window.clearTimeout(_.current),u==null||u()};return U.addEventListener(Wu,q),U.addEventListener(qu,G),()=>{U.removeEventListener(Wu,q),U.removeEventListener(qu,G)}}},[v.viewport,D,u,d,C]),g.useEffect(()=>{i&&!v.isClosePausedRef.current&&C(D)},[i,D,v.isClosePausedRef,C]),g.useEffect(()=>(S(),()=>P()),[S,P]);const I=g.useMemo(()=>b?Dv(b):null,[b]);return v.viewport?a.jsxs(a.Fragment,{children:[I&&a.jsx(m1,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),a.jsx(h1,{scope:n,onClose:k,children:Ai.createPortal(a.jsx(Xd.ItemSlot,{scope:n,children:a.jsx(QE,{asChild:!0,onEscapeKeyDown:fe(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:A,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fe(t.onKeyDown,U=>{U.key==="Escape"&&(l==null||l(U.nativeEvent),U.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:fe(t.onPointerDown,U=>{U.button===0&&(R.current={x:U.clientX,y:U.clientY})}),onPointerMove:fe(t.onPointerMove,U=>{if(!R.current)return;const G=U.clientX-R.current.x,q=U.clientY-R.current.y,Y=!!j.current,Q=["left","right"].includes(v.swipeDirection),se=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,xe=Q?se(0,G):0,Pe=Q?0:se(0,q),Me=U.pointerType==="touch"?10:2,Ie={x:xe,y:Pe},ye={originalEvent:U,delta:Ie};Y?(j.current=Ie,La(c1,f,ye,{discrete:!1})):Bp(Ie,v.swipeDirection,Me)?(j.current=Ie,La(l1,h,ye,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(G)>Me||Math.abs(q)>Me)&&(R.current=null)}),onPointerUp:fe(t.onPointerUp,U=>{const G=j.current,q=U.target;if(q.hasPointerCapture(U.pointerId)&&q.releasePointerCapture(U.pointerId),j.current=null,R.current=null,G){const Y=U.currentTarget,Q={originalEvent:U,delta:G};Bp(G,v.swipeDirection,v.swipeThreshold)?La(d1,x,Q,{discrete:!0}):La(u1,m,Q,{discrete:!0}),Y.addEventListener("click",se=>se.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),m1=t=>{const{__scopeToast:e,children:n,...r}=t,s=ec(tc,e),[i,o]=g.useState(!1),[l,u]=g.useState(!1);return v1(()=>o(!0)),g.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(Zl,{asChild:!0,children:a.jsx(Qo,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},g1="ToastTitle",Cv=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Se.div,{...r,ref:e})});Cv.displayName=g1;var y1="ToastDescription",Nv=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Se.div,{...r,ref:e})});Nv.displayName=y1;var Rv="ToastAction",Pv=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(jv,{altText:n,asChild:!0,children:a.jsx(Jd,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Rv}\`. Expected non-empty \`string\`.`),null)});Pv.displayName=Rv;var kv="ToastClose",Jd=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=f1(kv,n);return a.jsx(jv,{asChild:!0,children:a.jsx(Se.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,s.onClose)})})});Jd.displayName=kv;var jv=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Dv(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),x1(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Dv(r))}}),e}function La(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?vv(s,i):s.dispatchEvent(i)}var Bp=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function v1(t=()=>{}){const e=sn(t);Ot(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function x1(t){return t.nodeType===t.ELEMENT_NODE}function b1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function iu(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var w1=Tv,Ov=Av,Mv=Sv,Vv=Cv,Lv=Nv,Fv=Pv,Uv=Jd;function Bv(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Bv(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $v(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Bv(t))&&(r&&(r+=" "),r+=e);return r}const $p=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zp=$v,Zd=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return zp(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=$p(h)||$p(f);return s[d][m]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...x}=h;return Object.entries(x).every(w=>{let[v,b]=w;return Array.isArray(b)?b.includes({...i,...l}[v]):{...i,...l}[v]===b})?[...d,f,m]:d},[]);return zp(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zv=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},u)=>g.createElement("svg",{ref:u,...T1,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:zv("lucide",s),...l},[...o.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(E1,{ref:i,iconNode:e,className:zv(`lucide-${_1(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Yt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=Yt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=Yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=Yt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=Yt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Yt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=Yt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Yt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=Yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Yt("MousePointerClick",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=Yt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Yt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=Yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eh="-",j1=t=>{const e=O1(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(eh);return l[0]===""&&l.length!==1&&l.shift(),Hv(l,e)||D1(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},Hv=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Hv(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(eh);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Gp=/^\[(.+)\]$/,D1=t=>{if(Gp.test(t)){const e=Gp.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},O1=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return V1(Object.entries(t.classGroups),n).forEach(([i,o])=>{Ku(o,r,i,e)}),r},Ku=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Qp(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(M1(s)){Ku(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ku(o,Qp(e,i),n,r)})})},Qp=(t,e)=>{let n=t;return e.split(eh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},M1=t=>t.isThemeGetter,V1=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,L1=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Kv="!",F1=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const u=[];let d=0,h=0,f;for(let b=0;b<l.length;b++){let E=l[b];if(d===0){if(E===s&&(r||l.slice(b,b+i)===e)){u.push(l.slice(h,b)),h=b+i;continue}if(E==="/"){f=b;continue}}E==="["?d++:E==="]"&&d--}const m=u.length===0?l:l.substring(h),x=m.startsWith(Kv),w=x?m.substring(1):m,v=f&&f>h?f-h:void 0;return{modifiers:u,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},U1=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},B1=t=>({cache:L1(t.cacheSize),parseClassName:F1(t),...j1(t)}),$1=/\s+/,z1=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split($1);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:x}=n(d);let w=!!x,v=r(w?m.substring(0,x):m);if(!v){if(!w){l=d+(l.length>0?" "+l:l);continue}if(v=r(m),!v){l=d+(l.length>0?" "+l:l);continue}w=!1}const b=U1(h).join(":"),E=f?b+Kv:b,A=E+v;if(i.includes(A))continue;i.push(A);const R=s(v,w);for(let j=0;j<R.length;++j){const D=R[j];i.push(E+D)}l=d+(l.length>0?" "+l:l)}return l};function W1(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Gv(e))&&(r&&(r+=" "),r+=n);return r}const Gv=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Gv(t[r]))&&(n&&(n+=" "),n+=e);return n};function q1(t,...e){let n,r,s,i=o;function o(u){const d=e.reduce((h,f)=>f(h),t());return n=B1(d),r=n.cache.get,s=n.cache.set,i=l,l(u)}function l(u){const d=r(u);if(d)return d;const h=z1(u,n);return s(u,h),h}return function(){return i(W1.apply(null,arguments))}}const $e=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Qv=/^\[(?:([a-z-]+):)?(.+)\]$/i,H1=/^\d+\/\d+$/,K1=new Set(["px","full","screen"]),G1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Q1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Y1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,X1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zn=t=>Hs(t)||K1.has(t)||H1.test(t),pr=t=>Si(t,"length",oA),Hs=t=>!!t&&!Number.isNaN(Number(t)),ou=t=>Si(t,"number",Hs),eo=t=>!!t&&Number.isInteger(Number(t)),Z1=t=>t.endsWith("%")&&Hs(t.slice(0,-1)),he=t=>Qv.test(t),mr=t=>G1.test(t),eA=new Set(["length","size","percentage"]),tA=t=>Si(t,eA,Yv),nA=t=>Si(t,"position",Yv),rA=new Set(["image","url"]),sA=t=>Si(t,rA,lA),iA=t=>Si(t,"",aA),to=()=>!0,Si=(t,e,n)=>{const r=Qv.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},oA=t=>Q1.test(t)&&!Y1.test(t),Yv=()=>!1,aA=t=>X1.test(t),lA=t=>J1.test(t),cA=()=>{const t=$e("colors"),e=$e("spacing"),n=$e("blur"),r=$e("brightness"),s=$e("borderColor"),i=$e("borderRadius"),o=$e("borderSpacing"),l=$e("borderWidth"),u=$e("contrast"),d=$e("grayscale"),h=$e("hueRotate"),f=$e("invert"),m=$e("gap"),x=$e("gradientColorStops"),w=$e("gradientColorStopPositions"),v=$e("inset"),b=$e("margin"),E=$e("opacity"),A=$e("padding"),R=$e("saturate"),j=$e("scale"),D=$e("sepia"),V=$e("skew"),N=$e("space"),_=$e("translate"),S=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",he,e],C=()=>[he,e],I=()=>["",zn,pr],U=()=>["auto",Hs,he],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],se=()=>["","0",he],xe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Pe=()=>[Hs,he];return{cacheSize:500,separator:":",theme:{colors:[to],spacing:[zn,pr],blur:["none","",mr,he],brightness:Pe(),borderColor:[t],borderRadius:["none","","full",mr,he],borderSpacing:C(),borderWidth:I(),contrast:Pe(),grayscale:se(),hueRotate:Pe(),invert:se(),gap:C(),gradientColorStops:[t],gradientColorStopPositions:[Z1,pr],inset:k(),margin:k(),opacity:Pe(),padding:C(),saturate:Pe(),scale:Pe(),sepia:se(),skew:Pe(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[mr]}],"break-after":[{"break-after":xe()}],"break-before":[{"break-before":xe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),he]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",eo,he]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:se()}],shrink:[{shrink:se()}],order:[{order:["first","last","none",eo,he]}],"grid-cols":[{"grid-cols":[to]}],"col-start-end":[{col:["auto",{span:["full",eo,he]},he]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[to]}],"row-start-end":[{row:["auto",{span:[eo,he]},he]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[mr]},mr]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",mr,pr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ou]}],"font-family":[{font:[to]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Hs,ou]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zn,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zn,pr]}],"underline-offset":[{"underline-offset":["auto",zn,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),nA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sA]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[zn,he]}],"outline-w":[{outline:[zn,pr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[zn,pr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",mr,iA]}],"shadow-color":[{shadow:[to]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",mr,he]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[R]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:Pe()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:Pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[eo,he]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[zn,pr,ou]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uA=q1(cA);function je(...t){return uA($v(t))}const dA=w1,Xv=g.forwardRef(({className:t,...e},n)=>a.jsx(Ov,{ref:n,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Xv.displayName=Ov.displayName;const hA=Zd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Jv=g.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(Mv,{ref:r,className:je(hA({variant:e}),t),...n}));Jv.displayName=Mv.displayName;const fA=g.forwardRef(({className:t,...e},n)=>a.jsx(Fv,{ref:n,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));fA.displayName=Fv.displayName;const Zv=g.forwardRef(({className:t,...e},n)=>a.jsx(Uv,{ref:n,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(qv,{className:"h-4 w-4"})}));Zv.displayName=Uv.displayName;const e0=g.forwardRef(({className:t,...e},n)=>a.jsx(Vv,{ref:n,className:je("text-sm font-semibold",t),...e}));e0.displayName=Vv.displayName;const t0=g.forwardRef(({className:t,...e},n)=>a.jsx(Lv,{ref:n,className:je("text-sm opacity-90",t),...e}));t0.displayName=Lv.displayName;function pA(){const{toasts:t}=Wr();return a.jsxs(dA,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return a.jsxs(Jv,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(e0,{children:n}),r&&a.jsx(t0,{children:r})]}),s,a.jsx(Zv,{})]},e)}),a.jsx(Xv,{})]})}var nc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rc=typeof window>"u"||"Deno"in globalThis;function gn(){}function mA(t,e){return typeof t=="function"?t(e):t}function gA(t){return typeof t=="number"&&t>=0&&t!==1/0}function yA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yp(t,e){return typeof t=="function"?t(e):t}function vA(t,e){return typeof t=="function"?t(e):t}function Xp(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==th(o,e.options))return!1}else if(!So(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function Jp(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Io(e.options.mutationKey)!==Io(i))return!1}else if(!So(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function th(t,e){return((e==null?void 0:e.queryKeyHashFn)||Io)(t)}function Io(t){return JSON.stringify(t,(e,n)=>Gu(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function So(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!So(t[n],e[n])):!1}function n0(t,e){if(t===e)return t;const n=Zp(t)&&Zp(e);if(n||Gu(t)&&Gu(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{};let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,u++):(l[h]=n0(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:l}return e}function Zp(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Gu(t){if(!em(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!em(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function em(t){return Object.prototype.toString.call(t)==="[object Object]"}function xA(t){return new Promise(e=>{setTimeout(e,t)})}function bA(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?n0(t,e):e}function wA(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function _A(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var nh=Symbol();function r0(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===nh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var as,_r,ni,sv,TA=(sv=class extends nc{constructor(){super();ke(this,as);ke(this,_r);ke(this,ni);me(this,ni,e=>{if(!rc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,_r)||this.setEventListener(B(this,ni))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,_r))==null||e.call(this),me(this,_r,void 0))}setEventListener(e){var n;me(this,ni,e),(n=B(this,_r))==null||n.call(this),me(this,_r,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,as)!==e&&(me(this,as,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,as)=="boolean"?B(this,as):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},as=new WeakMap,_r=new WeakMap,ni=new WeakMap,sv),s0=new TA,ri,Tr,si,iv,EA=(iv=class extends nc{constructor(){super();ke(this,ri,!0);ke(this,Tr);ke(this,si);me(this,si,e=>{if(!rc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,Tr)||this.setEventListener(B(this,si))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Tr))==null||e.call(this),me(this,Tr,void 0))}setEventListener(e){var n;me(this,si,e),(n=B(this,Tr))==null||n.call(this),me(this,Tr,e(this.setOnline.bind(this)))}setOnline(e){B(this,ri)!==e&&(me(this,ri,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,ri)}},ri=new WeakMap,Tr=new WeakMap,si=new WeakMap,iv),yl=new EA;function AA(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function IA(t){return Math.min(1e3*2**t,3e4)}function i0(t){return(t??"online")==="online"?yl.isOnline():!0}var o0=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function au(t){return t instanceof o0}function a0(t){let e=!1,n=0,r=!1,s;const i=AA(),o=v=>{var b;r||(m(new o0(v)),(b=t.abort)==null||b.call(t))},l=()=>{e=!0},u=()=>{e=!1},d=()=>s0.isFocused()&&(t.networkMode==="always"||yl.isOnline())&&t.canRun(),h=()=>i0(t.networkMode)&&t.canRun(),f=v=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,v),s==null||s(),i.reject(v))},x=()=>new Promise(v=>{var b;s=E=>{(r||d())&&v(E)},(b=t.onPause)==null||b.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),w=()=>{if(r)return;let v;const b=n===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(E){v=Promise.reject(E)}Promise.resolve(v).then(f).catch(E=>{var V;if(r)return;const A=t.retry??(rc?0:3),R=t.retryDelay??IA,j=typeof R=="function"?R(n,E):R,D=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,E);if(e||!D){m(E);return}n++,(V=t.onFail)==null||V.call(t,n,E),xA(j).then(()=>d()?void 0:x()).then(()=>{e?m(E):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?w():x().then(w),i)}}function SA(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Bt=SA(),ls,ov,l0=(ov=class{constructor(){ke(this,ls)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gA(this.gcTime)&&me(this,ls,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(rc?1/0:5*60*1e3))}clearGcTimeout(){B(this,ls)&&(clearTimeout(B(this,ls)),me(this,ls,void 0))}},ls=new WeakMap,ov),ii,oi,un,Rt,Ho,cs,yn,Wn,av,CA=(av=class extends l0{constructor(n){super();ke(this,yn);ke(this,ii);ke(this,oi);ke(this,un);ke(this,Rt);ke(this,Ho);ke(this,cs);me(this,cs,!1),me(this,Ho,n.defaultOptions),this.setOptions(n.options),this.observers=[],me(this,un,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,me(this,ii,RA(this.options)),this.state=n.state??B(this,ii),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,Rt))==null?void 0:n.promise}setOptions(n){this.options={...B(this,Ho),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,un).remove(this)}setData(n,r){const s=bA(this.state.data,n,this.options);return Ct(this,yn,Wn).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Ct(this,yn,Wn).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=B(this,Rt))==null?void 0:s.promise;return(i=B(this,Rt))==null||i.cancel(n),r?r.then(gn).catch(gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,ii))}isActive(){return this.observers.some(n=>vA(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!yA(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,Rt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,Rt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,un).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,Rt)&&(B(this,cs)?B(this,Rt).cancel({revert:!0}):B(this,Rt).cancelRetry()),this.scheduleGc()),B(this,un).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ct(this,yn,Wn).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,Rt))return B(this,Rt).continueRetry(),B(this,Rt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(me(this,cs,!0),s.signal)})},o=()=>{const m=r0(this.options,r),x={queryKey:this.queryKey,meta:this.meta};return i(x),me(this,cs,!1),this.options.persister?this.options.persister(m,x,this):m(x)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(l),(d=this.options.behavior)==null||d.onFetch(l,this),me(this,oi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Ct(this,yn,Wn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const u=m=>{var x,w,v,b;au(m)&&m.silent||Ct(this,yn,Wn).call(this,{type:"error",error:m}),au(m)||((w=(x=B(this,un).config).onError)==null||w.call(x,m,this),(b=(v=B(this,un).config).onSettled)==null||b.call(v,this.state.data,m,this)),this.scheduleGc()};return me(this,Rt,a0({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var x,w,v,b;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(E){u(E);return}(w=(x=B(this,un).config).onSuccess)==null||w.call(x,m,this),(b=(v=B(this,un).config).onSettled)==null||b.call(v,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,x)=>{Ct(this,yn,Wn).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{Ct(this,yn,Wn).call(this,{type:"pause"})},onContinue:()=>{Ct(this,yn,Wn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),B(this,Rt).start()}},ii=new WeakMap,oi=new WeakMap,un=new WeakMap,Rt=new WeakMap,Ho=new WeakMap,cs=new WeakMap,yn=new WeakSet,Wn=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...NA(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return au(i)&&i.revert&&B(this,oi)?{...B(this,oi),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Bt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),B(this,un).notify({query:this,type:"updated",action:n})})},av);function NA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:i0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function RA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var An,lv,PA=(lv=class extends nc{constructor(e={}){super();ke(this,An);this.config=e,me(this,An,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??th(s,n);let o=this.get(i);return o||(o=new CA({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){B(this,An).has(e.queryHash)||(B(this,An).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,An).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,An).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Bt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,An).get(e)}getAll(){return[...B(this,An).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Xp(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Xp(e,r)):n}notify(e){Bt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Bt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Bt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},An=new WeakMap,lv),In,Ft,us,Sn,yr,cv,kA=(cv=class extends l0{constructor(n){super();ke(this,Sn);ke(this,In);ke(this,Ft);ke(this,us);this.mutationId=n.mutationId,me(this,Ft,n.mutationCache),me(this,In,[]),this.state=n.state||jA(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){B(this,In).includes(n)||(B(this,In).push(n),this.clearGcTimeout(),B(this,Ft).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){me(this,In,B(this,In).filter(r=>r!==n)),this.scheduleGc(),B(this,Ft).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){B(this,In).length||(this.state.status==="pending"?this.scheduleGc():B(this,Ft).remove(this))}continue(){var n;return((n=B(this,us))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,l,u,d,h,f,m,x,w,v,b,E,A,R,j,D,V,N,_;me(this,us,a0({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(S,P)=>{Ct(this,Sn,yr).call(this,{type:"failed",failureCount:S,error:P})},onPause:()=>{Ct(this,Sn,yr).call(this,{type:"pause"})},onContinue:()=>{Ct(this,Sn,yr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Ft).canRun(this)}));const r=this.state.status==="pending",s=!B(this,us).canStart();try{if(!r){Ct(this,Sn,yr).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=B(this,Ft).config).onMutate)==null?void 0:o.call(i,n,this));const P=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));P!==this.state.context&&Ct(this,Sn,yr).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const S=await B(this,us).start();return await((h=(d=B(this,Ft).config).onSuccess)==null?void 0:h.call(d,S,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,S,n,this.state.context)),await((w=(x=B(this,Ft).config).onSettled)==null?void 0:w.call(x,S,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,S,null,n,this.state.context)),Ct(this,Sn,yr).call(this,{type:"success",data:S}),S}catch(S){try{throw await((A=(E=B(this,Ft).config).onError)==null?void 0:A.call(E,S,n,this.state.context,this)),await((j=(R=this.options).onError)==null?void 0:j.call(R,S,n,this.state.context)),await((V=(D=B(this,Ft).config).onSettled)==null?void 0:V.call(D,void 0,S,this.state.variables,this.state.context,this)),await((_=(N=this.options).onSettled)==null?void 0:_.call(N,void 0,S,n,this.state.context)),S}finally{Ct(this,Sn,yr).call(this,{type:"error",error:S})}}finally{B(this,Ft).runNext(this)}}},In=new WeakMap,Ft=new WeakMap,us=new WeakMap,Sn=new WeakSet,yr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Bt.batch(()=>{B(this,In).forEach(s=>{s.onMutationUpdate(n)}),B(this,Ft).notify({mutation:this,type:"updated",action:n})})},cv);function jA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jt,Ko,uv,DA=(uv=class extends nc{constructor(e={}){super();ke(this,Jt);ke(this,Ko);this.config=e,me(this,Jt,new Map),me(this,Ko,Date.now())}build(e,n,r){const s=new kA({mutationCache:this,mutationId:++Ma(this,Ko)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Fa(e),r=B(this,Jt).get(n)??[];r.push(e),B(this,Jt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Fa(e);if(B(this,Jt).has(n)){const s=(r=B(this,Jt).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?B(this,Jt).delete(n):B(this,Jt).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=B(this,Jt).get(Fa(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=B(this,Jt).get(Fa(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Bt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...B(this,Jt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Jp(n,r))}findAll(e={}){return this.getAll().filter(n=>Jp(e,n))}notify(e){Bt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Bt.batch(()=>Promise.all(e.map(n=>n.continue().catch(gn))))}},Jt=new WeakMap,Ko=new WeakMap,uv);function Fa(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function tm(t){return{onFetch:(e,n)=>{var h,f,m,x,w;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((x=e.state.data)==null?void 0:x.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let v=!1;const b=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=r0(e.options,e.fetchOptions),A=async(R,j,D)=>{if(v)return Promise.reject();if(j==null&&R.pages.length)return Promise.resolve(R);const V={queryKey:e.queryKey,pageParam:j,direction:D?"backward":"forward",meta:e.options.meta};b(V);const N=await E(V),{maxPages:_}=e.options,S=D?_A:wA;return{pages:S(R.pages,N,_),pageParams:S(R.pageParams,j,_)}};if(s&&i.length){const R=s==="backward",j=R?OA:nm,D={pages:i,pageParams:o},V=j(r,D);l=await A(D,V,R)}else{const R=t??i.length;do{const j=u===0?o[0]??r.initialPageParam:nm(r,l);if(u>0&&j==null)break;l=await A(l,j),u++}while(u<R)}return l};e.options.persister?e.fetchFn=()=>{var v,b;return(b=(v=e.options).persister)==null?void 0:b.call(v,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function nm(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function OA(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ze,Er,Ar,ai,li,Ir,ci,ui,dv,MA=(dv=class{constructor(t={}){ke(this,Ze);ke(this,Er);ke(this,Ar);ke(this,ai);ke(this,li);ke(this,Ir);ke(this,ci);ke(this,ui);me(this,Ze,t.queryCache||new PA),me(this,Er,t.mutationCache||new DA),me(this,Ar,t.defaultOptions||{}),me(this,ai,new Map),me(this,li,new Map),me(this,Ir,0)}mount(){Ma(this,Ir)._++,B(this,Ir)===1&&(me(this,ci,s0.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,Ze).onFocus())})),me(this,ui,yl.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,Ze).onOnline())})))}unmount(){var t,e;Ma(this,Ir)._--,B(this,Ir)===0&&((t=B(this,ci))==null||t.call(this),me(this,ci,void 0),(e=B(this,ui))==null||e.call(this),me(this,ui,void 0))}isFetching(t){return B(this,Ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,Er).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,Ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=B(this,Ze).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Yp(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return B(this,Ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=B(this,Ze).get(r.queryHash),i=s==null?void 0:s.state.data,o=mA(e,i);if(o!==void 0)return B(this,Ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Bt.batch(()=>B(this,Ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,Ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,Ze);Bt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,Ze),r={type:"active",...t};return Bt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Bt.batch(()=>B(this,Ze).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(gn).catch(gn)}invalidateQueries(t={},e={}){return Bt.batch(()=>{if(B(this,Ze).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Bt.batch(()=>B(this,Ze).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(gn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(gn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,Ze).build(this,e);return n.isStaleByTime(Yp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gn).catch(gn)}fetchInfiniteQuery(t){return t.behavior=tm(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gn).catch(gn)}ensureInfiniteQueryData(t){return t.behavior=tm(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return yl.isOnline()?B(this,Er).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,Ze)}getMutationCache(){return B(this,Er)}getDefaultOptions(){return B(this,Ar)}setDefaultOptions(t){me(this,Ar,t)}setQueryDefaults(t,e){B(this,ai).set(Io(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,ai).values()];let n={};return e.forEach(r=>{So(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){B(this,li).set(Io(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,li).values()];let n={};return e.forEach(r=>{So(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,Ar).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=th(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===nh&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,Ar).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,Ze).clear(),B(this,Er).clear()}},Ze=new WeakMap,Er=new WeakMap,Ar=new WeakMap,ai=new WeakMap,li=new WeakMap,Ir=new WeakMap,ci=new WeakMap,ui=new WeakMap,dv),VA=g.createContext(void 0),LA=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(VA.Provider,{value:t,children:e})),FA=yE.useId||(()=>{}),UA=0;function Ks(t){const[e,n]=g.useState(FA());return Ot(()=>{n(r=>r??String(UA++))},[t]),e?`radix-${e}`:""}const BA=["top","right","bottom","left"],Or=Math.min,Zt=Math.max,vl=Math.round,Ua=Math.floor,Mr=t=>({x:t,y:t}),$A={left:"right",right:"left",bottom:"top",top:"bottom"},zA={start:"end",end:"start"};function Qu(t,e,n){return Zt(t,Or(e,n))}function sr(t,e){return typeof t=="function"?t(e):t}function ir(t){return t.split("-")[0]}function Ci(t){return t.split("-")[1]}function rh(t){return t==="x"?"y":"x"}function sh(t){return t==="y"?"height":"width"}function Vr(t){return["top","bottom"].includes(ir(t))?"y":"x"}function ih(t){return rh(Vr(t))}function WA(t,e,n){n===void 0&&(n=!1);const r=Ci(t),s=ih(t),i=sh(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=xl(o)),[o,xl(o)]}function qA(t){const e=xl(t);return[Yu(t),e,Yu(e)]}function Yu(t){return t.replace(/start|end/g,e=>zA[e])}function HA(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function KA(t,e,n,r){const s=Ci(t);let i=HA(ir(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Yu)))),i}function xl(t){return t.replace(/left|right|bottom|top/g,e=>$A[e])}function GA(t){return{top:0,right:0,bottom:0,left:0,...t}}function c0(t){return typeof t!="number"?GA(t):{top:t,right:t,bottom:t,left:t}}function bl(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function rm(t,e,n){let{reference:r,floating:s}=t;const i=Vr(e),o=ih(e),l=sh(o),u=ir(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let x;switch(u){case"top":x={x:h,y:r.y-s.height};break;case"bottom":x={x:h,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:f};break;case"left":x={x:r.x-s.width,y:f};break;default:x={x:r.x,y:r.y}}switch(Ci(e)){case"start":x[o]-=m*(n&&d?-1:1);break;case"end":x[o]+=m*(n&&d?-1:1);break}return x}const QA=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=rm(d,r,u),m=r,x={},w=0;for(let v=0;v<l.length;v++){const{name:b,fn:E}=l[v],{x:A,y:R,data:j,reset:D}=await E({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});h=A??h,f=R??f,x={...x,[b]:{...x[b],...j}},D&&w<=50&&(w++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=rm(d,m,u)),v=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:x}};async function Co(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:x=0}=sr(e,t),w=c0(x),b=l[m?f==="floating"?"reference":"floating":f],E=bl(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:u})),A=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},D=bl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:R,strategy:u}):A);return{top:(E.top-D.top+w.top)/j.y,bottom:(D.bottom-E.bottom+w.bottom)/j.y,left:(E.left-D.left+w.left)/j.x,right:(D.right-E.right+w.right)/j.x}}const YA=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:u}=e,{element:d,padding:h=0}=sr(t,e)||{};if(d==null)return{};const f=c0(h),m={x:n,y:r},x=ih(s),w=sh(x),v=await o.getDimensions(d),b=x==="y",E=b?"top":"left",A=b?"bottom":"right",R=b?"clientHeight":"clientWidth",j=i.reference[w]+i.reference[x]-m[x]-i.floating[w],D=m[x]-i.reference[x],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=V?V[R]:0;(!N||!await(o.isElement==null?void 0:o.isElement(V)))&&(N=l.floating[R]||i.floating[w]);const _=j/2-D/2,S=N/2-v[w]/2-1,P=Or(f[E],S),k=Or(f[A],S),C=P,I=N-v[w]-k,U=N/2-v[w]/2+_,G=Qu(C,U,I),q=!u.arrow&&Ci(s)!=null&&U!==G&&i.reference[w]/2-(U<C?P:k)-v[w]/2<0,Y=q?U<C?U-C:U-I:0;return{[x]:m[x]+Y,data:{[x]:G,centerOffset:U-G-Y,...q&&{alignmentOffset:Y}},reset:q}}}),XA=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...b}=sr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=ir(s),A=Vr(l),R=ir(l)===l,j=await(u.isRTL==null?void 0:u.isRTL(d.floating)),D=m||(R||!v?[xl(l)]:qA(l)),V=w!=="none";!m&&V&&D.push(...KA(l,v,w,j));const N=[l,...D],_=await Co(e,b),S=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&S.push(_[E]),f){const U=WA(s,o,j);S.push(_[U[0]],_[U[1]])}if(P=[...P,{placement:s,overflows:S}],!S.every(U=>U<=0)){var k,C;const U=(((k=i.flip)==null?void 0:k.index)||0)+1,G=N[U];if(G)return{data:{index:U,overflows:P},reset:{placement:G}};let q=(C=P.filter(Y=>Y.overflows[0]<=0).sort((Y,Q)=>Y.overflows[1]-Q.overflows[1])[0])==null?void 0:C.placement;if(!q)switch(x){case"bestFit":{var I;const Y=(I=P.filter(Q=>{if(V){const se=Vr(Q.placement);return se===A||se==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(se=>se>0).reduce((se,xe)=>se+xe,0)]).sort((Q,se)=>Q[1]-se[1])[0])==null?void 0:I[0];Y&&(q=Y);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function sm(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function im(t){return BA.some(e=>t[e]>=0)}const JA=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=sr(t,e);switch(r){case"referenceHidden":{const i=await Co(e,{...s,elementContext:"reference"}),o=sm(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:im(o)}}}case"escaped":{const i=await Co(e,{...s,altBoundary:!0}),o=sm(i,n.floating);return{data:{escapedOffsets:o,escaped:im(o)}}}default:return{}}}}};async function ZA(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ir(n),l=Ci(n),u=Vr(n)==="y",d=["left","top"].includes(o)?-1:1,h=i&&u?-1:1,f=sr(e,t);let{mainAxis:m,crossAxis:x,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(x=l==="end"?w*-1:w),u?{x:x*h,y:m*d}:{x:m*d,y:x*h}}const eI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,u=await ZA(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},tI=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:E,y:A}=b;return{x:E,y:A}}},...u}=sr(t,e),d={x:n,y:r},h=await Co(e,u),f=Vr(ir(s)),m=rh(f);let x=d[m],w=d[f];if(i){const b=m==="y"?"top":"left",E=m==="y"?"bottom":"right",A=x+h[b],R=x-h[E];x=Qu(A,x,R)}if(o){const b=f==="y"?"top":"left",E=f==="y"?"bottom":"right",A=w+h[b],R=w-h[E];w=Qu(A,w,R)}const v=l.fn({...e,[m]:x,[f]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[f]:o}}}}}},nI=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=sr(t,e),h={x:n,y:r},f=Vr(s),m=rh(f);let x=h[m],w=h[f];const v=sr(l,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(u){const R=m==="y"?"height":"width",j=i.reference[m]-i.floating[R]+b.mainAxis,D=i.reference[m]+i.reference[R]-b.mainAxis;x<j?x=j:x>D&&(x=D)}if(d){var E,A;const R=m==="y"?"width":"height",j=["top","left"].includes(ir(s)),D=i.reference[f]-i.floating[R]+(j&&((E=o.offset)==null?void 0:E[f])||0)+(j?0:b.crossAxis),V=i.reference[f]+i.reference[R]+(j?0:((A=o.offset)==null?void 0:A[f])||0)-(j?b.crossAxis:0);w<D?w=D:w>V&&(w=V)}return{[m]:x,[f]:w}}}},rI=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:u=()=>{},...d}=sr(t,e),h=await Co(e,d),f=ir(s),m=Ci(s),x=Vr(s)==="y",{width:w,height:v}=i.floating;let b,E;f==="top"||f==="bottom"?(b=f,E=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(E=f,b=m==="end"?"top":"bottom");const A=v-h.top-h.bottom,R=w-h.left-h.right,j=Or(v-h[b],A),D=Or(w-h[E],R),V=!e.middlewareData.shift;let N=j,_=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=R),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=A),V&&!m){const P=Zt(h.left,0),k=Zt(h.right,0),C=Zt(h.top,0),I=Zt(h.bottom,0);x?_=w-2*(P!==0||k!==0?P+k:Zt(h.left,h.right)):N=v-2*(C!==0||I!==0?C+I:Zt(h.top,h.bottom))}await u({...e,availableWidth:_,availableHeight:N});const S=await o.getDimensions(l.floating);return w!==S.width||v!==S.height?{reset:{rects:!0}}:{}}}};function sc(){return typeof window<"u"}function Ni(t){return u0(t)?(t.nodeName||"").toLowerCase():"#document"}function tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ln(t){var e;return(e=(u0(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function u0(t){return sc()?t instanceof Node||t instanceof tn(t).Node:!1}function bn(t){return sc()?t instanceof Element||t instanceof tn(t).Element:!1}function Dn(t){return sc()?t instanceof HTMLElement||t instanceof tn(t).HTMLElement:!1}function om(t){return!sc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tn(t).ShadowRoot}function Yo(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=wn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function sI(t){return["table","td","th"].includes(Ni(t))}function ic(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function oh(t){const e=ah(),n=bn(t)?wn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function iI(t){let e=Lr(t);for(;Dn(e)&&!di(e);){if(oh(e))return e;if(ic(e))return null;e=Lr(e)}return null}function ah(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function di(t){return["html","body","#document"].includes(Ni(t))}function wn(t){return tn(t).getComputedStyle(t)}function oc(t){return bn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lr(t){if(Ni(t)==="html")return t;const e=t.assignedSlot||t.parentNode||om(t)&&t.host||Ln(t);return om(e)?e.host:e}function d0(t){const e=Lr(t);return di(e)?t.ownerDocument?t.ownerDocument.body:t.body:Dn(e)&&Yo(e)?e:d0(e)}function No(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=d0(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=tn(s);if(i){const l=Xu(o);return e.concat(o,o.visualViewport||[],Yo(s)?s:[],l&&n?No(l):[])}return e.concat(s,No(s,[],n))}function Xu(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function h0(t){const e=wn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Dn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=vl(n)!==i||vl(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function lh(t){return bn(t)?t:t.contextElement}function Gs(t){const e=lh(t);if(!Dn(e))return Mr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=h0(e);let o=(i?vl(n.width):n.width)/r,l=(i?vl(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const oI=Mr(0);function f0(t){const e=tn(t);return!ah()||!e.visualViewport?oI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aI(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tn(t)?!1:e}function gs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=lh(t);let o=Mr(1);e&&(r?bn(r)&&(o=Gs(r)):o=Gs(t));const l=aI(i,n,r)?f0(i):Mr(0);let u=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=tn(i),x=r&&bn(r)?tn(r):r;let w=m,v=Xu(w);for(;v&&r&&x!==w;){const b=Gs(v),E=v.getBoundingClientRect(),A=wn(v),R=E.left+(v.clientLeft+parseFloat(A.paddingLeft))*b.x,j=E.top+(v.clientTop+parseFloat(A.paddingTop))*b.y;u*=b.x,d*=b.y,h*=b.x,f*=b.y,u+=R,d+=j,w=tn(v),v=Xu(w)}}return bl({width:h,height:f,x:u,y:d})}function lI(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ln(r),l=e?ic(e.floating):!1;if(r===o||l&&i)return n;let u={scrollLeft:0,scrollTop:0},d=Mr(1);const h=Mr(0),f=Dn(r);if((f||!f&&!i)&&((Ni(r)!=="body"||Yo(o))&&(u=oc(r)),Dn(r))){const m=gs(r);d=Gs(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x,y:n.y*d.y-u.scrollTop*d.y+h.y}}function cI(t){return Array.from(t.getClientRects())}function Ju(t,e){const n=oc(t).scrollLeft;return e?e.left+n:gs(Ln(t)).left+n}function uI(t){const e=Ln(t),n=oc(t),r=t.ownerDocument.body,s=Zt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Zt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ju(t);const l=-n.scrollTop;return wn(r).direction==="rtl"&&(o+=Zt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function dI(t,e){const n=tn(t),r=Ln(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){i=s.width,o=s.height;const d=ah();(!d||d&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:l,y:u}}function hI(t,e){const n=gs(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Dn(t)?Gs(t):Mr(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,u=s*i.x,d=r*i.y;return{width:o,height:l,x:u,y:d}}function am(t,e,n){let r;if(e==="viewport")r=dI(t,n);else if(e==="document")r=uI(Ln(t));else if(bn(e))r=hI(e,n);else{const s=f0(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return bl(r)}function p0(t,e){const n=Lr(t);return n===e||!bn(n)||di(n)?!1:wn(n).position==="fixed"||p0(n,e)}function fI(t,e){const n=e.get(t);if(n)return n;let r=No(t,[],!1).filter(l=>bn(l)&&Ni(l)!=="body"),s=null;const i=wn(t).position==="fixed";let o=i?Lr(t):t;for(;bn(o)&&!di(o);){const l=wn(o),u=oh(o);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Yo(o)&&!u&&p0(t,o))?r=r.filter(h=>h!==o):s=l,o=Lr(o)}return e.set(t,r),r}function pI(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?ic(e)?[]:fI(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((d,h)=>{const f=am(e,h,s);return d.top=Zt(f.top,d.top),d.right=Or(f.right,d.right),d.bottom=Or(f.bottom,d.bottom),d.left=Zt(f.left,d.left),d},am(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function mI(t){const{width:e,height:n}=h0(t);return{width:e,height:n}}function gI(t,e,n){const r=Dn(e),s=Ln(e),i=n==="fixed",o=gs(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const u=Mr(0);if(r||!r&&!i)if((Ni(e)!=="body"||Yo(s))&&(l=oc(e)),r){const x=gs(e,!0,i,e);u.x=x.x+e.clientLeft,u.y=x.y+e.clientTop}else s&&(u.x=Ju(s));let d=0,h=0;if(s&&!r&&!i){const x=s.getBoundingClientRect();h=x.top+l.scrollTop,d=x.left+l.scrollLeft-Ju(s,x)}const f=o.left+l.scrollLeft-u.x-d,m=o.top+l.scrollTop-u.y-h;return{x:f,y:m,width:o.width,height:o.height}}function lu(t){return wn(t).position==="static"}function lm(t,e){if(!Dn(t)||wn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ln(t)===n&&(n=n.ownerDocument.body),n}function m0(t,e){const n=tn(t);if(ic(t))return n;if(!Dn(t)){let s=Lr(t);for(;s&&!di(s);){if(bn(s)&&!lu(s))return s;s=Lr(s)}return n}let r=lm(t,e);for(;r&&sI(r)&&lu(r);)r=lm(r,e);return r&&di(r)&&lu(r)&&!oh(r)?n:r||iI(t)||n}const yI=async function(t){const e=this.getOffsetParent||m0,n=this.getDimensions,r=await n(t.floating);return{reference:gI(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vI(t){return wn(t).direction==="rtl"}const xI={convertOffsetParentRelativeRectToViewportRelativeRect:lI,getDocumentElement:Ln,getClippingRect:pI,getOffsetParent:m0,getElementRects:yI,getClientRects:cI,getDimensions:mI,getScale:Gs,isElement:bn,isRTL:vI};function bI(t,e){let n=null,r;const s=Ln(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const{left:d,top:h,width:f,height:m}=t.getBoundingClientRect();if(l||e(),!f||!m)return;const x=Ua(h),w=Ua(s.clientWidth-(d+f)),v=Ua(s.clientHeight-(h+m)),b=Ua(d),A={rootMargin:-x+"px "+-w+"px "+-v+"px "+-b+"px",threshold:Zt(0,Or(1,u))||1};let R=!0;function j(D){const V=D[0].intersectionRatio;if(V!==u){if(!R)return o();V?o(!1,V):r=setTimeout(()=>{o(!1,1e-7)},1e3)}R=!1}try{n=new IntersectionObserver(j,{...A,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,A)}n.observe(t)}return o(!0),i}function wI(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=lh(t),h=s||i?[...d?No(d):[],...No(e)]:[];h.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const f=d&&l?bI(d,n):null;let m=-1,x=null;o&&(x=new ResizeObserver(E=>{let[A]=E;A&&A.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var R;(R=x)==null||R.observe(e)})),n()}),d&&!u&&x.observe(d),x.observe(e));let w,v=u?gs(t):null;u&&b();function b(){const E=gs(t);v&&(E.x!==v.x||E.y!==v.y||E.width!==v.width||E.height!==v.height)&&n(),v=E,w=requestAnimationFrame(b)}return n(),()=>{var E;h.forEach(A=>{s&&A.removeEventListener("scroll",n),i&&A.removeEventListener("resize",n)}),f==null||f(),(E=x)==null||E.disconnect(),x=null,u&&cancelAnimationFrame(w)}}const _I=eI,TI=tI,EI=XA,AI=rI,II=JA,cm=YA,SI=nI,CI=(t,e,n)=>{const r=new Map,s={platform:xI,...n},i={...s.platform,_c:r};return QA(t,e,{...s,platform:i})};var tl=typeof document<"u"?g.useLayoutEffect:g.useEffect;function wl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wl(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!wl(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function g0(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function um(t,e){const n=g0(t);return Math.round(e*n)/n}function cu(t){const e=g.useRef(t);return tl(()=>{e.current=t}),e}function NI(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[h,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,x]=g.useState(r);wl(m,r)||x(r);const[w,v]=g.useState(null),[b,E]=g.useState(null),A=g.useCallback(Q=>{Q!==V.current&&(V.current=Q,v(Q))},[]),R=g.useCallback(Q=>{Q!==N.current&&(N.current=Q,E(Q))},[]),j=i||w,D=o||b,V=g.useRef(null),N=g.useRef(null),_=g.useRef(h),S=u!=null,P=cu(u),k=cu(s),C=cu(d),I=g.useCallback(()=>{if(!V.current||!N.current)return;const Q={placement:e,strategy:n,middleware:m};k.current&&(Q.platform=k.current),CI(V.current,N.current,Q).then(se=>{const xe={...se,isPositioned:C.current!==!1};U.current&&!wl(_.current,xe)&&(_.current=xe,Ai.flushSync(()=>{f(xe)}))})},[m,e,n,k,C]);tl(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(Q=>({...Q,isPositioned:!1})))},[d]);const U=g.useRef(!1);tl(()=>(U.current=!0,()=>{U.current=!1}),[]),tl(()=>{if(j&&(V.current=j),D&&(N.current=D),j&&D){if(P.current)return P.current(j,D,I);I()}},[j,D,I,P,S]);const G=g.useMemo(()=>({reference:V,floating:N,setReference:A,setFloating:R}),[A,R]),q=g.useMemo(()=>({reference:j,floating:D}),[j,D]),Y=g.useMemo(()=>{const Q={position:n,left:0,top:0};if(!q.floating)return Q;const se=um(q.floating,h.x),xe=um(q.floating,h.y);return l?{...Q,transform:"translate("+se+"px, "+xe+"px)",...g0(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:se,top:xe}},[n,l,q.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:I,refs:G,elements:q,floatingStyles:Y}),[h,I,G,q,Y])}const RI=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?cm({element:r.current,padding:s}).fn(n):{}:r?cm({element:r,padding:s}).fn(n):{}}}},PI=(t,e)=>({..._I(t),options:[t,e]}),kI=(t,e)=>({...TI(t),options:[t,e]}),jI=(t,e)=>({...SI(t),options:[t,e]}),DI=(t,e)=>({...EI(t),options:[t,e]}),OI=(t,e)=>({...AI(t),options:[t,e]}),MI=(t,e)=>({...II(t),options:[t,e]}),VI=(t,e)=>({...RI(t),options:[t,e]});var LI="Arrow",y0=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx(Se.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});y0.displayName=LI;var FI=y0;function UI(t,e=[]){let n=[];function r(i,o){const l=g.createContext(o),u=n.length;n=[...n,o];function d(f){const{scope:m,children:x,...w}=f,v=(m==null?void 0:m[t][u])||l,b=g.useMemo(()=>w,Object.values(w));return a.jsx(v.Provider,{value:b,children:x})}function h(f,m){const x=(m==null?void 0:m[t][u])||l,w=g.useContext(x);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[r,BI(s,...e)]}function BI(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:u,scopeName:d})=>{const f=u(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function $I(t){const[e,n]=g.useState(void 0);return Ot(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ch="Popper",[v0,ac]=UI(ch),[zI,x0]=v0(ch),b0=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return a.jsx(zI,{scope:e,anchor:r,onAnchorChange:s,children:n})};b0.displayName=ch;var w0="PopperAnchor",_0=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=x0(w0,n),o=g.useRef(null),l=qe(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(Se.div,{...s,ref:l})});_0.displayName=w0;var uh="PopperContent",[WI,qI]=v0(uh),T0=g.forwardRef((t,e)=>{var ee,Ce,Ke,be,ge,pe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:x="optimized",onPlaced:w,...v}=t,b=x0(uh,n),[E,A]=g.useState(null),R=qe(e,Xe=>A(Xe)),[j,D]=g.useState(null),V=$I(j),N=(V==null?void 0:V.width)??0,_=(V==null?void 0:V.height)??0,S=r+(i!=="center"?"-"+i:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(d)?d:[d],C=k.length>0,I={padding:P,boundary:k.filter(KI),altBoundary:C},{refs:U,floatingStyles:G,placement:q,isPositioned:Y,middlewareData:Q}=NI({strategy:"fixed",placement:S,whileElementsMounted:(...Xe)=>wI(...Xe,{animationFrame:x==="always"}),elements:{reference:b.anchor},middleware:[PI({mainAxis:s+_,alignmentAxis:o}),u&&kI({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?jI():void 0,...I}),u&&DI({...I}),OI({...I,apply:({elements:Xe,rects:pt,availableWidth:zt,availableHeight:ht})=>{const{width:At,height:F}=pt.reference,W=Xe.floating.style;W.setProperty("--radix-popper-available-width",`${zt}px`),W.setProperty("--radix-popper-available-height",`${ht}px`),W.setProperty("--radix-popper-anchor-width",`${At}px`),W.setProperty("--radix-popper-anchor-height",`${F}px`)}}),j&&VI({element:j,padding:l}),GI({arrowWidth:N,arrowHeight:_}),m&&MI({strategy:"referenceHidden",...I})]}),[se,xe]=I0(q),Pe=sn(w);Ot(()=>{Y&&(Pe==null||Pe())},[Y,Pe]);const Me=(ee=Q.arrow)==null?void 0:ee.x,Ie=(Ce=Q.arrow)==null?void 0:Ce.y,ye=((Ke=Q.arrow)==null?void 0:Ke.centerOffset)!==0,[nt,He]=g.useState();return Ot(()=>{E&&He(window.getComputedStyle(E).zIndex)},[E]),a.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:Y?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:nt,"--radix-popper-transform-origin":[(be=Q.transformOrigin)==null?void 0:be.x,(ge=Q.transformOrigin)==null?void 0:ge.y].join(" "),...((pe=Q.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(WI,{scope:n,placedSide:se,onArrowChange:D,arrowX:Me,arrowY:Ie,shouldHideArrow:ye,children:a.jsx(Se.div,{"data-side":se,"data-align":xe,...v,ref:R,style:{...v.style,animation:Y?void 0:"none"}})})})});T0.displayName=uh;var E0="PopperArrow",HI={top:"bottom",right:"left",bottom:"top",left:"right"},A0=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=qI(E0,r),o=HI[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(FI,{...s,ref:n,style:{...s.style,display:"block"}})})});A0.displayName=E0;function KI(t){return t!==null}var GI=t=>({name:"transformOrigin",options:t,fn(e){var b,E,A;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[d,h]=I0(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((E=s.arrow)==null?void 0:E.x)??0)+l/2,x=(((A=s.arrow)==null?void 0:A.y)??0)+u/2;let w="",v="";return d==="bottom"?(w=o?f:`${m}px`,v=`${-u}px`):d==="top"?(w=o?f:`${m}px`,v=`${r.floating.height+u}px`):d==="right"?(w=`${-u}px`,v=o?f:`${x}px`):d==="left"&&(w=`${r.floating.width+u}px`,v=o?f:`${x}px`),{data:{x:w,y:v}}}});function I0(t){const[e,n="center"]=t.split("-");return[e,n]}var QI=b0,S0=_0,C0=T0,N0=A0,[lc,FL]=Jl("Tooltip",[ac]),dh=ac(),R0="TooltipProvider",YI=700,dm="tooltip.open",[XI,P0]=lc(R0),k0=t=>{const{__scopeTooltip:e,delayDuration:n=YI,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,l]=g.useState(!0),u=g.useRef(!1),d=g.useRef(0);return g.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),a.jsx(XI,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:g.useCallback(h=>{u.current=h},[]),disableHoverableContent:s,children:i})};k0.displayName=R0;var j0="Tooltip",[UL,cc]=lc(j0),Zu="TooltipTrigger",JI=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=cc(Zu,n),i=P0(Zu,n),o=dh(n),l=g.useRef(null),u=qe(e,l,s.onTriggerChange),d=g.useRef(!1),h=g.useRef(!1),f=g.useCallback(()=>d.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(S0,{asChild:!0,...o,children:a.jsx(Se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:fe(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:fe(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:fe(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:fe(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:fe(t.onBlur,s.onClose),onClick:fe(t.onClick,s.onClose)})})});JI.displayName=Zu;var ZI="TooltipPortal",[BL,eS]=lc(ZI,{forceMount:void 0}),hi="TooltipContent",D0=g.forwardRef((t,e)=>{const n=eS(hi,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=cc(hi,t.__scopeTooltip);return a.jsx(Ii,{present:r||o.open,children:o.disableHoverableContent?a.jsx(O0,{side:s,...i,ref:e}):a.jsx(tS,{side:s,...i,ref:e})})}),tS=g.forwardRef((t,e)=>{const n=cc(hi,t.__scopeTooltip),r=P0(hi,t.__scopeTooltip),s=g.useRef(null),i=qe(e,s),[o,l]=g.useState(null),{trigger:u,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,m=g.useCallback(()=>{l(null),f(!1)},[f]),x=g.useCallback((w,v)=>{const b=w.currentTarget,E={x:w.clientX,y:w.clientY},A=iS(E,b.getBoundingClientRect()),R=oS(E,A),j=aS(v.getBoundingClientRect()),D=cS([...R,...j]);l(D),f(!0)},[f]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(u&&h){const w=b=>x(b,h),v=b=>x(b,u);return u.addEventListener("pointerleave",w),h.addEventListener("pointerleave",v),()=>{u.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",v)}}},[u,h,x,m]),g.useEffect(()=>{if(o){const w=v=>{const b=v.target,E={x:v.clientX,y:v.clientY},A=(u==null?void 0:u.contains(b))||(h==null?void 0:h.contains(b)),R=!lS(E,o);A?m():R&&(m(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[u,h,o,d,m]),a.jsx(O0,{...t,ref:i})}),[nS,rS]=lc(j0,{isInside:!1}),O0=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,u=cc(hi,n),d=dh(n),{onClose:h}=u;return g.useEffect(()=>(document.addEventListener(dm,h),()=>document.removeEventListener(dm,h)),[h]),g.useEffect(()=>{if(u.trigger){const f=m=>{const x=m.target;x!=null&&x.contains(u.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,h]),a.jsx(Go,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:a.jsxs(C0,{"data-state":u.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(gv,{children:r}),a.jsx(nS,{scope:n,isInside:!0,children:a.jsx(r1,{id:u.contentId,role:"tooltip",children:s||r})})]})})});D0.displayName=hi;var M0="TooltipArrow",sS=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=dh(n);return rS(M0,n).isInside?null:a.jsx(N0,{...s,...r,ref:e})});sS.displayName=M0;function iS(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function oS(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function aS(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function lS(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,u=e[i].y,d=e[o].x,h=e[o].y;u>r!=h>r&&n<(d-l)*(r-u)/(h-u)+l&&(s=!s)}return s}function cS(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),uS(e)}function uS(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var dS=k0,V0=D0;const hS=dS,fS=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(V0,{ref:r,sideOffset:e,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));fS.displayName=V0.displayName;const pS=Zd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ms:"button";return a.jsx(o,{className:je(pS({variant:e,size:n,className:t})),ref:i,...s})});Z.displayName="Button";var L0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hm=Ut.createContext&&Ut.createContext(L0),mS=["attr","size","title"];function gS(t,e){if(t==null)return{};var n=yS(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yS(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(this,arguments)}function fm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Tl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fm(Object(n),!0).forEach(function(r){vS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vS(t,e,n){return e=xS(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xS(t){var e=bS(t,"string");return typeof e=="symbol"?e:e+""}function bS(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F0(t){return t&&t.map((e,n)=>Ut.createElement(e.tag,Tl({key:n},e.attr),F0(e.child)))}function dt(t){return e=>Ut.createElement(wS,_l({attr:Tl({},t.attr)},e),F0(t.child))}function wS(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=gS(t,mS),l=s||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Ut.createElement("svg",_l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:Tl(Tl({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Ut.createElement("title",null,i),t.children)};return hm!==void 0?Ut.createElement(hm.Consumer,null,n=>e(n)):e(L0)}function _S(t){return dt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"},child:[]}]})(t)}function ed(t){return dt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2"},child:[]}]})(t)}function U0(t){return dt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"},child:[]}]})(t)}function td(t){return dt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v8A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-8A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5m1.886 6.914L15 7.151V12.5a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5V7.15l6.614 1.764a1.5 1.5 0 0 0 .772 0M1.5 4h13a.5.5 0 0 1 .5.5v1.616L8.129 7.948a.5.5 0 0 1-.258 0L1 6.116V4.5a.5.5 0 0 1 .5-.5"},child:[]}]})(t)}function nd(t){return dt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM4 5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z"},child:[]},{tag:"path",attr:{d:"M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm11 0H3v14h3v-2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V15h3z"},child:[]}]})(t)}function TS(t){return dt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"},child:[]}]})(t)}function El(t){return dt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73z"},child:[]}]})(t)}function B0(t){return dt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"},child:[]}]})(t)}function $0(t){return dt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5z"},child:[]}]})(t)}function ES(t){return dt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a2 2 0 0 0-.453-.618A5.98 5.98 0 0 1 2 6m6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1"},child:[]}]})(t)}function hh(t){return dt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"},child:[]}]})(t)}function fh(t){return dt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325"},child:[]}]})(t)}function AS(t){return dt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"},child:[]}]})(t)}function ds(t){return dt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(t)}const Ri=({theme:t,setIsSideMenuOpen:e,searchQuery:n,setSearchQuery:r,profileElement:s})=>{const i=Es(),o=As(),l=g.useRef(null),[u,d]=g.useState(!1),h=o.pathname==="/",f=o.pathname.startsWith("/auth/"),m=!h&&!f,x=!h&&!f;g.useEffect(()=>{const v=b=>{l.current&&!l.current.contains(b.target)&&d(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const w=()=>{i("/")};return a.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white dark:bg-gray-900 border-b border-gray-300 dark:border-gray-700",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-1",children:a.jsxs("div",{className:"flex justify-between h-16 items-center",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-shrink-0 min-w-0",children:[a.jsx("button",{onClick:()=>e(v=>!v),className:"text-gray-600 dark:text-gray-300 sm:hidden",children:a.jsx(hh,{className:"h-6 w-6"})}),a.jsx(qt,{to:"/",className:"text-lg sm:text-2xl md:text-2xl lg:text-3xl font-extrabold text-primary dark:text-dark-foreground tracking-tight hover:opacity-80 transition-opacity truncate",children:a.jsx("span",{className:"xs:inline",children:"Grow With Me"})})]}),a.jsx("div",{className:"hidden sm:flex justify-center flex-grow px-4",children:x&&a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx("input",{type:"text",placeholder:"Search...",value:n,onChange:v=>r(v.target.value),className:"w-full p-2 pl-10 border border-gray-300 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-primary dark:focus:ring-blue-400 dark:bg-gray-800 dark:border-gray-700 dark:text-white"}),a.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-200"})]})}),a.jsx("div",{className:"flex gap-2 sm:gap-4 items-center justify-end flex-shrink-0",children:m?a.jsxs(a.Fragment,{children:[a.jsx(Z,{onClick:w,className:"text-white shadow-lg rounded-full bg-black hover:bg-gray-700 dark:bg-blue-600 dark:hover:bg-blue-500 transform transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-xl active:scale-95 active:shadow-md",children:"Log Out"}),s]}):h&&a.jsxs("div",{className:"relative",ref:l,children:[a.jsxs(Z,{onClick:()=>d(!u),className:"text-white shadow-lg bg-gradient-to-r from-primary to-blue-400 hover:from-primary/90 hover:to-blue-500 transform transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-xl active:scale-95 active:shadow-md flex items-center gap-2",children:["Sign Up / Login",a.jsx(_S,{className:`transition-transform duration-200 ${u?"rotate-180":""}`})]}),u&&a.jsxs("div",{className:"absolute right-0 mt-2 w-60 bg-white dark:bg-dark-background border rounded-md shadow-lg py-2 z-50",children:[a.jsx("div",{className:"px-4 py-2 text-sm font-semibold text-gray-500",children:"Join as:"}),a.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-dark-foreground hover:bg-gray-100 dark:hover:bg-dark-secondary",onClick:()=>{d(!1),i("/auth/developer")},children:"Developer"}),a.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-dark-foreground hover:bg-gray-100 dark:hover:bg-dark-secondary",onClick:()=>{d(!1),i("/auth/recruiter")},children:"Founder"}),a.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-dark-foreground hover:bg-gray-100 dark:hover:bg-dark-secondary",onClick:()=>{d(!1),i("/auth/investor")},children:"Investor"})]})]})})]})})})},IS=()=>a.jsx("footer",{className:"bg-[hsl(222.2,47.4%,11.2%)] text-white py-12 mt-auto mt-20",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(qt,{to:"/",className:"block",children:a.jsx("h2",{className:"text-3xl font-bold text-primary-foreground",children:"Grow With Me"})}),a.jsx("p",{className:"text-gray-300 text-lg",children:"Connecting innovative founders with exceptional talent to build the future of technology."}),a.jsx("p",{className:"text-gray-300",children:"Join our platform to discover opportunities that match your skills and aspirations, or find the perfect talent to grow your startup."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[a.jsx(C1,{className:"w-6 h-6 text-primary-foreground"}),a.jsx("h3",{className:"text-xl font-semibold text-primary-foreground",children:"For Candidates"})]}),a.jsxs("nav",{className:"space-y-3",children:[a.jsx(qt,{to:"/overview",className:"block text-gray-300 hover:text-white transition-colors",children:"Overview"}),a.jsx(qt,{to:"/startup-jobs",className:"block text-gray-300 hover:text-white transition-colors",children:"Startup Jobs"}),a.jsx(qt,{to:"/web3-jobs",className:"block text-gray-300 hover:text-white transition-colors",children:"Web3 Jobs"}),a.jsx(qt,{to:"/featured",className:"block text-gray-300 hover:text-white transition-colors",children:"Featured"}),a.jsx(qt,{to:"/salary-calculator",className:"block text-gray-300 hover:text-white transition-colors",children:"Salary Calculator"}),a.jsx(qt,{to:"/startup-hiring-data",className:"block text-gray-300 hover:text-white transition-colors",children:"Startup Hiring Data"}),a.jsx(qt,{to:"/tech-startups",className:"block text-gray-300 hover:text-white transition-colors",children:"Tech Startups"}),a.jsx(qt,{to:"/remote",className:"block text-gray-300 hover:text-white transition-colors",children:"Remote"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[a.jsx(A1,{className:"w-6 h-6 text-primary-foreground"}),a.jsx("h3",{className:"text-xl font-semibold text-primary-foreground",children:"For Recruiters"})]}),a.jsxs("nav",{className:"space-y-3",children:[a.jsx(qt,{to:"/recruiter/overview",className:"block text-gray-300 hover:text-white transition-colors",children:"Overview"}),a.jsx(qt,{to:"/recruiter/pro",className:"block text-gray-300 hover:text-white transition-colors",children:"Recruit Pro"}),a.jsx(qt,{to:"/recruiter/curated",className:"block text-gray-300 hover:text-white transition-colors",children:"Curated"}),a.jsx(qt,{to:"/recruiter/hire-developers",className:"block text-gray-300 hover:text-white transition-colors",children:"Hire Developers"})]})]})]})]}),a.jsx("div",{className:"mt-12 pt-8 border-t border-gray-700 text-center text-gray-400 text-sm",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," Grow With Me. All rights reserved."]})})]})}),SS=()=>{const t=Es();return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-white to-blue-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center mt-16",children:[a.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:["Connect with Your Perfect ",a.jsx("br",{}),"Co-Founder"]}),a.jsxs("p",{className:"text-xl md:text-2xl text-gray-600 mb-20 max-w-3xl mx-auto",children:[a.jsx("br",{}),"Whether you're a founder with a vision, a developer looking for an exciting opportunity, or an investor seeking the next big idea, find your ideal match and build something amazing together."]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 justify-center items-center mt-16",children:[a.jsx(Z,{size:"lg",className:`w-full sm:w-auto text-xl px-12 py-8 rounded-xl text-white shadow-lg 
            bg-gradient-to-r from-primary to-blue-400 hover:from-primary/90 hover:to-blue-500
            transform transition-all duration-300 ease-in-out
            hover:scale-105 hover:shadow-xl
            active:scale-95 active:shadow-md
            backdrop-blur-sm`,onClick:()=>t("/auth/recruiter"),children:"I'm a Founder"}),a.jsx(Z,{size:"lg",className:`w-full sm:w-auto text-xl px-12 py-8 rounded-xl text-white shadow-lg 
            bg-gradient-to-r from-primary to-blue-400 hover:from-primary/90 hover:to-blue-500
            transform transition-all duration-300 ease-in-out
            hover:scale-105 hover:shadow-xl
            active:scale-95 active:shadow-md
            backdrop-blur-sm`,onClick:()=>t("/auth/developer"),children:"I'm a Developer"}),a.jsx(Z,{size:"lg",className:`w-full sm:w-auto text-xl px-12 py-8 rounded-xl text-white shadow-lg 
            bg-gradient-to-r from-primary to-blue-400 hover:from-primary/90 hover:to-blue-500
            transform transition-all duration-300 ease-in-out
            hover:scale-105 hover:shadow-xl
            active:scale-95 active:shadow-md
            backdrop-blur-sm`,onClick:()=>t("/auth/investor"),children:"I'm an Investor"})]}),a.jsx("div",{className:"mt-24 text-sm text-gray-500",children:"Join our community of founders, developers, and investors building the next generation of startups."})]})})},CS=()=>a.jsxs("section",{className:"grid md:grid-cols-2",children:[a.jsx("div",{className:"p-12 bg-white flex flex-col items-center",children:a.jsxs("div",{className:"max-w-xl",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Got talent?"}),a.jsx("h2",{className:"text-4xl font-bold mb-12",children:"Why job seekers love us"})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-pink-100 rounded-lg shrink-0",children:a.jsx(Wp,{className:"w-6 h-6 text-black"})}),a.jsx("p",{className:"text-lg",children:"Connect directly with founders at top startups - no third party recruiters allowed."})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-pink-100 rounded-lg shrink-0",children:a.jsx(qp,{className:"w-6 h-6 text-black"})}),a.jsx("p",{className:"text-lg",children:"Everything you need to know, all upfront. View salary, stock options, and more before applying."})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-pink-100 rounded-lg shrink-0",children:a.jsx(Kp,{className:"w-6 h-6 text-black"})}),a.jsx("p",{className:"text-lg",children:"Say goodbye to cover letters - your profile is all you need. One click to apply and you're done."})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-pink-100 rounded-lg shrink-0",children:a.jsx(k1,{className:"w-6 h-6 text-black"})}),a.jsx("p",{className:"text-lg",children:"Unique jobs at startups and tech companies you can't find anywhere else."})]})]})]})}),a.jsx("div",{className:"p-12 bg-pink-50 flex flex-col items-center",children:a.jsxs("div",{className:"max-w-xl",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Need talent?"}),a.jsx("h2",{className:"text-4xl font-bold mb-12",children:"Why recruiters love us"})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-pink-100 rounded-lg shrink-0",children:a.jsx(Wp,{className:"w-6 h-6 text-black"})}),a.jsx("p",{className:"text-lg",children:"Tap into a community of 10M+ engaged, startup-ready candidates."})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-pink-100 rounded-lg shrink-0",children:a.jsx(qp,{className:"w-6 h-6 text-black"})}),a.jsx("p",{className:"text-lg",children:"Everything you need to kickstart your recruiting — set up job posts, company branding, and HR tools within 10 minutes, all for free."})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-pink-100 rounded-lg shrink-0",children:a.jsx(Kp,{className:"w-6 h-6 text-black"})}),a.jsx("p",{className:"text-lg",children:"A free applicant tracking system, or free integration with any ATS you may already use."})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-pink-100 rounded-lg shrink-0",children:a.jsx(P1,{className:"w-6 h-6 text-black"})}),a.jsx("p",{className:"text-lg",children:"Let us handle the heavy-lifting with RecruiterCloud. Our new AI-Recruiter scans 500M+ candidates, filters it down based on your unique calibration, and schedules your favorites on your calendar in a matter of days."})]})]})]})})]}),NS=()=>(Es(),a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsxs("main",{children:[a.jsx(SS,{}),a.jsx(CS,{})]}),a.jsx(IS,{})]}));var pm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},RS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},W0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|d>>6,x=d&63;u||(x=64,o||(m=64)),r.push(n[h],n[f],n[m],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(z0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new PS;const m=i<<2|l>>4;if(r.push(m),d!==64){const x=l<<4&240|d>>2;if(r.push(x),f!==64){const w=d<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kS=function(t){const e=z0(t);return W0.encodeByteArray(e,!0)},Al=function(t){return kS(t).replace(/\./g,"")},q0=function(t){try{return W0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=()=>jS().__FIREBASE_DEFAULTS__,OS=()=>{if(typeof process>"u"||typeof pm>"u")return;const t=pm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q0(t[1]);return e&&JSON.parse(e)},uc=()=>{try{return DS()||OS()||MS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},H0=t=>{var e,n;return(n=(e=uc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VS=t=>{const e=H0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},K0=()=>{var t;return(t=uc())===null||t===void 0?void 0:t.config},G0=t=>{var e;return(e=uc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Al(JSON.stringify(n)),Al(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function US(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function BS(){var t;const e=(t=uc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $S(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qS(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HS(){return!BS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KS(){try{return typeof indexedDB=="object"}catch{return!1}}function GS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="FirebaseError";class Fn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QS,Object.setPrototypeOf(this,Fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?YS(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Fn(s,l,r)}}function YS(t,e){return t.replace(XS,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const XS=/\{\$([^}]+)}/g;function JS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Il(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(mm(i)&&mm(o)){if(!Il(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function mm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ZS(t,e){const n=new eC(t,e);return n.subscribe.bind(n)}class eC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=uu),s.error===void 0&&(s.error=uu),s.complete===void 0&&(s.complete=uu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sC(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rC(t){return t===ts?void 0:t}function sC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const oC={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},aC=_e.INFO,lC={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},cC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=lC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ph{constructor(e){this.name=e,this._logLevel=aC,this._logHandler=cC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const uC=(t,e)=>e.some(n=>t instanceof n);let gm,ym;function dC(){return gm||(gm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hC(){return ym||(ym=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q0=new WeakMap,rd=new WeakMap,Y0=new WeakMap,du=new WeakMap,mh=new WeakMap;function fC(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Nr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Q0.set(n,t)}).catch(()=>{}),mh.set(e,t),e}function pC(t){if(rd.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});rd.set(t,e)}let sd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mC(t){sd=t(sd)}function gC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hu(this),e,...n);return Y0.set(r,e.sort?e.sort():[e]),Nr(r)}:hC().includes(t)?function(...e){return t.apply(hu(this),e),Nr(Q0.get(this))}:function(...e){return Nr(t.apply(hu(this),e))}}function yC(t){return typeof t=="function"?gC(t):(t instanceof IDBTransaction&&pC(t),uC(t,dC())?new Proxy(t,sd):t)}function Nr(t){if(t instanceof IDBRequest)return fC(t);if(du.has(t))return du.get(t);const e=yC(t);return e!==t&&(du.set(t,e),mh.set(e,t)),e}const hu=t=>mh.get(t);function vC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Nr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Nr(o.result),u.oldVersion,u.newVersion,Nr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const xC=["get","getKey","getAll","getAllKeys","count"],bC=["put","add","delete","clear"],fu=new Map;function vm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fu.get(e))return fu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=bC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||xC.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&u.done]))[0]};return fu.set(e,i),i}mC(t=>({...t,get:(e,n,r)=>vm(e,n)||t.get(e,n,r),has:(e,n)=>!!vm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_C(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _C(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const id="@firebase/app",xm="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new ph("@firebase/app"),TC="@firebase/app-compat",EC="@firebase/analytics-compat",AC="@firebase/analytics",IC="@firebase/app-check-compat",SC="@firebase/app-check",CC="@firebase/auth",NC="@firebase/auth-compat",RC="@firebase/database",PC="@firebase/data-connect",kC="@firebase/database-compat",jC="@firebase/functions",DC="@firebase/functions-compat",OC="@firebase/installations",MC="@firebase/installations-compat",VC="@firebase/messaging",LC="@firebase/messaging-compat",FC="@firebase/performance",UC="@firebase/performance-compat",BC="@firebase/remote-config",$C="@firebase/remote-config-compat",zC="@firebase/storage",WC="@firebase/storage-compat",qC="@firebase/firestore",HC="@firebase/vertexai-preview",KC="@firebase/firestore-compat",GC="firebase",QC="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="[DEFAULT]",YC={[id]:"fire-core",[TC]:"fire-core-compat",[AC]:"fire-analytics",[EC]:"fire-analytics-compat",[SC]:"fire-app-check",[IC]:"fire-app-check-compat",[CC]:"fire-auth",[NC]:"fire-auth-compat",[RC]:"fire-rtdb",[PC]:"fire-data-connect",[kC]:"fire-rtdb-compat",[jC]:"fire-fn",[DC]:"fire-fn-compat",[OC]:"fire-iid",[MC]:"fire-iid-compat",[VC]:"fire-fcm",[LC]:"fire-fcm-compat",[FC]:"fire-perf",[UC]:"fire-perf-compat",[BC]:"fire-rc",[$C]:"fire-rc-compat",[zC]:"fire-gcs",[WC]:"fire-gcs-compat",[qC]:"fire-fst",[KC]:"fire-fst-compat",[HC]:"fire-vertex","fire-js":"fire-js",[GC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new Map,XC=new Map,ad=new Map;function bm(t,e){try{t.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fi(t){const e=t.name;if(ad.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;ad.set(e,t);for(const n of Sl.values())bm(n,t);for(const n of XC.values())bm(n,t);return!0}function gh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new Xo("app","Firebase",JC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=QC;function X0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:od,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Rr.create("bad-app-name",{appName:String(s)});if(n||(n=K0()),!n)throw Rr.create("no-options");const i=Sl.get(s);if(i){if(Il(n,i.options)&&Il(r,i.config))return i;throw Rr.create("duplicate-app",{appName:s})}const o=new iC(s);for(const u of ad.values())o.addComponent(u);const l=new ZC(n,r,o);return Sl.set(s,l),l}function J0(t=od){const e=Sl.get(t);if(!e&&t===od&&K0())return X0();if(!e)throw Rr.create("no-app",{appName:t});return e}function Pr(t,e,n){var r;let s=(r=YC[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(l.join(" "));return}fi(new ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="firebase-heartbeat-database",tN=1,Ro="firebase-heartbeat-store";let pu=null;function Z0(){return pu||(pu=vC(eN,tN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ro)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rr.create("idb-open",{originalErrorMessage:t.message})})),pu}async function nN(t){try{const n=(await Z0()).transaction(Ro),r=await n.objectStore(Ro).get(ex(t));return await n.done,r}catch(e){if(e instanceof Fn)or.warn(e.message);else{const n=Rr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});or.warn(n.message)}}}async function wm(t,e){try{const r=(await Z0()).transaction(Ro,"readwrite");await r.objectStore(Ro).put(e,ex(t)),await r.done}catch(n){if(n instanceof Fn)or.warn(n.message);else{const r=Rr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(r.message)}}}function ex(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=1024,sN=30*24*60*60*1e3;class iN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_m();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=sN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){or.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_m(),{heartbeatsToSend:r,unsentEntries:s}=oN(this._heartbeatsCache.heartbeats),i=Al(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return or.warn(n),""}}}function _m(){return new Date().toISOString().substring(0,10)}function oN(t,e=rN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Tm(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Tm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KS()?GS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return wm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return wm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Tm(t){return Al(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){fi(new ys("platform-logger",e=>new wC(e),"PRIVATE")),fi(new ys("heartbeat",e=>new iN(e),"PRIVATE")),Pr(id,xm,t),Pr(id,xm,"esm2017"),Pr("fire-js","")}lN("");var Cn=function(){return Cn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cn.apply(this,arguments)};function Zo(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function cN(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function tx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uN=tx,nx=new Xo("auth","Firebase",tx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new ph("@firebase/auth");function dN(t,...e){Cl.logLevel<=_e.WARN&&Cl.warn(`Auth (${Pi}): ${t}`,...e)}function nl(t,...e){Cl.logLevel<=_e.ERROR&&Cl.error(`Auth (${Pi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw vh(t,...e)}function vn(t,...e){return vh(t,...e)}function yh(t,e,n){const r=Object.assign(Object.assign({},uN()),{[e]:n});return new Xo("auth","Firebase",r).create(e,{appName:t.name})}function hs(t){return yh(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&On(t,"argument-error"),yh(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vh(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nx.create(t,...e)}function ae(t,e,...n){if(!t)throw vh(e,...n)}function Gn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nl(e),new Error(e)}function ar(t,e){t||Gn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fN(){return Em()==="http:"||Em()==="https:"}function Em(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fN()||zS()||"connection"in navigator)?navigator.onLine:!0}function mN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=US()||WS()}get(){return pN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t,e){ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new ea(3e4,6e4);function bh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ki(t,e,n,r,s={}){return sx(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Jo(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},i);return $S()||(d.referrerPolicy="no-referrer"),rx.fetch()(ix(t,t.config.apiHost,n,l),d)})}async function sx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gN),e);try{const s=new xN(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ba(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ba(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ba(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ba(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw yh(t,h,d);On(t,h)}}catch(s){if(s instanceof Fn)throw s;On(t,"network-request-failed",{message:String(s)})}}async function vN(t,e,n,r,s={}){const i=await ki(t,e,n,r,s);return"mfaPendingCredential"in i&&On(t,"multi-factor-auth-required",{_serverResponse:i}),i}function ix(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?xh(t.config,s):`${t.config.apiScheme}://${s}`}class xN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vn(this.auth,"network-request-failed")),yN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ba(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=vn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(t,e){return ki(t,"POST","/v1/accounts:delete",e)}async function ox(t,e){return ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wN(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),s=wh(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:po(mu(s.auth_time)),issuedAtTime:po(mu(s.iat)),expirationTime:po(mu(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function mu(t){return Number(t)*1e3}function wh(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nl("JWT malformed, contained fewer than 3 sections"),null;try{const s=q0(n);return s?JSON.parse(s):(nl("Failed to decode base64 JWT payload"),null)}catch(s){return nl("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Am(t){const e=wh(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fn&&_N(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _N({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=po(this.lastLoginAt),this.creationTime=po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Po(t,ox(n,{idToken:r}));ae(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?ax(i.providerUserInfo):[],l=AN(t.providerData,o),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=u?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new cd(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function EN(t){const e=Vt(t);await Nl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AN(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function ax(t){return t.map(e=>{var{providerId:n}=e,r=Zo(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t,e){const n=await sx(t,{},async()=>{const r=Jo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=ix(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",rx.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SN(t,e){return ki(t,"POST","/v2/accounts:revokeToken",bh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Am(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=Am(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await IN(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Qs;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qs,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Zo(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new cd(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Po(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wN(this,e)}reload(){return EN(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(hs(this.auth));const e=await this.getIdToken();return await Po(this,bN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,u,d,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(d=n.createdAt)!==null&&d!==void 0?d:void 0,A=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:R,emailVerified:j,isAnonymous:D,providerData:V,stsTokenManager:N}=n;ae(R&&N,e,"internal-error");const _=Qs.fromJSON(this.name,N);ae(typeof R=="string",e,"internal-error"),gr(f,e.name),gr(m,e.name),ae(typeof j=="boolean",e,"internal-error"),ae(typeof D=="boolean",e,"internal-error"),gr(x,e.name),gr(w,e.name),gr(v,e.name),gr(b,e.name),gr(E,e.name),gr(A,e.name);const S=new Qn({uid:R,auth:e,email:m,emailVerified:j,displayName:f,isAnonymous:D,photoURL:w,phoneNumber:x,tenantId:v,stsTokenManager:_,createdAt:E,lastLoginAt:A});return V&&Array.isArray(V)&&(S.providerData=V.map(P=>Object.assign({},P))),b&&(S._redirectEventId=b),S}static async _fromIdTokenResponse(e,n,r=!1){const s=new Qs;s.updateFromServerResponse(n);const i=new Qn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Nl(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?ax(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Qs;l.updateFromIdToken(r);const u=new Qn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new cd(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=new Map;function Yn(t){ar(t instanceof Function,"Expected a class definition");let e=Im.get(t);return e?(ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Im.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lx.type="NONE";const Sm=lx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t,e,n){return`firebase:${t}:${e}:${n}`}class Ys{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=rl(this.userKey,s.apiKey,i),this.fullPersistenceKey=rl("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ys(Yn(Sm),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Yn(Sm);const o=rl(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){const f=Qn._fromJSON(e,h);d!==i&&(l=f),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Ys(i,e,r):(i=u[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ys(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(px(e))return"Blackberry";if(mx(e))return"Webos";if(ux(e))return"Safari";if((e.includes("chrome/")||dx(e))&&!e.includes("edge/"))return"Chrome";if(fx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cx(t=Mt()){return/firefox\//i.test(t)}function ux(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dx(t=Mt()){return/crios\//i.test(t)}function hx(t=Mt()){return/iemobile/i.test(t)}function fx(t=Mt()){return/android/i.test(t)}function px(t=Mt()){return/blackberry/i.test(t)}function mx(t=Mt()){return/webos/i.test(t)}function _h(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CN(t=Mt()){var e;return _h(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NN(){return qS()&&document.documentMode===10}function gx(t=Mt()){return _h(t)||fx(t)||mx(t)||px(t)||/windows phone/i.test(t)||hx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t,e=[]){let n;switch(t){case"Browser":n=Cm(Mt());break;case"Worker":n=`${Cm(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const u=e(i);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,e={}){return ki(t,"GET","/v2/passwordPolicy",bh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=6;class jN{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:kN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nm(this),this.idTokenSubscription=new Nm(this),this.beforeStateQueue=new RN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ys.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ox(this,{idToken:e}),r=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(hs(this));const n=e?Vt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PN(this),n=new jN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await SN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Ys.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dc(t){return Vt(t)}class Nm{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZS(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ON(t){Th=t}function MN(t){return Th.loadJS(t)}function VN(){return Th.gapiScript}function LN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t,e){const n=gh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Il(i,e??{}))return s;On(s,"already-initialized")}return n.initialize({options:e})}function UN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BN(t,e,n){const r=dc(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=vx(e),{host:o,port:l}=$N(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),zN()}function vx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $N(t){const e=vx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Rm(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Rm(o)}}}function Rm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,n){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(t,e){return vN(t,"POST","/v1/accounts:signInWithIdp",bh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="http://localhost";class vs extends xx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Zo(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new vs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xs(e,n)}buildRequest(){const e={requestUri:WN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Eh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends ta{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends ta{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vs._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qn.credential(n,r)}catch{return null}}}qn.GOOGLE_SIGN_IN_METHOD="google.com";qn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends ta{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hn.credential(e.oauthAccessToken)}catch{return null}}}Hn.GITHUB_SIGN_IN_METHOD="github.com";Hn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends ta{constructor(){super("twitter.com")}static credential(e,n){return vs._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wr.credential(n,r)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Qn._fromIdTokenResponse(e,r,s),o=Pm(r);return new pi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Pm(r);return new pi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Pm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends Fn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rl.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Rl(e,n,r,s)}}function bx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Rl._fromErrorAndOperation(t,i,e,r):i})}async function qN(t,e,n=!1){const r=await Po(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e,n=!1){const{auth:r}=t;if(Kn(r.app))return Promise.reject(hs(r));const s="reauthenticate";try{const i=await Po(t,bx(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=wh(i.idToken);ae(o,r,"internal-error");const{sub:l}=o;return ae(t.uid===l,r,"user-mismatch"),pi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&On(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e,n=!1){if(Kn(t.app))return Promise.reject(hs(t));const r="signIn",s=await bx(t,r,e),i=await pi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function GN(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function QN(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function Ah(t,e,n,r){return Vt(t).onAuthStateChanged(e,n,r)}const Pl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pl,"1"),this.storage.removeItem(Pl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=1e3,XN=10;class _x extends wx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);NN()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,XN):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_x.type="LOCAL";const JN=_x;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx extends wx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Tx.type="SESSION";const Ex=Tx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new hc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),u=await ZN(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,u)=>{const d=Ih("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return window}function tR(t){Nn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(){return typeof Nn().WorkerGlobalScope<"u"&&typeof Nn().importScripts=="function"}async function nR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sR(){return Ax()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="firebaseLocalStorageDb",iR=1,kl="firebaseLocalStorage",Sx="fbase_key";class na{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fc(t,e){return t.transaction([kl],e?"readwrite":"readonly").objectStore(kl)}function oR(){const t=indexedDB.deleteDatabase(Ix);return new na(t).toPromise()}function ud(){const t=indexedDB.open(Ix,iR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kl,{keyPath:Sx})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kl)?e(r):(r.close(),await oR(),e(await ud()))})})}async function km(t,e,n){const r=fc(t,!0).put({[Sx]:e,value:n});return new na(r).toPromise()}async function aR(t,e){const n=fc(t,!1).get(e),r=await new na(n).toPromise();return r===void 0?null:r.value}function jm(t,e){const n=fc(t,!0).delete(e);return new na(n).toPromise()}const lR=800,cR=3;class Cx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ud(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ax()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hc._getInstance(sR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nR(),!this.activeServiceWorker)return;this.sender=new eR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ud();return await km(e,Pl,"1"),await jm(e,Pl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>km(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=fc(s,!1).getAll();return new na(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cx.type="LOCAL";const uR=Cx;new ea(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e){return e?Yn(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends xx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dR(t){return KN(t.auth,new Sh(t),t.bypassAuthState)}function hR(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),HN(n,new Sh(t),t.bypassAuthState)}async function fR(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),qN(n,new Sh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dR;case"linkViaPopup":case"linkViaRedirect":return fR;case"reauthViaPopup":case"reauthViaRedirect":return hR;default:On(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=new ea(2e3,1e4);async function mR(t,e,n){if(Kn(t.app))return Promise.reject(vn(t,"operation-not-supported-in-this-environment"));const r=dc(t);hN(t,e,Eh);const s=Nx(r,n);return new ss(r,"signInViaPopup",e,s).executeNotNull()}class ss extends Rx{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ss.currentPopupAction&&ss.currentPopupAction.cancel(),ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=Ih();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pR.get())};e()}}ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="pendingRedirect",sl=new Map;class yR extends Rx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sl.get(this.auth._key());if(!e){try{const r=await vR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sl.set(this.auth._key(),e)}return this.bypassAuthState||sl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vR(t,e){const n=wR(e),r=bR(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function xR(t,e){sl.set(t._key(),e)}function bR(t){return Yn(t._redirectPersistence)}function wR(t){return rl(gR,t.config.apiKey,t.name)}async function _R(t,e,n=!1){if(Kn(t.app))return Promise.reject(hs(t));const r=dc(t),s=Nx(r,e),o=await new yR(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=10*60*1e3;class ER{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Px(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dm(e))}saveEventToCache(e){this.cachedEventUids.add(Dm(e)),this.lastProcessedEventTime=Date.now()}}function Dm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Px({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Px(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(t,e={}){return ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CR=/^https?/;async function NR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IR(t);for(const n of e)try{if(RR(n))return}catch{}On(t,"unauthorized-domain")}function RR(t){const e=ld(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!CR.test(n))return!1;if(SR.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new ea(3e4,6e4);function Om(){const t=Nn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kR(t){return new Promise((e,n)=>{var r,s,i;function o(){Om(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Om(),n(vn(t,"network-request-failed"))},timeout:PR.get()})}if(!((s=(r=Nn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Nn().gapi)===null||i===void 0)&&i.load)o();else{const l=LN("iframefcb");return Nn()[l]=()=>{gapi.load?o():n(vn(t,"network-request-failed"))},MN(`${VN()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw il=null,e})}let il=null;function jR(t){return il=il||kR(t),il}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new ea(5e3,15e3),OR="__/auth/iframe",MR="emulator/auth/iframe",VR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FR(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xh(e,MR):`https://${t.config.authDomain}/${OR}`,r={apiKey:e.apiKey,appName:t.name,v:Pi},s=LR.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Jo(r).slice(1)}`}async function UR(t){const e=await jR(t),n=Nn().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:FR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VR,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=vn(t,"network-request-failed"),l=Nn().setTimeout(()=>{i(o)},DR.get());function u(){Nn().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$R=500,zR=600,WR="_blank",qR="http://localhost";class Mm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HR(t,e,n,r=$R,s=zR){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},BR),{width:r.toString(),height:s.toString(),top:i,left:o}),d=Mt().toLowerCase();n&&(l=dx(d)?WR:n),cx(d)&&(e=e||qR,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[x,w])=>`${m}${x}=${w},`,"");if(CN(d)&&l!=="_self")return KR(e||"",l),new Mm(null);const f=window.open(e||"",l,h);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new Mm(f)}function KR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="__/auth/handler",QR="emulator/auth/handler",YR=encodeURIComponent("fac");async function Vm(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pi,eventId:s};if(e instanceof Eh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",JS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof ta){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),d=u?`#${YR}=${encodeURIComponent(u)}`:"";return`${XR(t)}?${Jo(l).slice(1)}${d}`}function XR({config:t}){return t.emulator?xh(t,QR):`https://${t.authDomain}/${GR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu="webStorageSupport";class JR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ex,this._completeRedirectFn=_R,this._overrideRedirectResult=xR}async _openPopup(e,n,r,s){var i;ar((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Vm(e,n,r,ld(),s);return HR(e,o,Ih())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Vm(e,n,r,ld(),s);return tR(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ar(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UR(e),r=new ER(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gu,{type:gu},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[gu];o!==void 0&&n(!!o),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gx()||ux()||_h()}}const ZR=JR;var Lm="@firebase/auth",Fm="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nP(t){fi(new ys("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yx(t)},d=new DN(r,s,i,u);return UN(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fi(new ys("auth-internal",e=>{const n=dc(e.getProvider("auth").getImmediate());return(r=>new eP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(Lm,Fm,tP(t)),Pr(Lm,Fm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=5*60,sP=G0("authIdTokenMaxAge")||rP;let Um=null;const iP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sP)return;const s=n==null?void 0:n.token;Um!==s&&(Um=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ji(t=J0()){const e=gh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FN(t,{popupRedirectResolver:ZR,persistence:[uR,JN,Ex]}),r=G0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=iP(i.toString());QN(n,o,()=>o(n.currentUser)),GN(n,l=>o(l))}}const s=H0("auth");return s&&BN(n,`http://${s}`),n}function oP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ON({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=vn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",oP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nP("Browser");var aP="firebase",lP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(aP,lP,"app");var Bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fs,kx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,_){function S(){}S.prototype=_.prototype,N.D=_.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(P,k,C){for(var I=Array(arguments.length-2),U=2;U<arguments.length;U++)I[U-2]=arguments[U];return _.prototype[k].apply(P,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,_,S){S||(S=0);var P=Array(16);if(typeof _=="string")for(var k=0;16>k;++k)P[k]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(k=0;16>k;++k)P[k]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=N.g[0],S=N.g[1],k=N.g[2];var C=N.g[3],I=_+(C^S&(k^C))+P[0]+3614090360&4294967295;_=S+(I<<7&4294967295|I>>>25),I=C+(k^_&(S^k))+P[1]+3905402710&4294967295,C=_+(I<<12&4294967295|I>>>20),I=k+(S^C&(_^S))+P[2]+606105819&4294967295,k=C+(I<<17&4294967295|I>>>15),I=S+(_^k&(C^_))+P[3]+3250441966&4294967295,S=k+(I<<22&4294967295|I>>>10),I=_+(C^S&(k^C))+P[4]+4118548399&4294967295,_=S+(I<<7&4294967295|I>>>25),I=C+(k^_&(S^k))+P[5]+1200080426&4294967295,C=_+(I<<12&4294967295|I>>>20),I=k+(S^C&(_^S))+P[6]+2821735955&4294967295,k=C+(I<<17&4294967295|I>>>15),I=S+(_^k&(C^_))+P[7]+4249261313&4294967295,S=k+(I<<22&4294967295|I>>>10),I=_+(C^S&(k^C))+P[8]+1770035416&4294967295,_=S+(I<<7&4294967295|I>>>25),I=C+(k^_&(S^k))+P[9]+2336552879&4294967295,C=_+(I<<12&4294967295|I>>>20),I=k+(S^C&(_^S))+P[10]+4294925233&4294967295,k=C+(I<<17&4294967295|I>>>15),I=S+(_^k&(C^_))+P[11]+2304563134&4294967295,S=k+(I<<22&4294967295|I>>>10),I=_+(C^S&(k^C))+P[12]+1804603682&4294967295,_=S+(I<<7&4294967295|I>>>25),I=C+(k^_&(S^k))+P[13]+4254626195&4294967295,C=_+(I<<12&4294967295|I>>>20),I=k+(S^C&(_^S))+P[14]+2792965006&4294967295,k=C+(I<<17&4294967295|I>>>15),I=S+(_^k&(C^_))+P[15]+1236535329&4294967295,S=k+(I<<22&4294967295|I>>>10),I=_+(k^C&(S^k))+P[1]+4129170786&4294967295,_=S+(I<<5&4294967295|I>>>27),I=C+(S^k&(_^S))+P[6]+3225465664&4294967295,C=_+(I<<9&4294967295|I>>>23),I=k+(_^S&(C^_))+P[11]+643717713&4294967295,k=C+(I<<14&4294967295|I>>>18),I=S+(C^_&(k^C))+P[0]+3921069994&4294967295,S=k+(I<<20&4294967295|I>>>12),I=_+(k^C&(S^k))+P[5]+3593408605&4294967295,_=S+(I<<5&4294967295|I>>>27),I=C+(S^k&(_^S))+P[10]+38016083&4294967295,C=_+(I<<9&4294967295|I>>>23),I=k+(_^S&(C^_))+P[15]+3634488961&4294967295,k=C+(I<<14&4294967295|I>>>18),I=S+(C^_&(k^C))+P[4]+3889429448&4294967295,S=k+(I<<20&4294967295|I>>>12),I=_+(k^C&(S^k))+P[9]+568446438&4294967295,_=S+(I<<5&4294967295|I>>>27),I=C+(S^k&(_^S))+P[14]+3275163606&4294967295,C=_+(I<<9&4294967295|I>>>23),I=k+(_^S&(C^_))+P[3]+4107603335&4294967295,k=C+(I<<14&4294967295|I>>>18),I=S+(C^_&(k^C))+P[8]+1163531501&4294967295,S=k+(I<<20&4294967295|I>>>12),I=_+(k^C&(S^k))+P[13]+2850285829&4294967295,_=S+(I<<5&4294967295|I>>>27),I=C+(S^k&(_^S))+P[2]+4243563512&4294967295,C=_+(I<<9&4294967295|I>>>23),I=k+(_^S&(C^_))+P[7]+1735328473&4294967295,k=C+(I<<14&4294967295|I>>>18),I=S+(C^_&(k^C))+P[12]+2368359562&4294967295,S=k+(I<<20&4294967295|I>>>12),I=_+(S^k^C)+P[5]+4294588738&4294967295,_=S+(I<<4&4294967295|I>>>28),I=C+(_^S^k)+P[8]+2272392833&4294967295,C=_+(I<<11&4294967295|I>>>21),I=k+(C^_^S)+P[11]+1839030562&4294967295,k=C+(I<<16&4294967295|I>>>16),I=S+(k^C^_)+P[14]+4259657740&4294967295,S=k+(I<<23&4294967295|I>>>9),I=_+(S^k^C)+P[1]+2763975236&4294967295,_=S+(I<<4&4294967295|I>>>28),I=C+(_^S^k)+P[4]+1272893353&4294967295,C=_+(I<<11&4294967295|I>>>21),I=k+(C^_^S)+P[7]+4139469664&4294967295,k=C+(I<<16&4294967295|I>>>16),I=S+(k^C^_)+P[10]+3200236656&4294967295,S=k+(I<<23&4294967295|I>>>9),I=_+(S^k^C)+P[13]+681279174&4294967295,_=S+(I<<4&4294967295|I>>>28),I=C+(_^S^k)+P[0]+3936430074&4294967295,C=_+(I<<11&4294967295|I>>>21),I=k+(C^_^S)+P[3]+3572445317&4294967295,k=C+(I<<16&4294967295|I>>>16),I=S+(k^C^_)+P[6]+76029189&4294967295,S=k+(I<<23&4294967295|I>>>9),I=_+(S^k^C)+P[9]+3654602809&4294967295,_=S+(I<<4&4294967295|I>>>28),I=C+(_^S^k)+P[12]+3873151461&4294967295,C=_+(I<<11&4294967295|I>>>21),I=k+(C^_^S)+P[15]+530742520&4294967295,k=C+(I<<16&4294967295|I>>>16),I=S+(k^C^_)+P[2]+3299628645&4294967295,S=k+(I<<23&4294967295|I>>>9),I=_+(k^(S|~C))+P[0]+4096336452&4294967295,_=S+(I<<6&4294967295|I>>>26),I=C+(S^(_|~k))+P[7]+1126891415&4294967295,C=_+(I<<10&4294967295|I>>>22),I=k+(_^(C|~S))+P[14]+2878612391&4294967295,k=C+(I<<15&4294967295|I>>>17),I=S+(C^(k|~_))+P[5]+4237533241&4294967295,S=k+(I<<21&4294967295|I>>>11),I=_+(k^(S|~C))+P[12]+1700485571&4294967295,_=S+(I<<6&4294967295|I>>>26),I=C+(S^(_|~k))+P[3]+2399980690&4294967295,C=_+(I<<10&4294967295|I>>>22),I=k+(_^(C|~S))+P[10]+4293915773&4294967295,k=C+(I<<15&4294967295|I>>>17),I=S+(C^(k|~_))+P[1]+2240044497&4294967295,S=k+(I<<21&4294967295|I>>>11),I=_+(k^(S|~C))+P[8]+1873313359&4294967295,_=S+(I<<6&4294967295|I>>>26),I=C+(S^(_|~k))+P[15]+4264355552&4294967295,C=_+(I<<10&4294967295|I>>>22),I=k+(_^(C|~S))+P[6]+2734768916&4294967295,k=C+(I<<15&4294967295|I>>>17),I=S+(C^(k|~_))+P[13]+1309151649&4294967295,S=k+(I<<21&4294967295|I>>>11),I=_+(k^(S|~C))+P[4]+4149444226&4294967295,_=S+(I<<6&4294967295|I>>>26),I=C+(S^(_|~k))+P[11]+3174756917&4294967295,C=_+(I<<10&4294967295|I>>>22),I=k+(_^(C|~S))+P[2]+718787259&4294967295,k=C+(I<<15&4294967295|I>>>17),I=S+(C^(k|~_))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+_&4294967295,N.g[1]=N.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+C&4294967295}r.prototype.u=function(N,_){_===void 0&&(_=N.length);for(var S=_-this.blockSize,P=this.B,k=this.h,C=0;C<_;){if(k==0)for(;C<=S;)s(this,N,C),C+=this.blockSize;if(typeof N=="string"){for(;C<_;)if(P[k++]=N.charCodeAt(C++),k==this.blockSize){s(this,P),k=0;break}}else for(;C<_;)if(P[k++]=N[C++],k==this.blockSize){s(this,P),k=0;break}}this.h=k,this.o+=_},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var _=1;_<N.length-8;++_)N[_]=0;var S=8*this.o;for(_=N.length-8;_<N.length;++_)N[_]=S&255,S/=256;for(this.u(N),N=Array(16),_=S=0;4>_;++_)for(var P=0;32>P;P+=8)N[S++]=this.g[_]>>>P&255;return N};function i(N,_){var S=l;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=_(N)}function o(N,_){this.h=_;for(var S=[],P=!0,k=N.length-1;0<=k;k--){var C=N[k]|0;P&&C==_||(S[k]=C,P=!1)}this.g=S}var l={};function u(N){return-128<=N&&128>N?i(N,function(_){return new o([_|0],0>_?-1:0)}):new o([N|0],0>N?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return f;if(0>N)return b(d(-N));for(var _=[],S=1,P=0;N>=S;P++)_[P]=N/S|0,S*=4294967296;return new o(_,0)}function h(N,_){if(N.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(N.charAt(0)=="-")return b(h(N.substring(1),_));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=d(Math.pow(_,8)),P=f,k=0;k<N.length;k+=8){var C=Math.min(8,N.length-k),I=parseInt(N.substring(k,k+C),_);8>C?(C=d(Math.pow(_,C)),P=P.j(C).add(d(I))):(P=P.j(S),P=P.add(d(I)))}return P}var f=u(0),m=u(1),x=u(16777216);t=o.prototype,t.m=function(){if(v(this))return-b(this).m();for(var N=0,_=1,S=0;S<this.g.length;S++){var P=this.i(S);N+=(0<=P?P:4294967296+P)*_,_*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(w(this))return"0";if(v(this))return"-"+b(this).toString(N);for(var _=d(Math.pow(N,6)),S=this,P="";;){var k=j(S,_).g;S=E(S,k.j(_));var C=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=k,w(S))return C+P;for(;6>C.length;)C="0"+C;P=C+P}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function w(N){if(N.h!=0)return!1;for(var _=0;_<N.g.length;_++)if(N.g[_]!=0)return!1;return!0}function v(N){return N.h==-1}t.l=function(N){return N=E(this,N),v(N)?-1:w(N)?0:1};function b(N){for(var _=N.g.length,S=[],P=0;P<_;P++)S[P]=~N.g[P];return new o(S,~N.h).add(m)}t.abs=function(){return v(this)?b(this):this},t.add=function(N){for(var _=Math.max(this.g.length,N.g.length),S=[],P=0,k=0;k<=_;k++){var C=P+(this.i(k)&65535)+(N.i(k)&65535),I=(C>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);P=I>>>16,C&=65535,I&=65535,S[k]=I<<16|C}return new o(S,S[S.length-1]&-2147483648?-1:0)};function E(N,_){return N.add(b(_))}t.j=function(N){if(w(this)||w(N))return f;if(v(this))return v(N)?b(this).j(b(N)):b(b(this).j(N));if(v(N))return b(this.j(b(N)));if(0>this.l(x)&&0>N.l(x))return d(this.m()*N.m());for(var _=this.g.length+N.g.length,S=[],P=0;P<2*_;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<N.g.length;k++){var C=this.i(P)>>>16,I=this.i(P)&65535,U=N.i(k)>>>16,G=N.i(k)&65535;S[2*P+2*k]+=I*G,A(S,2*P+2*k),S[2*P+2*k+1]+=C*G,A(S,2*P+2*k+1),S[2*P+2*k+1]+=I*U,A(S,2*P+2*k+1),S[2*P+2*k+2]+=C*U,A(S,2*P+2*k+2)}for(P=0;P<_;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=_;P<2*_;P++)S[P]=0;return new o(S,0)};function A(N,_){for(;(N[_]&65535)!=N[_];)N[_+1]+=N[_]>>>16,N[_]&=65535,_++}function R(N,_){this.g=N,this.h=_}function j(N,_){if(w(_))throw Error("division by zero");if(w(N))return new R(f,f);if(v(N))return _=j(b(N),_),new R(b(_.g),b(_.h));if(v(_))return _=j(N,b(_)),new R(b(_.g),_.h);if(30<N.g.length){if(v(N)||v(_))throw Error("slowDivide_ only works with positive integers.");for(var S=m,P=_;0>=P.l(N);)S=D(S),P=D(P);var k=V(S,1),C=V(P,1);for(P=V(P,2),S=V(S,2);!w(P);){var I=C.add(P);0>=I.l(N)&&(k=k.add(S),C=I),P=V(P,1),S=V(S,1)}return _=E(N,k.j(_)),new R(k,_)}for(k=f;0<=N.l(_);){for(S=Math.max(1,Math.floor(N.m()/_.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),C=d(S),I=C.j(_);v(I)||0<I.l(N);)S-=P,C=d(S),I=C.j(_);w(C)&&(C=m),k=k.add(C),N=E(N,I)}return new R(k,N)}t.A=function(N){return j(this,N).h},t.and=function(N){for(var _=Math.max(this.g.length,N.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)&N.i(P);return new o(S,this.h&N.h)},t.or=function(N){for(var _=Math.max(this.g.length,N.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)|N.i(P);return new o(S,this.h|N.h)},t.xor=function(N){for(var _=Math.max(this.g.length,N.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)^N.i(P);return new o(S,this.h^N.h)};function D(N){for(var _=N.g.length+1,S=[],P=0;P<_;P++)S[P]=N.i(P)<<1|N.i(P-1)>>>31;return new o(S,N.h)}function V(N,_){var S=_>>5;_%=32;for(var P=N.g.length-S,k=[],C=0;C<P;C++)k[C]=0<_?N.i(C+S)>>>_|N.i(C+S+1)<<32-_:N.i(C+S);return new o(k,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,fs=o}).apply(typeof Bm<"u"?Bm:typeof self<"u"?self:typeof window<"u"?window:{});var $a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jx,so,Dx,ol,dd,Ox,Mx,Vx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,y){return c==Array.prototype||c==Object.prototype||(c[p]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $a=="object"&&$a];for(var p=0;p<c.length;++p){var y=c[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var y=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var O=c[T];if(!(O in y))break e;y=y[O]}c=c[c.length-1],T=y[c],p=p(T),p!=T&&p!=null&&e(y,c,{configurable:!0,writable:!0,value:p})}}function i(c,p){c instanceof String&&(c+="");var y=0,T=!1,O={next:function(){if(!T&&y<c.length){var M=y++;return{value:p(M,c[M]),done:!1}}return T=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(c){return c||function(){return i(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function d(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function h(c,p,y){return c.call.apply(c.bind,arguments)}function f(c,p,y){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,T),c.apply(p,O)}}return function(){return c.apply(p,arguments)}}function m(c,p,y){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function x(c,p){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function w(c,p){function y(){}y.prototype=p.prototype,c.aa=p.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(T,O,M){for(var H=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)H[Le-2]=arguments[Le];return p.prototype[O].apply(T,H)}}function v(c){const p=c.length;if(0<p){const y=Array(p);for(let T=0;T<p;T++)y[T]=c[T];return y}return[]}function b(c,p){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(u(T)){const O=c.length||0,M=T.length||0;c.length=O+M;for(let H=0;H<M;H++)c[O+H]=T[H]}else c.push(T)}}class E{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function A(c){return/^[\s\xa0]*$/.test(c)}function R(){var c=l.navigator;return c&&(c=c.userAgent)?c:""}function j(c){return j[" "](c),c}j[" "]=function(){};var D=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function V(c,p,y){for(const T in c)p.call(y,c[T],T,c)}function N(c,p){for(const y in c)p.call(void 0,c[y],y,c)}function _(c){const p={};for(const y in c)p[y]=c[y];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,p){let y,T;for(let O=1;O<arguments.length;O++){T=arguments[O];for(y in T)c[y]=T[y];for(let M=0;M<S.length;M++)y=S[M],Object.prototype.hasOwnProperty.call(T,y)&&(c[y]=T[y])}}function k(c){var p=1;c=c.split(":");const y=[];for(;0<p&&c.length;)y.push(c.shift()),p--;return c.length&&y.push(c.join(":")),y}function C(c){l.setTimeout(()=>{throw c},0)}function I(){var c=se;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class U{constructor(){this.h=this.g=null}add(p,y){const T=G.get();T.set(p,y),this.h?this.h.next=T:this.g=T,this.h=T}}var G=new E(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,Q=!1,se=new U,xe=()=>{const c=l.Promise.resolve(void 0);Y=()=>{c.then(Pe)}};var Pe=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(y){C(y)}var p=G;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}Q=!1};function Me(){this.s=this.s,this.C=this.C}Me.prototype.s=!1,Me.prototype.ma=function(){this.s||(this.s=!0,this.N())},Me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};l.addEventListener("test",y,p),l.removeEventListener("test",y,p)}catch{}return c}();function nt(c,p){if(Ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(D){e:{try{j(p.nodeName);var O=!0;break e}catch{}O=!1}O||(p=null)}}else y=="mouseover"?p=c.fromElement:y=="mouseout"&&(p=c.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:He[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&nt.aa.h.call(this)}}w(nt,Ie);var He={2:"touch",3:"pen",4:"mouse"};nt.prototype.h=function(){nt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Ke(c,p,y,T,O){this.listener=c,this.proxy=null,this.src=p,this.type=y,this.capture=!!T,this.ha=O,this.key=++Ce,this.da=this.fa=!1}function be(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ge(c){this.src=c,this.g={},this.h=0}ge.prototype.add=function(c,p,y,T,O){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var H=Xe(c,p,T,O);return-1<H?(p=c[H],y||(p.fa=!1)):(p=new Ke(p,this.src,M,!!T,O),p.fa=y,c.push(p)),p};function pe(c,p){var y=p.type;if(y in c.g){var T=c.g[y],O=Array.prototype.indexOf.call(T,p,void 0),M;(M=0<=O)&&Array.prototype.splice.call(T,O,1),M&&(be(p),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Xe(c,p,y,T){for(var O=0;O<c.length;++O){var M=c[O];if(!M.da&&M.listener==p&&M.capture==!!y&&M.ha==T)return O}return-1}var pt="closure_lm_"+(1e6*Math.random()|0),zt={};function ht(c,p,y,T,O){if(Array.isArray(p)){for(var M=0;M<p.length;M++)ht(c,p[M],y,T,O);return null}return y=yt(y),c&&c[ee]?c.K(p,y,d(T)?!!T.capture:!!T,O):At(c,p,y,!1,T,O)}function At(c,p,y,T,O,M){if(!p)throw Error("Invalid event type");var H=d(O)?!!O.capture:!!O,Le=Wt(c);if(Le||(c[pt]=Le=new ge(c)),y=Le.add(p,y,T,H,M),y.proxy)return y;if(T=F(),y.proxy=T,T.src=c,T.listener=y,c.addEventListener)ye||(O=H),O===void 0&&(O=!1),c.addEventListener(p.toString(),T,O);else if(c.attachEvent)c.attachEvent(de(p.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function F(){function c(y){return p.call(c.src,c.listener,y)}const p=dn;return c}function W(c,p,y,T,O){if(Array.isArray(p))for(var M=0;M<p.length;M++)W(c,p[M],y,T,O);else T=d(T)?!!T.capture:!!T,y=yt(y),c&&c[ee]?(c=c.i,p=String(p).toString(),p in c.g&&(M=c.g[p],y=Xe(M,y,T,O),-1<y&&(be(M[y]),Array.prototype.splice.call(M,y,1),M.length==0&&(delete c.g[p],c.h--)))):c&&(c=Wt(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Xe(p,y,T,O)),(y=-1<c?p[c]:null)&&Ve(y))}function Ve(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ee])pe(p.i,c);else{var y=c.type,T=c.proxy;p.removeEventListener?p.removeEventListener(y,T,c.capture):p.detachEvent?p.detachEvent(de(y),T):p.addListener&&p.removeListener&&p.removeListener(T),(y=Wt(p))?(pe(y,c),y.h==0&&(y.src=null,p[pt]=null)):be(c)}}}function de(c){return c in zt?zt[c]:zt[c]="on"+c}function dn(c,p){if(c.da)c=!0;else{p=new nt(p,this);var y=c.listener,T=c.ha||c.src;c.fa&&Ve(c),c=y.call(T,p)}return c}function Wt(c){return c=c[pt],c instanceof ge?c:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(c){return typeof c=="function"?c:(c[an]||(c[an]=function(p){return c.handleEvent(p)}),c[an])}function rt(){Me.call(this),this.i=new ge(this),this.M=this,this.F=null}w(rt,Me),rt.prototype[ee]=!0,rt.prototype.removeEventListener=function(c,p,y,T){W(this,c,p,y,T)};function ot(c,p){var y,T=c.F;if(T)for(y=[];T;T=T.F)y.push(T);if(c=c.M,T=p.type||p,typeof p=="string")p=new Ie(p,c);else if(p instanceof Ie)p.target=p.target||c;else{var O=p;p=new Ie(T,c),P(p,O)}if(O=!0,y)for(var M=y.length-1;0<=M;M--){var H=p.g=y[M];O=Un(H,T,!0,p)&&O}if(H=p.g=c,O=Un(H,T,!0,p)&&O,O=Un(H,T,!1,p)&&O,y)for(M=0;M<y.length;M++)H=p.g=y[M],O=Un(H,T,!1,p)&&O}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var y=c.g[p],T=0;T<y.length;T++)be(y[T]);delete c.g[p],c.h--}}this.F=null},rt.prototype.K=function(c,p,y,T){return this.i.add(String(c),p,!1,y,T)},rt.prototype.L=function(c,p,y,T){return this.i.add(String(c),p,!0,y,T)};function Un(c,p,y,T){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var O=!0,M=0;M<p.length;++M){var H=p[M];if(H&&!H.da&&H.capture==y){var Le=H.listener,xt=H.ha||H.src;H.fa&&pe(c.i,H),O=Le.call(xt,T)!==!1&&O}}return O&&!T.defaultPrevented}function Bi(c,p,y){if(typeof c=="function")y&&(c=m(c,y));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:l.setTimeout(c,p||0)}function $i(c){c.g=Bi(()=>{c.g=null,c.i&&(c.i=!1,$i(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Ns extends Me{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:$i(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(c){Me.call(this),this.h=c,this.g={}}w(En,Me);var ya=[];function zi(c){V(c.g,function(p,y){this.g.hasOwnProperty(y)&&Ve(p)},c),c.g={}}En.prototype.N=function(){En.aa.N.call(this),zi(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wi=l.JSON.stringify,$c=l.JSON.parse,va=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function L(){}L.prototype.h=null;function K(c){return c.h||(c.h=c.i())}function ie(){}var te={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function we(){Ie.call(this,"d")}w(we,Ie);function Fe(){Ie.call(this,"c")}w(Fe,Ie);var Ee={},at=null;function Rs(){return at=at||new rt}Ee.La="serverreachability";function xa(c){Ie.call(this,Ee.La,c)}w(xa,Ie);function Qr(c){const p=Rs();ot(p,new xa(p))}Ee.STAT_EVENT="statevent";function ba(c,p){Ie.call(this,Ee.STAT_EVENT,c),this.stat=p}w(ba,Ie);function vt(c){const p=Rs();ot(p,new ba(p,c))}Ee.Ma="timingevent";function wa(c,p){Ie.call(this,Ee.Ma,c),this.size=p}w(wa,Ie);function Lt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},p)}function Ge(){this.g=!0}Ge.prototype.xa=function(){this.g=!1};function qi(c,p,y,T,O,M){c.info(function(){if(c.g)if(M)for(var H="",Le=M.split("&"),xt=0;xt<Le.length;xt++){var Ne=Le[xt].split("=");if(1<Ne.length){var It=Ne[0];Ne=Ne[1];var St=It.split("_");H=2<=St.length&&St[1]=="type"?H+(It+"="+Ne+"&"):H+(It+"=redacted&")}}else H=null;else H=M;return"XMLHTTP REQ ("+T+") [attempt "+O+"]: "+p+`
`+y+`
`+H})}function zc(c,p,y,T,O,M,H){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+O+"]: "+p+`
`+y+`
`+M+" "+H})}function De(c,p,y,T){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+_a(c,y)+(T?" "+T:"")})}function Yr(c,p){c.info(function(){return"TIMEOUT: "+p})}Ge.prototype.info=function(){};function _a(c,p){if(!c.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var T=y[c];if(!(2>T.length)){var O=T[1];if(Array.isArray(O)&&!(1>O.length)){var M=O[0];if(M!="noop"&&M!="stop"&&M!="close")for(var H=1;H<O.length;H++)O[H]=""}}}}return Wi(y)}catch{return p}}var Ps={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wc;function Ta(){}w(Ta,L),Ta.prototype.g=function(){return new XMLHttpRequest},Ta.prototype.i=function(){return{}},Wc=new Ta;function dr(c,p,y,T){this.j=c,this.i=p,this.l=y,this.R=T||1,this.U=new En(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jf}function Jf(){this.i=null,this.g="",this.h=!1}var Zf={},qc={};function Hc(c,p,y){c.L=1,c.v=Sa(Bn(p)),c.m=y,c.P=!0,ep(c,null)}function ep(c,p){c.F=Date.now(),Ea(c),c.A=Bn(c.v);var y=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),pp(y.i,"t",T),c.C=0,y=c.j.J,c.h=new Jf,c.g=kp(c.j,y?p:null,!c.m),0<c.O&&(c.M=new Ns(m(c.Y,c,c.g),c.O)),p=c.U,y=c.g,T=c.ca;var O="readystatechange";Array.isArray(O)||(O&&(ya[0]=O.toString()),O=ya);for(var M=0;M<O.length;M++){var H=ht(y,O[M],T||p.handleEvent,!1,p.h||p);if(!H)break;p.g[H.key]=H}p=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Qr(),qi(c.i,c.u,c.A,c.l,c.R,c.m)}dr.prototype.ca=function(c){c=c.target;const p=this.M;p&&$n(c)==3?p.j():this.Y(c)},dr.prototype.Y=function(c){try{if(c==this.g)e:{const St=$n(this.g);var p=this.g.Ba();const Ds=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||wp(this.g)))){this.J||St!=4||p==7||(p==8||0>=Ds?Qr(3):Qr(2)),Kc(this);var y=this.g.Z();this.X=y;t:if(tp(this)){var T=wp(this.g);c="";var O=T.length,M=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xr(this),Hi(this);var H="";break t}this.h.i=new l.TextDecoder}for(p=0;p<O;p++)this.h.h=!0,c+=this.h.i.decode(T[p],{stream:!(M&&p==O-1)});T.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=y==200,zc(this.i,this.u,this.A,this.l,this.R,St,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,xt=this.g;if((Le=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(Le)){var Ne=Le;break t}}Ne=null}if(y=Ne)De(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gc(this,y);else{this.o=!1,this.s=3,vt(12),Xr(this),Hi(this);break e}}if(this.P){y=!0;let hn;for(;!this.J&&this.C<H.length;)if(hn=XT(this,H),hn==qc){St==4&&(this.s=4,vt(14),y=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Zf){this.s=4,vt(15),De(this.i,this.l,H,"[Invalid Chunk]"),y=!1;break}else De(this.i,this.l,hn,null),Gc(this,hn);if(tp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||H.length!=0||this.h.h||(this.s=1,vt(16),y=!1),this.o=this.o&&y,!y)De(this.i,this.l,H,"[Invalid Chunked Response]"),Xr(this),Hi(this);else if(0<H.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),eu(It),It.M=!0,vt(11))}}else De(this.i,this.l,H,null),Gc(this,H);St==4&&Xr(this),this.o&&!this.J&&(St==4?Cp(this.j,this):(this.o=!1,Ea(this)))}else pE(this.g),y==400&&0<H.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Xr(this),Hi(this)}}}catch{}finally{}};function tp(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function XT(c,p){var y=c.C,T=p.indexOf(`
`,y);return T==-1?qc:(y=Number(p.substring(y,T)),isNaN(y)?Zf:(T+=1,T+y>p.length?qc:(p=p.slice(T,T+y),c.C=T+y,p)))}dr.prototype.cancel=function(){this.J=!0,Xr(this)};function Ea(c){c.S=Date.now()+c.I,np(c,c.I)}function np(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Lt(m(c.ba,c),p)}function Kc(c){c.B&&(l.clearTimeout(c.B),c.B=null)}dr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Yr(this.i,this.A),this.L!=2&&(Qr(),vt(17)),Xr(this),this.s=2,Hi(this)):np(this,this.S-c)};function Hi(c){c.j.G==0||c.J||Cp(c.j,c)}function Xr(c){Kc(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,zi(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Gc(c,p){try{var y=c.j;if(y.G!=0&&(y.g==c||Qc(y.h,c))){if(!c.K&&Qc(y.h,c)&&y.G==3){try{var T=y.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var O=T;if(O[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)ja(y),Pa(y);else break e;Zc(y),vt(18)}}else y.za=O[1],0<y.za-y.T&&37500>O[2]&&y.F&&y.v==0&&!y.C&&(y.C=Lt(m(y.Za,y),6e3));if(1>=ip(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Zr(y,11)}else if((c.K||y.g==c)&&ja(y),!A(p))for(O=y.Da.g.parse(p),p=0;p<O.length;p++){let Ne=O[p];if(y.T=Ne[0],Ne=Ne[1],y.G==2)if(Ne[0]=="c"){y.K=Ne[1],y.ia=Ne[2];const It=Ne[3];It!=null&&(y.la=It,y.j.info("VER="+y.la));const St=Ne[4];St!=null&&(y.Aa=St,y.j.info("SVER="+y.Aa));const Ds=Ne[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(T=1.5*Ds,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const hn=c.g;if(hn){const Oa=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var M=T.h;M.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Yc(M,M.h),M.h=null))}if(T.D){const tu=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;tu&&(T.ya=tu,Be(T.I,T.D,tu))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var H=c;if(T.qa=Pp(T,T.J?T.ia:null,T.W),H.K){op(T.h,H);var Le=H,xt=T.L;xt&&(Le.I=xt),Le.B&&(Kc(Le),Ea(Le)),T.g=H}else Ip(T);0<y.i.length&&ka(y)}else Ne[0]!="stop"&&Ne[0]!="close"||Zr(y,7);else y.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Zr(y,7):Jc(y):Ne[0]!="noop"&&y.l&&y.l.ta(Ne),y.v=0)}}Qr(4)}catch{}}var JT=class{constructor(c,p){this.g=c,this.map=p}};function rp(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sp(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ip(c){return c.h?1:c.g?c.g.size:0}function Qc(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Yc(c,p){c.g?c.g.add(p):c.h=p}function op(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}rp.prototype.cancel=function(){if(this.i=ap(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ap(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const y of c.g.values())p=p.concat(y.D);return p}return v(c.i)}function ZT(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var p=[],y=c.length,T=0;T<y;T++)p.push(c[T]);return p}p=[],y=0;for(T in c)p[y++]=c[T];return p}function eE(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var p=[];c=c.length;for(var y=0;y<c;y++)p.push(y);return p}p=[],y=0;for(const T in c)p[y++]=T;return p}}}function lp(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var y=eE(c),T=ZT(c),O=T.length,M=0;M<O;M++)p.call(void 0,T[M],y&&y[M],c)}var cp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tE(c,p){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var T=c[y].indexOf("="),O=null;if(0<=T){var M=c[y].substring(0,T);O=c[y].substring(T+1)}else M=c[y];p(M,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Jr){this.h=c.h,Aa(this,c.j),this.o=c.o,this.g=c.g,Ia(this,c.s),this.l=c.l;var p=c.i,y=new Qi;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),up(this,y),this.m=c.m}else c&&(p=String(c).match(cp))?(this.h=!1,Aa(this,p[1]||"",!0),this.o=Ki(p[2]||""),this.g=Ki(p[3]||"",!0),Ia(this,p[4]),this.l=Ki(p[5]||"",!0),up(this,p[6]||"",!0),this.m=Ki(p[7]||"")):(this.h=!1,this.i=new Qi(null,this.h))}Jr.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Gi(p,dp,!0),":");var y=this.g;return(y||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Gi(p,dp,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Gi(y,y.charAt(0)=="/"?sE:rE,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Gi(y,oE)),c.join("")};function Bn(c){return new Jr(c)}function Aa(c,p,y){c.j=y?Ki(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ia(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function up(c,p,y){p instanceof Qi?(c.i=p,aE(c.i,c.h)):(y||(p=Gi(p,iE)),c.i=new Qi(p,c.h))}function Be(c,p,y){c.i.set(p,y)}function Sa(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ki(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gi(c,p,y){return typeof c=="string"?(c=encodeURI(c).replace(p,nE),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nE(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var dp=/[#\/\?@]/g,rE=/[#\?:]/g,sE=/[#\?]/g,iE=/[#\?@]/g,oE=/#/g;function Qi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function hr(c){c.g||(c.g=new Map,c.h=0,c.i&&tE(c.i,function(p,y){c.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=Qi.prototype,t.add=function(c,p){hr(this),this.i=null,c=ks(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(p),this.h+=1,this};function hp(c,p){hr(c),p=ks(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function fp(c,p){return hr(c),p=ks(c,p),c.g.has(p)}t.forEach=function(c,p){hr(this),this.g.forEach(function(y,T){y.forEach(function(O){c.call(p,O,T,this)},this)},this)},t.na=function(){hr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let T=0;T<p.length;T++){const O=c[T];for(let M=0;M<O.length;M++)y.push(p[T])}return y},t.V=function(c){hr(this);let p=[];if(typeof c=="string")fp(this,c)&&(p=p.concat(this.g.get(ks(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)p=p.concat(c[y])}return p},t.set=function(c,p){return hr(this),this.i=null,c=ks(this,c),fp(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function pp(c,p,y){hp(c,p),0<y.length&&(c.i=null,c.g.set(ks(c,p),v(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var T=p[y];const M=encodeURIComponent(String(T)),H=this.V(T);for(T=0;T<H.length;T++){var O=M;H[T]!==""&&(O+="="+encodeURIComponent(String(H[T]))),c.push(O)}}return this.i=c.join("&")};function ks(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function aE(c,p){p&&!c.j&&(hr(c),c.i=null,c.g.forEach(function(y,T){var O=T.toLowerCase();T!=O&&(hp(this,T),pp(this,O,y))},c)),c.j=p}function lE(c,p){const y=new Ge;if(l.Image){const T=new Image;T.onload=x(fr,y,"TestLoadImage: loaded",!0,p,T),T.onerror=x(fr,y,"TestLoadImage: error",!1,p,T),T.onabort=x(fr,y,"TestLoadImage: abort",!1,p,T),T.ontimeout=x(fr,y,"TestLoadImage: timeout",!1,p,T),l.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else p(!1)}function cE(c,p){const y=new Ge,T=new AbortController,O=setTimeout(()=>{T.abort(),fr(y,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:T.signal}).then(M=>{clearTimeout(O),M.ok?fr(y,"TestPingServer: ok",!0,p):fr(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(O),fr(y,"TestPingServer: error",!1,p)})}function fr(c,p,y,T,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),T(y)}catch{}}function uE(){this.g=new va}function dE(c,p,y){const T=y||"";try{lp(c,function(O,M){let H=O;d(O)&&(H=Wi(O)),p.push(T+M+"="+encodeURIComponent(H))})}catch(O){throw p.push(T+"type="+encodeURIComponent("_badmap")),O}}function Ca(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Ca,L),Ca.prototype.g=function(){return new Na(this.l,this.j)},Ca.prototype.i=function(c){return function(){return c}}({});function Na(c,p){rt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Na,rt),t=Na.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Xi(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||l).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yi(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mp(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function mp(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Yi(this):Xi(this),this.readyState==3&&mp(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Yi(this))},t.Qa=function(c){this.g&&(this.response=c,Yi(this))},t.ga=function(){this.g&&Yi(this)};function Yi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xi(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=p.next();return c.join(`\r
`)};function Xi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gp(c){let p="";return V(c,function(y,T){p+=T,p+=":",p+=y,p+=`\r
`}),p}function Xc(c,p,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=gp(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):Be(c,p,y))}function Je(c){rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Je,rt);var hE=/^https?$/i,fE=["POST","PUT"];t=Je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wc.g(),this.v=this.o?K(this.o):K(Wc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(M){yp(this,M);return}if(c=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var O in T)y.set(O,T[O]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const M of T.keys())y.set(M,T.get(M));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(M=>M.toLowerCase()=="content-type"),O=l.FormData&&c instanceof l.FormData,!(0<=Array.prototype.indexOf.call(fE,p,void 0))||T||O||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,H]of y)this.g.setRequestHeader(M,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bp(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){yp(this,M)}};function yp(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,vp(c),Ra(c)}function vp(c){c.A||(c.A=!0,ot(c,"complete"),ot(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ot(this,"complete"),ot(this,"abort"),Ra(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ra(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xp(this):this.bb())},t.bb=function(){xp(this)};function xp(c){if(c.h&&typeof o<"u"&&(!c.v[1]||$n(c)!=4||c.Z()!=2)){if(c.u&&$n(c)==4)Bi(c.Ea,0,c);else if(ot(c,"readystatechange"),$n(c)==4){c.h=!1;try{const H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var T;if(T=H===0){var O=String(c.D).match(cp)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),T=!hE.test(O?O.toLowerCase():"")}y=T}if(y)ot(c,"complete"),ot(c,"success");else{c.m=6;try{var M=2<$n(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",vp(c)}}finally{Ra(c)}}}}function Ra(c,p){if(c.g){bp(c);const y=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||ot(c,"ready");try{y.onreadystatechange=T}catch{}}}function bp(c){c.I&&(l.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),$c(p)}};function wp(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pE(c){const p={};c=(c.g&&2<=$n(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(A(c[T]))continue;var y=k(c[T]);const O=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const M=p[O]||[];p[O]=M,M.push(y)}N(p,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(c,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||p}function _p(c){this.Aa=0,this.i=[],this.j=new Ge,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ji("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ji("baseRetryDelayMs",5e3,c),this.cb=Ji("retryDelaySeedMs",1e4,c),this.Wa=Ji("forwardChannelMaxRetries",2,c),this.wa=Ji("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new rp(c&&c.concurrentRequestLimit),this.Da=new uE,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_p.prototype,t.la=8,t.G=1,t.connect=function(c,p,y,T){vt(0),this.W=c,this.H=p||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=Pp(this,null,this.W),ka(this)};function Jc(c){if(Tp(c),c.G==3){var p=c.U++,y=Bn(c.I);if(Be(y,"SID",c.K),Be(y,"RID",p),Be(y,"TYPE","terminate"),Zi(c,y),p=new dr(c,c.j,p),p.L=2,p.v=Sa(Bn(y)),y=!1,l.navigator&&l.navigator.sendBeacon)try{y=l.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&l.Image&&(new Image().src=p.v,y=!0),y||(p.g=kp(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ea(p)}Rp(c)}function Pa(c){c.g&&(eu(c),c.g.cancel(),c.g=null)}function Tp(c){Pa(c),c.u&&(l.clearTimeout(c.u),c.u=null),ja(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&l.clearTimeout(c.s),c.s=null)}function ka(c){if(!sp(c.h)&&!c.s){c.s=!0;var p=c.Ga;Y||xe(),Q||(Y(),Q=!0),se.add(p,c),c.B=0}}function mE(c,p){return ip(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Lt(m(c.Ga,c,p),Np(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const O=new dr(this,this.j,c);let M=this.o;if(this.S&&(M?(M=_(M),P(M,this.S)):M=this.S),this.m!==null||this.O||(O.H=M,M=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Ap(this,O,p),y=Bn(this.I),Be(y,"RID",c),Be(y,"CVER",22),this.D&&Be(y,"X-HTTP-Session-Id",this.D),Zi(this,y),M&&(this.O?p="headers="+encodeURIComponent(String(gp(M)))+"&"+p:this.m&&Xc(y,this.m,M)),Yc(this.h,O),this.Ua&&Be(y,"TYPE","init"),this.P?(Be(y,"$req",p),Be(y,"SID","null"),O.T=!0,Hc(O,y,null)):Hc(O,y,p),this.G=2}}else this.G==3&&(c?Ep(this,c):this.i.length==0||sp(this.h)||Ep(this))};function Ep(c,p){var y;p?y=p.l:y=c.U++;const T=Bn(c.I);Be(T,"SID",c.K),Be(T,"RID",y),Be(T,"AID",c.T),Zi(c,T),c.m&&c.o&&Xc(T,c.m,c.o),y=new dr(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Ap(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Yc(c.h,y),Hc(y,T,p)}function Zi(c,p){c.H&&V(c.H,function(y,T){Be(p,T,y)}),c.l&&lp({},function(y,T){Be(p,T,y)})}function Ap(c,p,y){y=Math.min(c.i.length,y);var T=c.l?m(c.l.Na,c.l,c):null;e:{var O=c.i;let M=-1;for(;;){const H=["count="+y];M==-1?0<y?(M=O[0].g,H.push("ofs="+M)):M=0:H.push("ofs="+M);let Le=!0;for(let xt=0;xt<y;xt++){let Ne=O[xt].g;const It=O[xt].map;if(Ne-=M,0>Ne)M=Math.max(0,O[xt].g-100),Le=!1;else try{dE(It,H,"req"+Ne+"_")}catch{T&&T(It)}}if(Le){T=H.join("&");break e}}}return c=c.i.splice(0,y),p.D=c,T}function Ip(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;Y||xe(),Q||(Y(),Q=!0),se.add(p,c),c.v=0}}function Zc(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Lt(m(c.Fa,c),Np(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Sp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Lt(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Pa(this),Sp(this))};function eu(c){c.A!=null&&(l.clearTimeout(c.A),c.A=null)}function Sp(c){c.g=new dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Bn(c.qa);Be(p,"RID","rpc"),Be(p,"SID",c.K),Be(p,"AID",c.T),Be(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(p,"TO",c.ja),Be(p,"TYPE","xmlhttp"),Zi(c,p),c.m&&c.o&&Xc(p,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Sa(Bn(p)),y.m=null,y.P=!0,ep(y,c)}t.Za=function(){this.C!=null&&(this.C=null,Pa(this),Zc(this),vt(19))};function ja(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function Cp(c,p){var y=null;if(c.g==p){ja(c),eu(c),c.g=null;var T=2}else if(Qc(c.h,p))y=p.D,op(c.h,p),T=1;else return;if(c.G!=0){if(p.o)if(T==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var O=c.B;T=Rs(),ot(T,new wa(T,y)),ka(c)}else Ip(c);else if(O=p.s,O==3||O==0&&0<p.X||!(T==1&&mE(c,p)||T==2&&Zc(c)))switch(y&&0<y.length&&(p=c.h,p.i=p.i.concat(y)),O){case 1:Zr(c,5);break;case 4:Zr(c,10);break;case 3:Zr(c,6);break;default:Zr(c,2)}}}function Np(c,p){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*p}function Zr(c,p){if(c.j.info("Error code "+p),p==2){var y=m(c.fb,c),T=c.Xa;const O=!T;T=new Jr(T||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Aa(T,"https"),Sa(T),O?lE(T.toString(),y):cE(T.toString(),y)}else vt(2);c.G=0,c.l&&c.l.sa(p),Rp(c),Tp(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Rp(c){if(c.G=0,c.ka=[],c.l){const p=ap(c.h);(p.length!=0||c.i.length!=0)&&(b(c.ka,p),b(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function Pp(c,p,y){var T=y instanceof Jr?Bn(y):new Jr(y);if(T.g!="")p&&(T.g=p+"."+T.g),Ia(T,T.s);else{var O=l.location;T=O.protocol,p=p?p+"."+O.hostname:O.hostname,O=+O.port;var M=new Jr(null);T&&Aa(M,T),p&&(M.g=p),O&&Ia(M,O),y&&(M.l=y),T=M}return y=c.D,p=c.ya,y&&p&&Be(T,y,p),Be(T,"VER",c.la),Zi(c,T),T}function kp(c,p,y){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Je(new Ca({eb:y})):new Je(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jp(){}t=jp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Da(){}Da.prototype.g=function(c,p){return new Xt(c,p)};function Xt(c,p){rt.call(this),this.g=new _p(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!A(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!A(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new js(this)}w(Xt,rt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Jc(this.g)},Xt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Wi(c),c=y);p.i.push(new JT(p.Ya++,c)),p.G==3&&ka(p)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Jc(this.g),delete this.g,Xt.aa.N.call(this)};function Dp(c){we.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const y in p){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}w(Dp,we);function Op(){Fe.call(this),this.status=1}w(Op,Fe);function js(c){this.g=c}w(js,jp),js.prototype.ua=function(){ot(this.g,"a")},js.prototype.ta=function(c){ot(this.g,new Dp(c))},js.prototype.sa=function(c){ot(this.g,new Op)},js.prototype.ra=function(){ot(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,Vx=function(){return new Da},Mx=function(){return Rs()},Ox=Ee,dd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,ol=Ps,Xf.COMPLETE="complete",Dx=Xf,ie.EventType=te,te.OPEN="a",te.CLOSE="b",te.ERROR="c",te.MESSAGE="d",rt.prototype.listen=rt.prototype.K,so=ie,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,jx=Je}).apply(typeof $a<"u"?$a:typeof self<"u"?self:typeof window<"u"?window:{});const $m="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Di="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new ph("@firebase/firestore");function no(){return xs.logLevel}function J(t,...e){if(xs.logLevel<=_e.DEBUG){const n=e.map(Ch);xs.debug(`Firestore (${Di}): ${t}`,...n)}}function lr(t,...e){if(xs.logLevel<=_e.ERROR){const n=e.map(Ch);xs.error(`Firestore (${Di}): ${t}`,...n)}}function mi(t,...e){if(xs.logLevel<=_e.WARN){const n=e.map(Ch);xs.warn(`Firestore (${Di}): ${t}`,...n)}}function Ch(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Di}) INTERNAL ASSERTION FAILED: `+t;throw lr(e),new Error(e)}function Oe(t,e){t||le()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Fn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class uP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dP{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new tr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new tr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new Lx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new kt(e)}}class hP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);const r=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new pP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=gP(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function gi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new ft(0,0))}static max(){return new ce(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ko.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ko?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends ko{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const yP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends ko{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return yP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _t(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new X($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new X($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(ze.fromString(e))}static fromName(e){return new ne(ze.fromString(e).popFirst(5))}static empty(){return new ne(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new ze(e.slice()))}}function vP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new Fr(s,ne.empty(),e)}function xP(t){return new Fr(t.readTime,t.key,-1)}class Fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fr(ce.min(),ne.empty(),-1)}static max(){return new Fr(ce.max(),ne.empty(),-1)}}function bP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _P{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==wP)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(h=>{o[d]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function TP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Nh.oe=-1;function pc(t){return t==null}function jl(t){return t===0&&1/t==-1/0}function EP(t){return typeof t=="number"&&Number.isInteger(t)&&!jl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Is(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ux(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new za(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new za(this.root,e,this.comparator,!1)}getReverseIterator(){return new za(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new za(this.root,e,this.comparator,!0)}}class za{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??wt.RED,this.left=s??wt.EMPTY,this.right=i??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new wt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return wt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,s,i){return this}insert(e,n,r){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wm(this.data.getIterator())}getIteratorFrom(e){return new Wm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class Wm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new en([])}unionWith(e){let n=new Tt(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new en(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Bx("Invalid base64 string: "+i):i}}(e);return new Et(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const AP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(Oe(!!t),typeof t=="string"){let e=0;const n=AP.exec(t);if(Oe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bs(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ph(t){const e=t.mapValue.fields.__previous_value__;return Rh(e)?Ph(e):e}function jo(t){const e=Ur(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n,r,s,i,o,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}class Do{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Do&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rh(t)?4:CP(t)?9007199254740991:SP(t)?10:11:le()}function Mn(t,e){if(t===e)return!0;const n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jo(t).isEqual(jo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ur(s.timestampValue),l=Ur(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return bs(s.bytesValue).isEqual(bs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return it(s.geoPointValue.latitude)===it(i.geoPointValue.latitude)&&it(s.geoPointValue.longitude)===it(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return it(s.integerValue)===it(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=it(s.doubleValue),l=it(i.doubleValue);return o===l?jl(o)===jl(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return gi(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(zm(o)!==zm(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Mn(o[u],l[u])))return!1;return!0}(t,e);default:return le()}}function Oo(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function yi(t,e){if(t===e)return 0;const n=ws(t),r=ws(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=it(i.integerValue||i.doubleValue),u=it(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return qm(t.timestampValue,e.timestampValue);case 4:return qm(jo(t),jo(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,o){const l=bs(i),u=bs(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const h=Re(l[d],u[d]);if(h!==0)return h}return Re(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Re(it(i.latitude),it(o.latitude));return l!==0?l:Re(it(i.longitude),it(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hm(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,u,d,h;const f=i.fields||{},m=o.fields||{},x=(l=f.value)===null||l===void 0?void 0:l.arrayValue,w=(u=m.value)===null||u===void 0?void 0:u.arrayValue,v=Re(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:Hm(x,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Wa.mapValue&&o===Wa.mapValue)return 0;if(i===Wa.mapValue)return 1;if(o===Wa.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),d=o.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const m=Re(u[f],h[f]);if(m!==0)return m;const x=yi(l[u[f]],d[h[f]]);if(x!==0)return x}return Re(u.length,h.length)}(t.mapValue,e.mapValue);default:throw le()}}function qm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Ur(t),r=Ur(e),s=Re(n.seconds,r.seconds);return s!==0?s:Re(n.nanos,r.nanos)}function Hm(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=yi(n[s],r[s]);if(i)return i}return Re(n.length,r.length)}function vi(t){return hd(t)}function hd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=hd(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${hd(n.fields[o])}`;return s+"}"}(t.mapValue):le()}function Km(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fd(t){return!!t&&"integerValue"in t}function kh(t){return!!t&&"arrayValue"in t}function Gm(t){return!!t&&"nullValue"in t}function Qm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function al(t){return!!t&&"mapValue"in t}function SP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function mo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Is(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!al(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mo(n)}setAll(e){let n=_t.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=mo(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());al(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];al(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Is(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Qt(mo(this.value))}}function $x(t){const e=[];return Is(t.fields,(n,r)=>{const s=new _t([n]);if(al(r)){const i=$x(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new en(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new jt(e,0,ce.min(),ce.min(),ce.min(),Qt.empty(),0)}static newFoundDocument(e,n,r,s){return new jt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new jt(e,2,n,ce.min(),ce.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,ce.min(),ce.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.position=e,this.inclusive=n}}function Ym(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=yi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function NP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{}class ut extends zx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PP(e,n,r):n==="array-contains"?new DP(e,r):n==="in"?new OP(e,r):n==="not-in"?new MP(e,r):n==="array-contains-any"?new VP(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kP(e,r):new jP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yi(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison(yi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _n extends zx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new _n(e,n)}matches(e){return Wx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Wx(t){return t.op==="and"}function qx(t){return RP(t)&&Wx(t)}function RP(t){for(const e of t.filters)if(e instanceof _n)return!1;return!0}function pd(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+vi(t.value);if(qx(t))return t.filters.map(e=>pd(e)).join(",");{const e=t.filters.map(n=>pd(n)).join(",");return`${t.op}(${e})`}}function Hx(t,e){return t instanceof ut?function(r,s){return s instanceof ut&&r.op===s.op&&r.field.isEqual(s.field)&&Mn(r.value,s.value)}(t,e):t instanceof _n?function(r,s){return s instanceof _n&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&Hx(o,s.filters[l]),!0):!1}(t,e):void le()}function Kx(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${vi(n.value)}`}(t):t instanceof _n?function(n){return n.op.toString()+" {"+n.getFilters().map(Kx).join(" ,")+"}"}(t):"Filter"}class PP extends ut{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class kP extends ut{constructor(e,n){super(e,"in",n),this.keys=Gx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jP extends ut{constructor(e,n){super(e,"not-in",n),this.keys=Gx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Gx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class DP extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kh(n)&&Oo(n.arrayValue,this.value)}}class OP extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oo(this.value.arrayValue,n)}}class MP extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Oo(this.value.arrayValue,n)}}class VP extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function Jm(t,e=null,n=[],r=[],s=null,i=null,o=null){return new LP(t,e,n,r,s,i,o)}function jh(t){const e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),pc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vi(r)).join(",")),e.ue=n}return e.ue}function Dh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Hx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xm(t.startAt,e.startAt)&&Xm(t.endAt,e.endAt)}function md(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FP(t,e,n,r,s,i,o,l){return new ia(t,e,n,r,s,i,o,l)}function Oh(t){return new ia(t)}function Zm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Qx(t){return t.collectionGroup!==null}function go(t){const e=ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Tt(_t.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Ol(i,r))}),n.has(_t.keyField().canonicalString())||e.ce.push(new Ol(_t.keyField(),r))}return e.ce}function Rn(t){const e=ue(t);return e.le||(e.le=UP(e,go(t))),e.le}function UP(t,e){if(t.limitType==="F")return Jm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ol(s.field,i)});const n=t.endAt?new Dl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dl(t.startAt.position,t.startAt.inclusive):null;return Jm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gd(t,e){const n=t.filters.concat([e]);return new ia(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yd(t,e,n){return new ia(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mc(t,e){return Dh(Rn(t),Rn(e))&&t.limitType===e.limitType}function Yx(t){return`${jh(Rn(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Kx(s)).join(", ")}]`),pc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>vi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>vi(s)).join(",")),`Target(${r})`}(Rn(t))}; limitType=${t.limitType})`}function gc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of go(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const d=Ym(o,l,u);return o.inclusive?d<=0:d<0}(r.startAt,go(r),s)||r.endAt&&!function(o,l,u){const d=Ym(o,l,u);return o.inclusive?d>=0:d>0}(r.endAt,go(r),s))}(t,e)}function BP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Xx(t){return(e,n)=>{let r=!1;for(const s of go(t)){const i=$P(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function $P(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),d=l.data.field(i);return u!==null&&d!==null?yi(u,d):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Is(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Ux(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new Ye(ne.comparator);function cr(){return zP}const Jx=new Ye(ne.comparator);function io(...t){let e=Jx;for(const n of t)e=e.insert(n.key,n);return e}function Zx(t){let e=Jx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function is(){return yo()}function eb(){return yo()}function yo(){return new Oi(t=>t.toString(),(t,e)=>t.isEqual(e))}const WP=new Ye(ne.comparator),qP=new Tt(ne.comparator);function ve(...t){let e=qP;for(const n of t)e=e.add(n);return e}const HP=new Tt(Re);function KP(){return HP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jl(e)?"-0":e}}function tb(t){return{integerValue:""+t}}function GP(t,e){return EP(e)?tb(e):Mh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this._=void 0}}function QP(t,e,n){return t instanceof Mo?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Rh(i)&&(i=Ph(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Vo?rb(t,e):t instanceof Lo?sb(t,e):function(s,i){const o=nb(s,i),l=eg(o)+eg(s.Pe);return fd(o)&&fd(s.Pe)?tb(l):Mh(s.serializer,l)}(t,e)}function YP(t,e,n){return t instanceof Vo?rb(t,e):t instanceof Lo?sb(t,e):n}function nb(t,e){return t instanceof Ml?function(r){return fd(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Mo extends yc{}class Vo extends yc{constructor(e){super(),this.elements=e}}function rb(t,e){const n=ib(e);for(const r of t.elements)n.some(s=>Mn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Lo extends yc{constructor(e){super(),this.elements=e}}function sb(t,e){let n=ib(e);for(const r of t.elements)n=n.filter(s=>!Mn(s,r));return{arrayValue:{values:n}}}class Ml extends yc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function eg(t){return it(t.integerValue||t.doubleValue)}function ib(t){return kh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n){this.field=e,this.transform=n}}function JP(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Vo&&s instanceof Vo||r instanceof Lo&&s instanceof Lo?gi(r.elements,s.elements,Mn):r instanceof Ml&&s instanceof Ml?Mn(r.Pe,s.Pe):r instanceof Mo&&s instanceof Mo}(t.transform,e.transform)}class ZP{constructor(e,n){this.version=e,this.transformResults=n}}class xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ll(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vc{}function ob(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lb(t.key,xn.none()):new oa(t.key,t.data,xn.none());{const n=t.data,r=Qt.empty();let s=new Tt(_t.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new qr(t.key,r,new en(s.toArray()),xn.none())}}function ek(t,e,n){t instanceof oa?function(s,i,o){const l=s.value.clone(),u=ng(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof qr?function(s,i,o){if(!ll(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=ng(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(ab(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vo(t,e,n,r){return t instanceof oa?function(i,o,l,u){if(!ll(i.precondition,o))return l;const d=i.value.clone(),h=rg(i.fieldTransforms,u,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof qr?function(i,o,l,u){if(!ll(i.precondition,o))return l;const d=rg(i.fieldTransforms,u,o),h=o.data;return h.setAll(ab(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return ll(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function tk(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=nb(r.transform,s||null);i!=null&&(n===null&&(n=Qt.empty()),n.set(r.field,i))}return n||null}function tg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&gi(r,s,(i,o)=>JP(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class oa extends vc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qr extends vc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ab(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ng(t,e,n){const r=new Map;Oe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,YP(o,l,n[s]))}return r}function rg(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,QP(i,o,e))}return r}class lb extends vc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nk extends vc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&ek(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=eb();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=ob(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&gi(this.mutations,e.mutations,(n,r)=>tg(n,r))&&gi(this.baseMutations,e.baseMutations,(n,r)=>tg(n,r))}}class Vh{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Oe(e.mutations.length===r.length);let s=function(){return WP}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Vh(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sk=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Ae;function ok(t){switch(t){default:return le();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function cb(t){if(t===void 0)return lr("GRPC error has no .code"),$.UNKNOWN;switch(t){case lt.OK:return $.OK;case lt.CANCELLED:return $.CANCELLED;case lt.UNKNOWN:return $.UNKNOWN;case lt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case lt.INTERNAL:return $.INTERNAL;case lt.UNAVAILABLE:return $.UNAVAILABLE;case lt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case lt.NOT_FOUND:return $.NOT_FOUND;case lt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case lt.ABORTED:return $.ABORTED;case lt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case lt.DATA_LOSS:return $.DATA_LOSS;default:return le()}}(Ae=lt||(lt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new fs([4294967295,4294967295],0);function sg(t){const e=ak().encode(t),n=new kx;return n.update(e),new Uint8Array(n.digest())}function ig(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new fs([n,r],0),new fs([s,i],0)]}class Lh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oo(`Invalid padding: ${n}`);if(r<0)throw new oo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=fs.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(fs.fromNumber(r)));return s.compare(lk)===1&&(s=new fs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=sg(e),[r,s]=ig(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Lh(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=sg(e),[r,s]=ig(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,aa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xc(ce.min(),s,new Ye(Re),cr(),ve())}}class aa{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new aa(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class ub{constructor(e,n){this.targetId=e,this.me=n}}class db{constructor(e,n,r=Et.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class og{constructor(){this.fe=0,this.ge=lg(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le()}}),new aa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=lg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ck{constructor(e){this.Le=e,this.Be=new Map,this.ke=cr(),this.qe=ag(),this.Qe=new Ye(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(md(i))if(r===0){const o=new ne(i.path);this.Ue(n,o,jt.newNoDocument(o,ce.min()))}else Oe(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=bs(r).toUint8Array()}catch(u){if(u instanceof Bx)return mi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Lh(o,s,i)}catch(u){return mi(u instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Je(o);if(l){if(i.current&&md(l.target)){const u=new ne(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,jt.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ve();this.qe.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new xc(e,n,this.Qe,this.ke,r);return this.ke=cr(),this.qe=ag(),this.Qe=new Ye(Re),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new og,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Tt(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new og),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ag(){return new Ye(ne.comparator)}function lg(){return new Ye(ne.comparator)}const uk={asc:"ASCENDING",desc:"DESCENDING"},dk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hk={and:"AND",or:"OR"};class fk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vd(t,e){return t.useProto3Json||pc(e)?e:{value:e}}function Vl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pk(t,e){return Vl(t,e.toTimestamp())}function Pn(t){return Oe(!!t),ce.fromTimestamp(function(n){const r=Ur(n);return new ft(r.seconds,r.nanos)}(t))}function Fh(t,e){return xd(t,e).canonicalString()}function xd(t,e){const n=function(s){return new ze(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fb(t){const e=ze.fromString(t);return Oe(vb(e)),e}function bd(t,e){return Fh(t.databaseId,e.path)}function yu(t,e){const n=fb(e);if(n.get(1)!==t.databaseId.projectId)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(mb(n))}function pb(t,e){return Fh(t.databaseId,e)}function mk(t){const e=fb(t);return e.length===4?ze.emptyPath():mb(e)}function wd(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mb(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cg(t,e,n){return{name:bd(t,e),fields:n.value.mapValue.fields}}function gk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Oe(h===void 0||typeof h=="string"),Et.fromBase64String(h||"")):(Oe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Et.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?$.UNKNOWN:cb(d.code);return new X(h,d.message||"")}(o);n=new db(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=yu(t,r.document.name),i=Pn(r.document.updateTime),o=r.document.createTime?Pn(r.document.createTime):ce.min(),l=new Qt({mapValue:{fields:r.document.fields}}),u=jt.newFoundDocument(s,i,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new cl(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=yu(t,r.document),i=r.readTime?Pn(r.readTime):ce.min(),o=jt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new cl([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=yu(t,r.document),i=r.removedTargetIds||[];n=new cl([],i,s,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new ik(s,i),l=r.targetId;n=new ub(l,o)}}return n}function yk(t,e){let n;if(e instanceof oa)n={update:cg(t,e.key,e.value)};else if(e instanceof lb)n={delete:bd(t,e.key)};else if(e instanceof qr)n={update:cg(t,e.key,e.data),updateMask:Ik(e.fieldMask)};else{if(!(e instanceof nk))return le();n={verify:bd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Mo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Vo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Lo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ml)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:pk(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le()}(t,e.precondition)),n}function vk(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Pn(s.updateTime):Pn(i);return o.isEqual(ce.min())&&(o=Pn(i)),new ZP(o,s.transformResults||[])}(n,e))):[]}function xk(t,e){return{documents:[pb(t,e.path)]}}function bk(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pb(t,s);const i=function(d){if(d.length!==0)return yb(_n.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:Fs(m.field),direction:Tk(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=vd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function wk(t){let e=mk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Oe(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=gb(f);return m instanceof _n&&qx(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(w){return new Ol(Us(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,pc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,x=f.values||[];return new Dl(x,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,x=f.values||[];return new Dl(x,m)}(n.endAt)),FP(e,s,o,i,l,"F",u,d)}function _k(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Us(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Us(n.unaryFilter.field);return ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Us(n.unaryFilter.field);return ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Us(n.unaryFilter.field);return ut.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return ut.create(Us(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _n.create(n.compositeFilter.filters.map(r=>gb(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function Tk(t){return uk[t]}function Ek(t){return dk[t]}function Ak(t){return hk[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Us(t){return _t.fromServerFormat(t.fieldPath)}function yb(t){return t instanceof ut?function(n){if(n.op==="=="){if(Qm(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(Gm(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qm(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(Gm(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:Ek(n.op),value:n.value}}}(t):t instanceof _n?function(n){const r=n.getFilters().map(s=>yb(s));return r.length===1?r[0]:{compositeFilter:{op:Ak(n.op),filters:r}}}(t):le()}function Ik(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n,r,s,i=ce.min(),o=ce.min(),l=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.ct=e}}function Ck(t){const e=wk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.un=new Rk}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Fr.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class Rk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Tt(ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new xi(0)}static kn(){return new xi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&vo(r.mutation,s,en.empty(),ft.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const s=is();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=io();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=cr();const o=yo(),l=function(){return yo()}();return n.forEach((u,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof qr)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),vo(h.mutation,d,h.mutation.getFieldMask(),ft.now())):o.set(d.key,en.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var f;return l.set(d,new kk(h,(f=o.get(d))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=yo();let s=new Ye((o,l)=>o-l),i=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let h=r.get(u)||en.empty();h=l.applyToLocalView(d,h),r.set(u,h);const f=(s.get(l.batchId)||ve()).add(u);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,h=u.value,f=eb();h.forEach(m=>{if(!i.has(m)){const x=ob(n.get(m),r.get(m));x!==null&&f.set(m,x),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Qx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(is());let l=-1,u=i;return o.next(d=>z.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,ve())).next(h=>({batchId:l,changes:Zx(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let s=io();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=io();return this.indexManager.getCollectionParents(e,i).next(l=>z.forEach(l,u=>{const d=function(f,m){return new ia(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,jt.newInvalidDocument(h)))});let l=io();return o.forEach((u,d)=>{const h=i.get(u);h!==void 0&&vo(h.mutation,d,en.empty(),ft.now()),gc(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Pn(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:Ck(s.bundledQuery),readTime:Pn(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.overlays=new Ye(ne.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=is();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=is(),i=n.length+1,o=new ne(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ye((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=is(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=is(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return z.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sk(n,r));let i=this.Ir.get(n);i===void 0&&(i=ve(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this.Tr=new Tt(mt.Er),this.dr=new Tt(mt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new mt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ne(new ze([])),r=new mt(n,e),s=new mt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ne(new ze([])),r=new mt(n,e),s=new mt(n,e+1);let i=ve();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new mt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||Re(e.wr,n.wr)}static Ar(e,n){return Re(e.wr,n.wr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Tt(mt.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rk(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new mt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),s=new mt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);i.push(l)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(Re);return n.forEach(s=>{const i=new mt(s,0),o=new mt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],l=>{r=r.add(l.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new mt(new ne(i),0);let l=new Tt(Re);return this.br.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(u.wr)),!0)},o),z.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Oe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,s=>{const i=new mt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new mt(n,0),s=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.Mr=e,this.docs=function(){return new Ye(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=cr();const o=n.path,l=new ne(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||bP(xP(h),r)<=0||(s.has(h.key)||gc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Fk(this)}getSize(e){return z.resolve(this.size)}}class Fk extends Pk{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.persistence=e,this.Nr=new Oi(n=>jh(n),Dh),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Uh,this.targetCount=0,this.kr=xi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new xi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Nh(0),this.Kr=!1,this.Kr=!0,this.$r=new Mk,this.referenceDelegate=e(this),this.Ur=new Uk(this),this.indexManager=new Nk,this.remoteDocumentCache=function(s){return new Lk(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Sk(n),this.Gr=new Dk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ok,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Vk(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const s=new $k(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class $k extends _P{constructor(e){super(),this.currentSequenceNumber=e}}class Bh{constructor(e){this.persistence=e,this.Jr=new Uh,this.Yr=null}static Zr(e){return new Bh(e)}get Xr(){if(this.Yr)return this.Yr;throw le()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const s=ne.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ve(),s=ve();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new $h(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return HS()?8:TP(Mt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new zk;return this.Xi(e,n,o).next(l=>{if(i.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(no()<=_e.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(no()<=_e.DEBUG&&J("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(no()<=_e.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rn(n))):z.resolve())}Yi(e,n){if(Zm(n))return z.resolve(null);let r=Rn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=yd(n,null,"F"),r=Rn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ve(...i);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.ts(n,l);return this.ns(n,d,o,u.readTime)?this.Yi(e,yd(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,s){return Zm(n)||s.isEqual(ce.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?z.resolve(null):(no()<=_e.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ls(n)),this.rs(e,o,n,vP(s,-1)).next(l=>l))})}ts(e,n){let r=new Tt(Xx(e));return n.forEach((s,i)=>{gc(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return no()<=_e.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.Ji.getDocumentsMatchingQuery(e,n,Fr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ye(Re),this._s=new Oi(i=>jh(i),Dh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jk(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Hk(t,e,n,r){return new qk(t,e,n,r)}async function xb(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=ve();for(const d of s){o.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:l}))})})}function Kk(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,d,h){const f=d.batch,m=f.keys();let x=z.resolve();return m.forEach(w=>{x=x.next(()=>h.getEntry(u,w)).next(v=>{const b=d.docVersions.get(w);Oe(b!==null),v.version.compareTo(b)<0&&(f.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),h.addEntry(v)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ve();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function bb(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Gk(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let x=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(Et.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),s=s.insert(f,x),function(v,b,E){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,x,h)&&l.push(n.Ur.updateTargetData(i,x))});let u=cr(),d=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(Qk(i,o,e.documentUpdates).next(h=>{u=h.Ps,d=h.Is})),!r.isEqual(ce.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return z.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.os=s,i))}function Qk(t,e,n){let r=ve(),s=ve();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=cr();return n.forEach((l,u)=>{const d=i.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function Yk(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xk(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Sr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function _d(t,e,n){const r=ue(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!sa(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function ug(t,e,n){const r=ue(t);let s=ce.min(),i=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,h){const f=ue(u),m=f._s.get(h);return m!==void 0?z.resolve(f.os.get(m)):f.Ur.getTargetData(d,h)}(r,o,Rn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:ve())).next(l=>(Jk(r,BP(e),l),{documents:l,Ts:i})))}function Jk(t,e,n){let r=t.us.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class dg{constructor(){this.activeTargetIds=KP()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zk{constructor(){this.so=new dg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new dg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa=null;function vu(){return qa===null?qa=function(){return 268435456+Math.round(2147483648*Math.random())}():qa++,"0x"+qa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class rj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const l=vu(),u=this.xo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${l}:`,u,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(n,u,d,s).then(h=>(J("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw mi("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",u,"request:",s),h})}Lo(n,r,s,i,o,l){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Di}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=tj[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=vu();return new Promise((o,l)=>{const u=new jx;u.setWithCredentials(!0),u.listenOnce(Dx.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ol.NO_ERROR:const h=u.getResponseJson();J(Nt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case ol.TIMEOUT:J(Nt,`RPC '${e}' ${i} timed out`),l(new X($.DEADLINE_EXCEEDED,"Request time out"));break;case ol.HTTP_ERROR:const f=u.getStatus();if(J(Nt,`RPC '${e}' ${i} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const x=m==null?void 0:m.error;if(x&&x.status&&x.message){const w=function(b){const E=b.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(E)>=0?E:$.UNKNOWN}(x.status);l(new X(w,x.message))}else l(new X($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X($.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{J(Nt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);J(Nt,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=vu(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Vx(),l=Mx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");J(Nt,`Creating RPC '${e}' stream ${s}: ${h}`,u);const f=o.createWebChannel(h,u);let m=!1,x=!1;const w=new nj({Io:b=>{x?J(Nt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(m||(J(Nt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),J(Nt,`RPC '${e}' stream ${s} sending:`,b),f.send(b))},To:()=>f.close()}),v=(b,E,A)=>{b.listen(E,R=>{try{A(R)}catch(j){setTimeout(()=>{throw j},0)}})};return v(f,so.EventType.OPEN,()=>{x||(J(Nt,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),v(f,so.EventType.CLOSE,()=>{x||(x=!0,J(Nt,`RPC '${e}' stream ${s} transport closed`),w.So())}),v(f,so.EventType.ERROR,b=>{x||(x=!0,mi(Nt,`RPC '${e}' stream ${s} transport errored:`,b),w.So(new X($.UNAVAILABLE,"The operation could not be completed")))}),v(f,so.EventType.MESSAGE,b=>{var E;if(!x){const A=b.data[0];Oe(!!A);const R=A,j=R.error||((E=R[0])===null||E===void 0?void 0:E.error);if(j){J(Nt,`RPC '${e}' stream ${s} received error:`,j);const D=j.status;let V=function(S){const P=lt[S];if(P!==void 0)return cb(P)}(D),N=j.message;V===void 0&&(V=$.INTERNAL,N="Unknown error status: "+D+" with message "+j.message),x=!0,w.So(new X(V,N)),f.close()}else J(Nt,`RPC '${e}' stream ${s} received:`,A),w.bo(A)}}),v(l,Ox.STAT_EVENT,b=>{b.stat===dd.PROXY?J(Nt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===dd.NOPROXY&&J(Nt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function xu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){return new fk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n,r,s,i,o,l,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new wb(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new X($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sj extends _b{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=gk(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?Pn(o.readTime):ce.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=wd(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=md(u)?{documents:xk(i,u)}:{query:bk(i,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=hb(i,o.resumeToken);const d=vd(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(ce.min())>0){l.readTime=Vl(i,o.snapshotVersion.toTimestamp());const d=vd(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=_k(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=wd(this.serializer),n.removeTarget=e,this.a_(n)}}class ij extends _b{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=vk(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=wd(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yk(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,xd(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X($.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,xd(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class aj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(lr(n),this.D_=!1):J("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ss(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=ue(u);d.L_.add(4),await la(d),d.q_.set("Unknown"),d.L_.delete(4),await wc(d)}(this))})}),this.q_=new aj(r,s)}}async function wc(t){if(Ss(t))for(const e of t.B_)await e(!0)}async function la(t){for(const e of t.B_)await e(!1)}function Tb(t,e){const n=ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Hh(n)?qh(n):Mi(n).r_()&&Wh(n,e))}function zh(t,e){const n=ue(t),r=Mi(n);n.N_.delete(e),r.r_()&&Eb(n,e),n.N_.size===0&&(r.r_()?r.o_():Ss(n)&&n.q_.set("Unknown"))}function Wh(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mi(t).A_(e)}function Eb(t,e){t.Q_.xe(e),Mi(t).R_(e)}function qh(t){t.Q_=new ck({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Mi(t).start(),t.q_.v_()}function Hh(t){return Ss(t)&&!Mi(t).n_()&&t.N_.size>0}function Ss(t){return ue(t).L_.size===0}function Ab(t){t.Q_=void 0}async function cj(t){t.q_.set("Online")}async function uj(t){t.N_.forEach((e,n)=>{Wh(t,e)})}async function dj(t,e){Ab(t),Hh(t)?(t.q_.M_(e),qh(t)):t.q_.set("Unknown")}async function hj(t,e,n){if(t.q_.set("Online"),e instanceof db&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ll(t,r)}else if(e instanceof cl?t.Q_.Ke(e):e instanceof ub?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ce.min()))try{const r=await bb(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Q_.rt(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const h=i.N_.get(u);if(!h)return;i.N_.set(u,h.withResumeToken(Et.EMPTY_BYTE_STRING,h.snapshotVersion)),Eb(i,u);const f=new Sr(h.target,u,d,h.sequenceNumber);Wh(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await Ll(t,r)}}async function Ll(t,e,n){if(!sa(e))throw e;t.L_.add(1),await la(t),t.q_.set("Offline"),n||(n=()=>bb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await wc(t)})}function Ib(t,e){return e().catch(n=>Ll(t,n,e))}async function _c(t){const e=ue(t),n=Br(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fj(e);)try{const s=await Yk(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,pj(e,s)}catch(s){await Ll(e,s)}Sb(e)&&Cb(e)}function fj(t){return Ss(t)&&t.O_.length<10}function pj(t,e){t.O_.push(e);const n=Br(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Sb(t){return Ss(t)&&!Br(t).n_()&&t.O_.length>0}function Cb(t){Br(t).start()}async function mj(t){Br(t).p_()}async function gj(t){const e=Br(t);for(const n of t.O_)e.m_(n.mutations)}async function yj(t,e,n){const r=t.O_.shift(),s=Vh.from(r,e,n);await Ib(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await _c(t)}async function vj(t,e){e&&Br(t).V_&&await async function(r,s){if(function(o){return ok(o)&&o!==$.ABORTED}(s.code)){const i=r.O_.shift();Br(r).s_(),await Ib(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await _c(r)}}(t,e),Sb(t)&&Cb(t)}async function fg(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Ss(n);n.L_.add(3),await la(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await wc(n)}async function xj(t,e){const n=ue(t);e?(n.L_.delete(2),await wc(n)):e||(n.L_.add(2),await la(n),n.q_.set("Unknown"))}function Mi(t){return t.K_||(t.K_=function(n,r,s){const i=ue(n);return i.w_(),new sj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:cj.bind(null,t),Ro:uj.bind(null,t),mo:dj.bind(null,t),d_:hj.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Hh(t)?qh(t):t.q_.set("Unknown")):(await t.K_.stop(),Ab(t))})),t.K_}function Br(t){return t.U_||(t.U_=function(n,r,s){const i=ue(n);return i.w_(),new ij(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mj.bind(null,t),mo:vj.bind(null,t),f_:gj.bind(null,t),g_:yj.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await _c(t)):(await t.U_.stop(),t.O_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Kh(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gh(t,e){if(lr("AsyncQueue",`${e}: ${t}`),sa(t))return new X($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=io(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Js(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Js;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.W_=new Ye(ne.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):le():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class bi{constructor(e,n,r,s,i,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new bi(e,n,Js.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class wj{constructor(){this.queries=mg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=mg(),i.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new X($.ABORTED,"Firestore shutting down"))}}function mg(){return new Oi(t=>Yx(t),mc)}async function Nb(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new bj,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Gh(o,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Qh(n)}async function Rb(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _j(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&Qh(n)}function Tj(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Qh(t){t.Y_.forEach(e=>{e.next()})}var Td,gg;(gg=Td||(Td={})).ea="default",gg.Cache="cache";class Pb{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new bi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=bi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.key=e}}class jb{constructor(e){this.key=e}}class Ej{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=Xx(e),this.Ra=new Js(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new pg,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),x=gc(this.query,f)?f:null,w=!!m&&this.mutatedKeys.has(m.key),v=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;m&&x?m.data.isEqual(x.data)?w!==v&&(r.track({type:3,doc:x}),b=!0):this.ga(m,x)||(r.track({type:2,doc:x}),b=!0,(u&&this.Aa(x,u)>0||d&&this.Aa(x,d)<0)&&(l=!0)):!m&&x?(r.track({type:0,doc:x}),b=!0):m&&!x&&(r.track({type:1,doc:m}),b=!0,(u||d)&&(l=!0)),b&&(x?(o=o.add(x),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(x,w){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return v(x)-v(w)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new bi(this.query,e.Ra,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new pg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new jb(r))}),this.da.forEach(r=>{e.has(r)||n.push(new kb(r))}),n}ba(e){this.Ta=e.Ts,this.da=ve();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return bi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Aj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ij{constructor(e){this.key=e,this.va=!1}}class Sj{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Oi(l=>Yx(l),mc),this.Ma=new Map,this.xa=new Set,this.Oa=new Ye(ne.comparator),this.Na=new Map,this.La=new Uh,this.Ba={},this.ka=new Map,this.qa=xi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Cj(t,e,n=!0){const r=Fb(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Db(r,e,n,!0),s}async function Nj(t,e){const n=Fb(t);await Db(n,e,!0,!1)}async function Db(t,e,n,r){const s=await Xk(t.localStore,Rn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await Rj(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Tb(t.remoteStore,s),l}async function Rj(t,e,n,r,s){t.Ka=(f,m,x)=>async function(v,b,E,A){let R=b.view.ma(E);R.ns&&(R=await ug(v.localStore,b.query,!1).then(({documents:N})=>b.view.ma(N,R)));const j=A&&A.targetChanges.get(b.targetId),D=A&&A.targetMismatches.get(b.targetId)!=null,V=b.view.applyChanges(R,v.isPrimaryClient,j,D);return vg(v,b.targetId,V.wa),V.snapshot}(t,f,m,x);const i=await ug(t.localStore,e,!0),o=new Ej(e,i.Ts),l=o.ma(i.documents),u=aa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,u);vg(t,n,d.wa);const h=new Aj(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function Pj(t,e,n){const r=ue(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!mc(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await _d(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&zh(r.remoteStore,s.targetId),Ed(r,s.targetId)}).catch(ra)):(Ed(r,s.targetId),await _d(r.localStore,s.targetId,!0))}async function kj(t,e){const n=ue(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zh(n.remoteStore,r.targetId))}async function jj(t,e,n){const r=Uj(t);try{const s=await function(o,l){const u=ue(o),d=ft.now(),h=l.reduce((x,w)=>x.add(w.key),ve());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",x=>{let w=cr(),v=ve();return u.cs.getEntries(x,h).next(b=>{w=b,w.forEach((E,A)=>{A.isValidDocument()||(v=v.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(x,w)).next(b=>{f=b;const E=[];for(const A of l){const R=tk(A,f.get(A.key).overlayedDocument);R!=null&&E.push(new qr(A.key,R,$x(R.value.mapValue),xn.exists(!0)))}return u.mutationQueue.addMutationBatch(x,d,E,l)}).next(b=>{m=b;const E=b.applyToLocalDocumentSet(f,v);return u.documentOverlayCache.saveOverlays(x,b.batchId,E)})}).then(()=>({batchId:m.batchId,changes:Zx(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Ye(Re)),d=d.insert(l,u),o.Ba[o.currentUser.toKey()]=d}(r,s.batchId,n),await ca(r,s.changes),await _c(r.remoteStore)}catch(s){const i=Gh(s,"Failed to persist write");n.reject(i)}}async function Ob(t,e){const n=ue(t);try{const r=await Gk(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Oe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Oe(o.va):s.removedDocuments.size>0&&(Oe(o.va),o.va=!1))}),await ca(n,r,e)}catch(r){await ra(r)}}function yg(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=ue(o);u.onlineState=l;let d=!1;u.queries.forEach((h,f)=>{for(const m of f.j_)m.Z_(l)&&(d=!0)}),d&&Qh(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Dj(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ye(ne.comparator);o=o.insert(i,jt.newNoDocument(i,ce.min()));const l=ve().add(i),u=new xc(ce.min(),new Map,new Ye(Re),o,l);await Ob(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),Yh(r)}else await _d(r.localStore,e,!1).then(()=>Ed(r,e,n)).catch(ra)}async function Oj(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await Kk(n.localStore,e);Vb(n,r,null),Mb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ca(n,s)}catch(s){await ra(s)}}async function Mj(t,e,n){const r=ue(t);try{const s=await function(o,l){const u=ue(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return u.mutationQueue.lookupMutationBatch(d,l).next(f=>(Oe(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(d,f))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>u.localDocuments.getDocuments(d,h))})}(r.localStore,e);Vb(r,e,n),Mb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ca(r,s)}catch(s){await ra(s)}}function Mb(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Vb(t,e,n){const r=ue(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Ed(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Lb(t,r)})}function Lb(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(zh(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Yh(t))}function vg(t,e,n){for(const r of n)r instanceof kb?(t.La.addReference(r.key,e),Vj(t,r)):r instanceof jb?(J("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Lb(t,r.key)):le()}function Vj(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(J("SyncEngine","New document in limbo: "+n),t.xa.add(r),Yh(t))}function Yh(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ne(ze.fromString(e)),r=t.qa.next();t.Na.set(r,new Ij(n)),t.Oa=t.Oa.insert(n,r),Tb(t.remoteStore,new Sr(Rn(Oh(n.path)),r,"TargetPurposeLimboResolution",Nh.oe))}}async function ca(t,e,n){const r=ue(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(d){s.push(d);const f=$h.Wi(u.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,d){const h=ue(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(d,m=>z.forEach(m.$i,x=>h.persistence.referenceDelegate.addReference(f,m.targetId,x)).next(()=>z.forEach(m.Ui,x=>h.persistence.referenceDelegate.removeReference(f,m.targetId,x)))))}catch(f){if(!sa(f))throw f;J("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const x=h.os.get(m),w=x.snapshotVersion,v=x.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(m,v)}}}(r.localStore,i))}async function Lj(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await xb(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(l=>{l.forEach(u=>{u.reject(new X($.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ca(n,r.hs)}}function Fj(t,e){const n=ue(t),r=n.Na.get(e);if(r&&r.va)return ve().add(r.key);{let s=ve();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function Fb(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ob.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dj.bind(null,e),e.Ca.d_=_j.bind(null,e.eventManager),e.Ca.$a=Tj.bind(null,e.eventManager),e}function Uj(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Oj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mj.bind(null,e),e}class Fl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Hk(this.persistence,new Wk,e.initialUser,this.serializer)}Ga(e){return new Bk(Bh.Zr,this.serializer)}Wa(e){return new Zk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fl.provider={build:()=>new Fl};class Ad{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lj.bind(null,this.syncEngine),await xj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wj}()}createDatastore(e){const n=bc(e.databaseInfo.databaseId),r=function(i){return new rj(i)}(e.databaseInfo);return function(i,o,l,u){return new oj(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new lj(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>yg(this.syncEngine,n,0),function(){return hg.D()?new hg:new ej}())}createSyncEngine(e,n){return function(s,i,o,l,u,d,h){const f=new Sj(s,i,o,l,u,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);J("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await la(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ad.provider={build:()=>new Ad};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=kt.UNAUTHENTICATED,this.clientId=Fx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{J("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bu(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await xb(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $j(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>fg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>fg(e.remoteStore,s)),t._onlineComponents=e}async function $j(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await bu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;mi("Error using user provided cache. Falling back to memory cache: "+n),await bu(t,new Fl)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await bu(t,new Fl);return t._offlineComponents}async function Bb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await xg(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await xg(t,new Ad))),t._onlineComponents}function zj(t){return Bb(t).then(e=>e.syncEngine)}async function $b(t){const e=await Bb(t),n=e.eventManager;return n.onListen=Cj.bind(null,e.syncEngine),n.onUnlisten=Pj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Nj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kj.bind(null,e.syncEngine),n}function Wj(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,d){const h=new Ub({next:m=>{h.Za(),o.enqueueAndForget(()=>Rb(i,f));const x=m.docs.has(l);!x&&m.fromCache?d.reject(new X($.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&m.fromCache&&u&&u.source==="server"?d.reject(new X($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new Pb(Oh(l.path),h,{includeMetadataChanges:!0,_a:!0});return Nb(i,f)}(await $b(t),t.asyncQueue,e,n,r)),r.promise}function qj(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,d){const h=new Ub({next:m=>{h.Za(),o.enqueueAndForget(()=>Rb(i,f)),m.fromCache&&u.source==="server"?d.reject(new X($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new Pb(l,h,{includeMetadataChanges:!0,_a:!0});return Nb(i,f)}(await $b(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t,e,n){if(!n)throw new X($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hj(t,e,n,r){if(e===!0&&r===!0)throw new X($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wg(t){if(!ne.isDocumentKey(t))throw new X($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _g(t){if(ne.isDocumentKey(t))throw new X($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function Vn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tc(t);throw new X($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ec{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cP;switch(r.type){case"firstParty":return new fP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bg.get(n);r&&(J("ComponentProvider","Removing Datastore"),bg.delete(n),r.terminate())}(this),Promise.resolve()}}function Kj(t,e,n,r={}){var s;const i=(t=Vn(t,Ec))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=kt.MOCK_USER;else{l=FS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new X($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kt(d)}t._authCredentials=new uP(new Lx(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vi(this.firestore,e,this._query)}}class $t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}}class kr extends Vi{constructor(e,n,r){super(e,n,Oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new ne(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function jr(t,e,...n){if(t=Vt(t),Wb("collection","path",e),t instanceof Ec){const r=ze.fromString(e,...n);return _g(r),new kr(t,null,r)}{if(!(t instanceof $t||t instanceof kr))throw new X($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return _g(r),new kr(t.firestore,null,r)}}function tt(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=Fx.newId()),Wb("doc","path",e),t instanceof Ec){const r=ze.fromString(e,...n);return wg(r),new $t(t,null,new ne(r))}{if(!(t instanceof $t||t instanceof kr))throw new X($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return wg(r),new $t(t.firestore,t instanceof kr?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new wb(this,"async_queue_retry"),this.Vu=()=>{const r=xu();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=xu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=xu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new tr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!sa(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw lr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Kh.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&le()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Li extends Ec{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Eg,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Eg(e),this._firestoreClient=void 0,await e}}}function gt(t,e){const n=typeof t=="object"?t:J0(),r=typeof t=="string"?t:"(default)",s=gh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=VS("firestore");i&&Kj(s,...i)}return s}function Xh(t){if(t._terminated)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Gj(t),t._firestoreClient}function Gj(t){var e,n,r;const s=t._freezeSettings(),i=function(l,u,d,h){return new IP(l,u,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,zb(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Bj(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wi(Et.fromBase64String(e))}catch(n){throw new X($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wi(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=/^__.*__$/;class Yj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new oa(e,this.data,n,this.fieldTransforms)}}class qb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class ef{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ul(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Hb(this.Cu)&&Qj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Xj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bc(e)}Qu(e,n,r,s=!1){return new ef({Cu:e,methodName:n,qu:r,path:_t.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sc(t){const e=t._freezeSettings(),n=bc(t._databaseId);return new Xj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kb(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);nf("Data must be an object, but it was:",o,r);const l=Gb(r,o);let u,d;if(i.merge)u=new en(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Id(e,f,n);if(!o.contains(m))throw new X($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Yb(h,m)||h.push(m)}u=new en(h),d=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,d=o.fieldTransforms;return new Yj(new Qt(l),u,d)}class Cc extends Ic{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cc}}class tf extends Ic{_toFieldTransform(e){return new XP(e.path,new Mo)}isEqual(e){return e instanceof tf}}function Jj(t,e,n,r){const s=t.Qu(1,e,n);nf("Data must be an object, but it was:",s,r);const i=[],o=Qt.empty();Is(r,(u,d)=>{const h=rf(e,u,n);d=Vt(d);const f=s.Nu(h);if(d instanceof Cc)i.push(h);else{const m=ua(d,f);m!=null&&(i.push(h),o.set(h,m))}});const l=new en(i);return new qb(o,l,s.fieldTransforms)}function Zj(t,e,n,r,s,i){const o=t.Qu(1,e,n),l=[Id(e,r,n)],u=[s];if(i.length%2!=0)throw new X($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(Id(e,i[m])),u.push(i[m+1]);const d=[],h=Qt.empty();for(let m=l.length-1;m>=0;--m)if(!Yb(d,l[m])){const x=l[m];let w=u[m];w=Vt(w);const v=o.Nu(x);if(w instanceof Cc)d.push(x);else{const b=ua(w,v);b!=null&&(d.push(x),h.set(x,b))}}const f=new en(d);return new qb(h,f,o.fieldTransforms)}function e2(t,e,n,r=!1){return ua(n,t.Qu(r?4:3,e))}function ua(t,e){if(Qb(t=Vt(t)))return nf("Unsupported field value:",e,t),Gb(t,e);if(t instanceof Ic)return function(r,s){if(!Hb(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let u=ua(l,s.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GP(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ft.fromDate(r);return{timestampValue:Vl(s.serializer,i)}}if(r instanceof ft){const i=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vl(s.serializer,i)}}if(r instanceof Jh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wi)return{bytesValue:hb(s.serializer,r._byteString)};if(r instanceof $t){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Fh(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Zh)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return Mh(l.serializer,u)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Tc(r)}`)}(t,e)}function Gb(t,e){const n={};return Ux(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Is(t,(r,s)=>{const i=ua(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Qb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Jh||t instanceof wi||t instanceof $t||t instanceof Ic||t instanceof Zh)}function nf(t,e,n){if(!Qb(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Tc(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Id(t,e,n){if((e=Vt(e))instanceof Ac)return e._internalPath;if(typeof e=="string")return rf(t,e);throw Ul("Field path arguments must be of type string or ",t,!1,void 0,n)}const t2=new RegExp("[~\\*/\\[\\]]");function rf(t,e,n){if(e.search(t2)>=0)throw Ul(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ac(...e.split("."))._internalPath}catch{throw Ul(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ul(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new X($.INVALID_ARGUMENT,l+t+u)}function Yb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n2 extends Xb{data(){return super.data()}}function sf(t,e){return typeof e=="string"?rf(t,e):e instanceof Ac?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class of{}class s2 extends of{}function Ag(t,e,...n){let r=[];e instanceof of&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof af).length,l=i.filter(u=>u instanceof Nc).length;if(o>1||o>0&&l>0)throw new X($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Nc extends s2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nc(e,n,r)}_apply(e){const n=this._parse(e);return Jb(e._query,n),new Vi(e.firestore,e.converter,gd(e._query,n))}_parse(e){const n=Sc(e.firestore);return function(i,o,l,u,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new X($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Cg(f,h);const x=[];for(const w of f)x.push(Sg(u,i,w));m={arrayValue:{values:x}}}else m=Sg(u,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Cg(f,h),m=e2(l,o,f,h==="in"||h==="not-in");return ut.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ig(t,e,n){const r=e,s=sf("where",t);return Nc._create(s,r,n)}class af extends of{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new af(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const u of l)Jb(o,u),o=gd(o,u)}(e._query,n),new Vi(e.firestore,e.converter,gd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Sg(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new X($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qx(e)&&n.indexOf("/")!==-1)throw new X($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ze.fromString(n));if(!ne.isDocumentKey(r))throw new X($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Km(t,new ne(r))}if(n instanceof $t)return Km(t,n._key);throw new X($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tc(n)}.`)}function Cg(t,e){if(!Array.isArray(t)||t.length===0)throw new X($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jb(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class i2{convertValue(e,n="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Is(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>it(o.doubleValue));return new Zh(i)}convertGeoPoint(e){return new Jh(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ph(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);Oe(vb(r));const s=new Do(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||lr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ew extends Xb{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ul(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ul extends ew{data(e={}){return super.data(e)}}class o2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ao(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ul(this._firestore,this._userDataWriter,r.key,r,new ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new ul(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ao(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new ul(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ao(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:a2(l.type),doc:u,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function a2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t){t=Vn(t,$t);const e=Vn(t.firestore,Li);return Wj(Xh(e),t._key).then(n=>l2(e,t,n))}class tw extends i2{constructor(e){super(),this.firestore=e}convertBytes(e){return new wi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function Fo(t){t=Vn(t,Vi);const e=Vn(t.firestore,Li),n=Xh(e),r=new tw(e);return r2(t._query),qj(n,t._query).then(s=>new o2(e,r,t,s))}function lf(t,e,n){t=Vn(t,$t);const r=Vn(t.firestore,Li),s=Zb(t.converter,e);return uf(r,[Kb(Sc(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,xn.none())])}function xo(t,e,n,...r){t=Vn(t,$t);const s=Vn(t.firestore,Li),i=Sc(s);let o;return o=typeof(e=Vt(e))=="string"||e instanceof Ac?Zj(i,"updateDoc",t._key,e,n,r):Jj(i,"updateDoc",t._key,e),uf(s,[o.toMutation(t._key,xn.exists(!0))])}function cf(t,e){const n=Vn(t.firestore,Li),r=tt(t),s=Zb(t.converter,e);return uf(n,[Kb(Sc(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,xn.exists(!1))]).then(()=>r)}function uf(t,e){return function(r,s){const i=new tr;return r.asyncQueue.enqueueAndForget(async()=>jj(await zj(r),s,i)),i.promise}(Xh(t),e)}function l2(t,e,n){const r=n.docs.get(e._key),s=new tw(t);return new ew(t,s,e._key,r,new ao(n.hasPendingWrites,n.fromCache),e.converter)}function Uo(){return new tf("serverTimestamp")}(function(e,n=!0){(function(s){Di=s})(Pi),fi(new ys("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Li(new dP(r.getProvider("auth-internal")),new mP(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new X($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Pr($m,"4.7.3",e),Pr($m,"4.7.3","esm2017")})();const df={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0};Object.entries(df).forEach(([t,e])=>{if(!e)throw new Error(`Firebase configuration error: ${t} is not set. Please check your .env file.`)});const nw=X0(df),Ng=ji(nw),Dr=gt(nw),Rc=new qn;Rc.addScope("profile");Rc.addScope("email");Rc.setCustomParameters({prompt:"select_account"});const Pc=new Hn;Pc.addScope("read:user");Pc.addScope("user:email");Pc.setCustomParameters({allow_signup:"true",redirect_uri:`https://${df.authDomain}/__/auth/handler`});const Ht=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ht.displayName="Card";const Kt=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:je("flex flex-col space-y-1.5 p-6",t),...e}));Kt.displayName="CardHeader";const rw=g.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:je("text-2xl font-semibold leading-none tracking-tight",t),...e}));rw.displayName="CardTitle";const sw=g.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:je("text-sm text-muted-foreground",t),...e}));sw.displayName="CardDescription";const Gt=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:je("p-6 pt-0",t),...e}));Gt.displayName="CardContent";const kc=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:je("flex items-center p-6 pt-0",t),...e}));kc.displayName="CardFooter";function wu({userType:t}){const e=Es(),[n,r]=g.useState(null),{toast:s}=Wr(),i=async o=>{try{r(o),console.log("Starting authentication with:",o);const u=await mR(Ng,o==="google"?Rc:Pc);if(console.log("Authentication successful:",u.user),!u.user.email)throw new Error("No email provided from authentication provider");let d="";o==="github"&&u.user.providerData[0]&&(d=u.user.providerData[0].displayName||"");const h={name:u.user.displayName||"",email:u.user.email,photoURL:u.user.photoURL||"",uid:u.user.uid,github:o==="github"?d:""};console.log("Navigating to signup with user data:",h),e(`/signup/${t}`,{state:h,replace:!0})}catch(l){if(console.error("Auth error:",l),l instanceof Fn)switch(console.error("Firebase Auth Error:",l.code,l.message),l.code){case"auth/popup-closed-by-user":s({title:"Authentication Cancelled",description:"You closed the authentication window. Please try again.",variant:"default"});break;case"auth/popup-blocked":s({title:"Popup Blocked",description:"Please allow popups for this site and try again.",variant:"destructive"});break;case"auth/unauthorized-domain":s({title:"Domain Not Authorized",description:"This domain is not authorized in Firebase. Please add 'localhost:5173' to authorized domains in Firebase Console.",variant:"destructive"}),console.error(`
              Firebase Domain Error: Please follow these steps:
              1. Go to Firebase Console
              2. Select project: cofoundry-6ab44
              3. Go to Authentication > Settings
              4. Add these domains:
                 - localhost
                 - localhost:5173
                 - 127.0.0.1
            `);break;case"auth/operation-not-allowed":s({title:"Authentication Method Not Enabled",description:"This authentication method is not enabled. Please enable it in Firebase Console.",variant:"destructive"}),console.error(`
              Firebase Auth Error: Please follow these steps:
              1. Go to Firebase Console
              2. Select project: cofoundry-6ab44
              3. Go to Authentication > Sign-in method
              4. Enable ${o} authentication
            `);break;case"auth/invalid-oauth-client-id":s({title:"Invalid OAuth Configuration",description:"The OAuth client ID or secret is incorrect. Please check your GitHub OAuth settings.",variant:"destructive"}),console.error(`
              GitHub OAuth Error: Please follow these steps:
              1. Go to GitHub.com > Settings > Developer Settings > OAuth Apps
              2. Create or update your OAuth App with:
                 - Homepage URL: http://localhost:5173
                 - Authorization callback URL: https://${Ng.app.options.authDomain}/__/auth/handler
              3. Copy the Client ID and Client Secret
              4. Go to Firebase Console > Authentication > Sign-in method
              5. Update GitHub provider settings with the new credentials
            `);break;default:s({title:"Authentication Error",description:l.message||"Failed to sign in. Please try again.",variant:"destructive"})}else s({title:"Authentication Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{r(null)}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:a.jsxs(Ht,{className:"w-full max-w-md",children:[a.jsxs(Kt,{className:"text-center",children:[a.jsxs(rw,{className:"text-2xl",children:["Sign Up as ",t==="developer"?"Developer":t==="recruiter"?"Recruiter":"Investor"]}),a.jsx(sw,{children:"Choose your preferred sign-up method"})]}),a.jsxs(Gt,{className:"space-y-4",children:[a.jsxs(Z,{variant:"outline",className:"w-full h-12",onClick:()=>i("google"),disabled:n!==null,children:[n==="google"?a.jsx(Hp,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(R1,{className:"mr-2 h-4 w-4"}),"Continue with Google"]}),a.jsxs(Z,{variant:"outline",className:"w-full h-12",onClick:()=>i("github"),disabled:n!==null,children:[n==="github"?a.jsx(Hp,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(N1,{className:"mr-2 h-4 w-4"}),"Continue with GitHub"]})]})]})})}const oe=g.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));oe.displayName="Input";var c2="Label",iw=g.forwardRef((t,e)=>a.jsx(Se.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));iw.displayName=c2;var ow=iw;const u2=Zd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ue=g.forwardRef(({className:t,...e},n)=>a.jsx(ow,{ref:n,className:je(u2(),t),...e}));Ue.displayName=ow.displayName;function Rg(t,[e,n]){return Math.min(n,Math.max(e,t))}var d2=g.createContext(void 0);function h2(t){const e=g.useContext(d2);return t||e||"ltr"}var _u=0;function aw(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Pg()),document.body.insertAdjacentElement("beforeend",t[1]??Pg()),_u++,()=>{_u===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_u--}},[])}function Pg(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Tu="focusScope.autoFocusOnMount",Eu="focusScope.autoFocusOnUnmount",kg={bubbles:!1,cancelable:!0},f2="FocusScope",hf=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,u]=g.useState(null),d=sn(s),h=sn(i),f=g.useRef(null),m=qe(e,v=>u(v)),x=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let v=function(R){if(x.paused||!l)return;const j=R.target;l.contains(j)?f.current=j:vr(f.current,{select:!0})},b=function(R){if(x.paused||!l)return;const j=R.relatedTarget;j!==null&&(l.contains(j)||vr(f.current,{select:!0}))},E=function(R){if(document.activeElement===document.body)for(const D of R)D.removedNodes.length>0&&vr(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const A=new MutationObserver(E);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),A.disconnect()}}},[r,l,x.paused]),g.useEffect(()=>{if(l){Dg.add(x);const v=document.activeElement;if(!l.contains(v)){const E=new CustomEvent(Tu,kg);l.addEventListener(Tu,d),l.dispatchEvent(E),E.defaultPrevented||(p2(x2(lw(l)),{select:!0}),document.activeElement===v&&vr(l))}return()=>{l.removeEventListener(Tu,d),setTimeout(()=>{const E=new CustomEvent(Eu,kg);l.addEventListener(Eu,h),l.dispatchEvent(E),E.defaultPrevented||vr(v??document.body,{select:!0}),l.removeEventListener(Eu,h),Dg.remove(x)},0)}}},[l,d,h,x]);const w=g.useCallback(v=>{if(!n&&!r||x.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(b&&E){const A=v.currentTarget,[R,j]=m2(A);R&&j?!v.shiftKey&&E===j?(v.preventDefault(),n&&vr(R,{select:!0})):v.shiftKey&&E===R&&(v.preventDefault(),n&&vr(j,{select:!0})):E===A&&v.preventDefault()}},[n,r,x.paused]);return a.jsx(Se.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});hf.displayName=f2;function p2(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(vr(r,{select:e}),document.activeElement!==n)return}function m2(t){const e=lw(t),n=jg(e,t),r=jg(e.reverse(),t);return[n,r]}function lw(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jg(t,e){for(const n of t)if(!g2(n,{upTo:e}))return n}function g2(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function y2(t){return t instanceof HTMLInputElement&&"select"in t}function vr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&y2(t)&&e&&t.select()}}var Dg=v2();function v2(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Og(t,e),t.unshift(e)},remove(e){var n;t=Og(t,e),(n=t[0])==null||n.resume()}}}function Og(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function x2(t){return t.filter(e=>e.tagName!=="A")}function b2(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var w2=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Os=new WeakMap,Ha=new WeakMap,Ka={},Au=0,cw=function(t){return t&&(t.host||cw(t.parentNode))},_2=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=cw(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},T2=function(t,e,n,r){var s=_2(e,Array.isArray(t)?t:[t]);Ka[n]||(Ka[n]=new WeakMap);var i=Ka[n],o=[],l=new Set,u=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var x=m.getAttribute(r),w=x!==null&&x!=="false",v=(Os.get(m)||0)+1,b=(i.get(m)||0)+1;Os.set(m,v),i.set(m,b),o.push(m),v===1&&w&&Ha.set(m,!0),b===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",m,E)}})};return h(e),l.clear(),Au++,function(){o.forEach(function(f){var m=Os.get(f)-1,x=i.get(f)-1;Os.set(f,m),i.set(f,x),m||(Ha.has(f)||f.removeAttribute(r),Ha.delete(f)),x||f.removeAttribute(n)}),Au--,Au||(Os=new WeakMap,Os=new WeakMap,Ha=new WeakMap,Ka={})}},uw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=w2(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),T2(r,s,n,"aria-hidden")):function(){return null}},dl="right-scroll-bar-position",hl="width-before-scroll-bar",E2="with-scroll-bars-hidden",A2="--removed-body-scroll-bar-size";function Iu(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function I2(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var S2=typeof window<"u"?g.useLayoutEffect:g.useEffect,Mg=new WeakMap;function C2(t,e){var n=I2(null,function(r){return t.forEach(function(s){return Iu(s,r)})});return S2(function(){var r=Mg.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||Iu(l,null)}),i.forEach(function(l){s.has(l)||Iu(l,o)})}Mg.set(n,t)},[t]),n}function N2(t){return t}function R2(t,e){e===void 0&&(e=N2);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var u=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function P2(t){t===void 0&&(t={});var e=R2(null);return e.options=Cn({async:!0,ssr:!1},t),e}var dw=function(t){var e=t.sideCar,n=Zo(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Cn({},n))};dw.isSideCarExport=!0;function k2(t,e){return t.useMedium(e),dw}var hw=P2(),Su=function(){},jc=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Su,onWheelCapture:Su,onTouchMoveCapture:Su}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,x=t.noIsolation,w=t.inert,v=t.allowPinchZoom,b=t.as,E=b===void 0?"div":b,A=t.gapMode,R=Zo(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,D=C2([n,e]),V=Cn(Cn({},R),s);return g.createElement(g.Fragment,null,h&&g.createElement(j,{sideCar:hw,removeScrollBar:d,shards:f,noIsolation:x,inert:w,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:A}),o?g.cloneElement(g.Children.only(l),Cn(Cn({},V),{ref:D})):g.createElement(E,Cn({},V,{className:u,ref:D}),l))});jc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jc.classNames={fullWidth:hl,zeroRight:dl};var j2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D2(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=j2();return e&&t.setAttribute("nonce",e),t}function O2(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function M2(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var V2=function(){var t=0,e=null;return{add:function(n){t==0&&(e=D2())&&(O2(e,n),M2(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},L2=function(){var t=V2();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},fw=function(){var t=L2(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},F2={left:0,top:0,right:0,gap:0},Cu=function(t){return parseInt(t||"",10)||0},U2=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Cu(n),Cu(r),Cu(s)]},B2=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return F2;var e=U2(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},$2=fw(),Zs="data-scroll-locked",z2=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(E2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Zs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dl,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(hl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(dl," .").concat(dl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hl," .").concat(hl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zs,`] {
    `).concat(A2,": ").concat(l,`px;
  }
`)},Vg=function(){var t=parseInt(document.body.getAttribute(Zs)||"0",10);return isFinite(t)?t:0},W2=function(){g.useEffect(function(){return document.body.setAttribute(Zs,(Vg()+1).toString()),function(){var t=Vg()-1;t<=0?document.body.removeAttribute(Zs):document.body.setAttribute(Zs,t.toString())}},[])},q2=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;W2();var i=g.useMemo(function(){return B2(s)},[s]);return g.createElement($2,{styles:z2(i,!e,s,n?"":"!important")})},Sd=!1;if(typeof window<"u")try{var Ga=Object.defineProperty({},"passive",{get:function(){return Sd=!0,!0}});window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{Sd=!1}var Ms=Sd?{passive:!1}:!1,H2=function(t){return t.tagName==="TEXTAREA"},pw=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!H2(t)&&n[e]==="visible")},K2=function(t){return pw(t,"overflowY")},G2=function(t){return pw(t,"overflowX")},Lg=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=mw(t,r);if(s){var i=gw(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Q2=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Y2=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},mw=function(t,e){return t==="v"?K2(e):G2(e)},gw=function(t,e){return t==="v"?Q2(e):Y2(e)},X2=function(t,e){return t==="h"&&e==="rtl"?-1:1},J2=function(t,e,n,r,s){var i=X2(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,u=e.contains(l),d=!1,h=o>0,f=0,m=0;do{var x=gw(t,l),w=x[0],v=x[1],b=x[2],E=v-b-i*w;(w||E)&&mw(t,l)&&(f+=E,m+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(d=!0),d},Qa=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Fg=function(t){return[t.deltaX,t.deltaY]},Ug=function(t){return t&&"current"in t?t.current:t},Z2=function(t,e){return t[0]===e[0]&&t[1]===e[1]},eD=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tD=0,Vs=[];function nD(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(tD++)[0],i=g.useState(fw)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=cN([t.lockRef.current],(t.shards||[]).map(Ug),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var E=Qa(v),A=n.current,R="deltaX"in v?v.deltaX:A[0]-E[0],j="deltaY"in v?v.deltaY:A[1]-E[1],D,V=v.target,N=Math.abs(R)>Math.abs(j)?"h":"v";if("touches"in v&&N==="h"&&V.type==="range")return!1;var _=Lg(N,V);if(!_)return!0;if(_?D=N:(D=N==="v"?"h":"v",_=Lg(N,V)),!_)return!1;if(!r.current&&"changedTouches"in v&&(R||j)&&(r.current=D),!D)return!0;var S=r.current||D;return J2(S,b,v,S==="h"?R:j,!0)},[]),u=g.useCallback(function(v){var b=v;if(!(!Vs.length||Vs[Vs.length-1]!==i)){var E="deltaY"in b?Fg(b):Qa(b),A=e.current.filter(function(D){return D.name===b.type&&(D.target===b.target||b.target===D.shadowParent)&&Z2(D.delta,E)})[0];if(A&&A.should){b.cancelable&&b.preventDefault();return}if(!A){var R=(o.current.shards||[]).map(Ug).filter(Boolean).filter(function(D){return D.contains(b.target)}),j=R.length>0?l(b,R[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),d=g.useCallback(function(v,b,E,A){var R={name:v,delta:b,target:E,should:A,shadowParent:rD(E)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(j){return j!==R})},1)},[]),h=g.useCallback(function(v){n.current=Qa(v),r.current=void 0},[]),f=g.useCallback(function(v){d(v.type,Fg(v),v.target,l(v,t.lockRef.current))},[]),m=g.useCallback(function(v){d(v.type,Qa(v),v.target,l(v,t.lockRef.current))},[]);g.useEffect(function(){return Vs.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",u,Ms),document.addEventListener("touchmove",u,Ms),document.addEventListener("touchstart",h,Ms),function(){Vs=Vs.filter(function(v){return v!==i}),document.removeEventListener("wheel",u,Ms),document.removeEventListener("touchmove",u,Ms),document.removeEventListener("touchstart",h,Ms)}},[]);var x=t.removeScrollBar,w=t.inert;return g.createElement(g.Fragment,null,w?g.createElement(i,{styles:eD(s)}):null,x?g.createElement(q2,{gapMode:t.gapMode}):null)}function rD(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const sD=k2(hw,nD);var ff=g.forwardRef(function(t,e){return g.createElement(jc,Cn({},t,{ref:e,sideCar:sD}))});ff.classNames=jc.classNames;var iD=[" ","Enter","ArrowUp","ArrowDown"],oD=[" ","Enter"],da="Select",[Dc,Oc,aD]=yv(da),[Fi,HL]=Jl(da,[aD,ac]),Mc=ac(),[lD,Hr]=Fi(da),[cD,uD]=Fi(da),yw=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:u,dir:d,name:h,autoComplete:f,disabled:m,required:x,form:w}=t,v=Mc(e),[b,E]=g.useState(null),[A,R]=g.useState(null),[j,D]=g.useState(!1),V=h2(d),[N=!1,_]=gl({prop:r,defaultProp:s,onChange:i}),[S,P]=gl({prop:o,defaultProp:l,onChange:u}),k=g.useRef(null),C=b?w||!!b.closest("form"):!0,[I,U]=g.useState(new Set),G=Array.from(I).map(q=>q.props.value).join(";");return a.jsx(QI,{...v,children:a.jsxs(lD,{required:x,scope:e,trigger:b,onTriggerChange:E,valueNode:A,onValueNodeChange:R,valueNodeHasChildren:j,onValueNodeHasChildrenChange:D,contentId:Ks(),value:S,onValueChange:P,open:N,onOpenChange:_,dir:V,triggerPointerDownPosRef:k,disabled:m,children:[a.jsx(Dc.Provider,{scope:e,children:a.jsx(cD,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(q=>{U(Y=>new Set(Y).add(q))},[]),onNativeOptionRemove:g.useCallback(q=>{U(Y=>{const Q=new Set(Y);return Q.delete(q),Q})},[]),children:n})}),C?a.jsxs($w,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:f,value:S,onChange:q=>P(q.target.value),disabled:m,form:w,children:[S===void 0?a.jsx("option",{value:""}):null,Array.from(I)]},G):null]})})};yw.displayName=da;var vw="SelectTrigger",xw=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Mc(n),o=Hr(vw,n),l=o.disabled||r,u=qe(e,o.onTriggerChange),d=Oc(n),h=g.useRef("touch"),[f,m,x]=zw(v=>{const b=d().filter(R=>!R.disabled),E=b.find(R=>R.value===o.value),A=Ww(b,v,E);A!==void 0&&o.onValueChange(A.value)}),w=v=>{l||(o.onOpenChange(!0),x()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return a.jsx(S0,{asChild:!0,...i,children:a.jsx(Se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Bw(o.value)?"":void 0,...s,ref:u,onClick:fe(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&w(v)}),onPointerDown:fe(s.onPointerDown,v=>{h.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:fe(s.onKeyDown,v=>{const b=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(b&&v.key===" ")&&iD.includes(v.key)&&(w(),v.preventDefault())})})})});xw.displayName=vw;var bw="SelectValue",ww=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,u=Hr(bw,n),{onValueNodeHasChildrenChange:d}=u,h=i!==void 0,f=qe(e,u.onValueNodeChange);return Ot(()=>{d(h)},[d,h]),a.jsx(Se.span,{...l,ref:f,style:{pointerEvents:"none"},children:Bw(u.value)?a.jsx(a.Fragment,{children:o}):i})});ww.displayName=bw;var dD="SelectIcon",_w=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(Se.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});_w.displayName=dD;var hD="SelectPortal",Tw=t=>a.jsx(Zl,{asChild:!0,...t});Tw.displayName=hD;var _s="SelectContent",Ew=g.forwardRef((t,e)=>{const n=Hr(_s,t.__scopeSelect),[r,s]=g.useState();if(Ot(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ai.createPortal(a.jsx(Aw,{scope:t.__scopeSelect,children:a.jsx(Dc.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(Iw,{...t,ref:e})});Ew.displayName=_s;var pn=10,[Aw,Kr]=Fi(_s),fD="SelectContentImpl",Iw=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:w,hideWhenDetached:v,avoidCollisions:b,...E}=t,A=Hr(_s,n),[R,j]=g.useState(null),[D,V]=g.useState(null),N=qe(e,ee=>j(ee)),[_,S]=g.useState(null),[P,k]=g.useState(null),C=Oc(n),[I,U]=g.useState(!1),G=g.useRef(!1);g.useEffect(()=>{if(R)return uw(R)},[R]),aw();const q=g.useCallback(ee=>{const[Ce,...Ke]=C().map(pe=>pe.ref.current),[be]=Ke.slice(-1),ge=document.activeElement;for(const pe of ee)if(pe===ge||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===Ce&&D&&(D.scrollTop=0),pe===be&&D&&(D.scrollTop=D.scrollHeight),pe==null||pe.focus(),document.activeElement!==ge))return},[C,D]),Y=g.useCallback(()=>q([_,R]),[q,_,R]);g.useEffect(()=>{I&&Y()},[I,Y]);const{onOpenChange:Q,triggerPointerDownPosRef:se}=A;g.useEffect(()=>{if(R){let ee={x:0,y:0};const Ce=be=>{var ge,pe;ee={x:Math.abs(Math.round(be.pageX)-(((ge=se.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(be.pageY)-(((pe=se.current)==null?void 0:pe.y)??0))}},Ke=be=>{ee.x<=10&&ee.y<=10?be.preventDefault():R.contains(be.target)||Q(!1),document.removeEventListener("pointermove",Ce),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",Ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",Ke,{capture:!0})}}},[R,Q,se]),g.useEffect(()=>{const ee=()=>Q(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[Q]);const[xe,Pe]=zw(ee=>{const Ce=C().filter(ge=>!ge.disabled),Ke=Ce.find(ge=>ge.ref.current===document.activeElement),be=Ww(Ce,ee,Ke);be&&setTimeout(()=>be.ref.current.focus())}),Me=g.useCallback((ee,Ce,Ke)=>{const be=!G.current&&!Ke;(A.value!==void 0&&A.value===Ce||be)&&(S(ee),be&&(G.current=!0))},[A.value]),Ie=g.useCallback(()=>R==null?void 0:R.focus(),[R]),ye=g.useCallback((ee,Ce,Ke)=>{const be=!G.current&&!Ke;(A.value!==void 0&&A.value===Ce||be)&&k(ee)},[A.value]),nt=r==="popper"?Cd:Sw,He=nt===Cd?{side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:w,hideWhenDetached:v,avoidCollisions:b}:{};return a.jsx(Aw,{scope:n,content:R,viewport:D,onViewportChange:V,itemRefCallback:Me,selectedItem:_,onItemLeave:Ie,itemTextRefCallback:ye,focusSelectedItem:Y,selectedItemText:P,position:r,isPositioned:I,searchRef:xe,children:a.jsx(ff,{as:ms,allowPinchZoom:!0,children:a.jsx(hf,{asChild:!0,trapped:A.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:fe(s,ee=>{var Ce;(Ce=A.trigger)==null||Ce.focus({preventScroll:!0}),ee.preventDefault()}),children:a.jsx(Go,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:a.jsx(nt,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:ee=>ee.preventDefault(),...E,...He,onPlaced:()=>U(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:fe(E.onKeyDown,ee=>{const Ce=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!Ce&&ee.key.length===1&&Pe(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let be=C().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const ge=ee.target,pe=be.indexOf(ge);be=be.slice(pe+1)}setTimeout(()=>q(be)),ee.preventDefault()}})})})})})})});Iw.displayName=fD;var pD="SelectItemAlignedPosition",Sw=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Hr(_s,n),o=Kr(_s,n),[l,u]=g.useState(null),[d,h]=g.useState(null),f=qe(e,N=>h(N)),m=Oc(n),x=g.useRef(!1),w=g.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:E,focusSelectedItem:A}=o,R=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&b&&E){const N=i.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),S=i.valueNode.getBoundingClientRect(),P=E.getBoundingClientRect();if(i.dir!=="rtl"){const ge=P.left-_.left,pe=S.left-ge,Xe=N.left-pe,pt=N.width+Xe,zt=Math.max(pt,_.width),ht=window.innerWidth-pn,At=Rg(pe,[pn,Math.max(pn,ht-zt)]);l.style.minWidth=pt+"px",l.style.left=At+"px"}else{const ge=_.right-P.right,pe=window.innerWidth-S.right-ge,Xe=window.innerWidth-N.right-pe,pt=N.width+Xe,zt=Math.max(pt,_.width),ht=window.innerWidth-pn,At=Rg(pe,[pn,Math.max(pn,ht-zt)]);l.style.minWidth=pt+"px",l.style.right=At+"px"}const k=m(),C=window.innerHeight-pn*2,I=v.scrollHeight,U=window.getComputedStyle(d),G=parseInt(U.borderTopWidth,10),q=parseInt(U.paddingTop,10),Y=parseInt(U.borderBottomWidth,10),Q=parseInt(U.paddingBottom,10),se=G+q+I+Q+Y,xe=Math.min(b.offsetHeight*5,se),Pe=window.getComputedStyle(v),Me=parseInt(Pe.paddingTop,10),Ie=parseInt(Pe.paddingBottom,10),ye=N.top+N.height/2-pn,nt=C-ye,He=b.offsetHeight/2,ee=b.offsetTop+He,Ce=G+q+ee,Ke=se-Ce;if(Ce<=ye){const ge=k.length>0&&b===k[k.length-1].ref.current;l.style.bottom="0px";const pe=d.clientHeight-v.offsetTop-v.offsetHeight,Xe=Math.max(nt,He+(ge?Ie:0)+pe+Y),pt=Ce+Xe;l.style.height=pt+"px"}else{const ge=k.length>0&&b===k[0].ref.current;l.style.top="0px";const Xe=Math.max(ye,G+v.offsetTop+(ge?Me:0)+He)+Ke;l.style.height=Xe+"px",v.scrollTop=Ce-ye+v.offsetTop}l.style.margin=`${pn}px 0`,l.style.minHeight=xe+"px",l.style.maxHeight=C+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[m,i.trigger,i.valueNode,l,d,v,b,E,i.dir,r]);Ot(()=>R(),[R]);const[j,D]=g.useState();Ot(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const V=g.useCallback(N=>{N&&w.current===!0&&(R(),A==null||A(),w.current=!1)},[R,A]);return a.jsx(gD,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:V,children:a.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(Se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Sw.displayName=pD;var mD="SelectPopperPosition",Cd=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=pn,...i}=t,o=Mc(n);return a.jsx(C0,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Cd.displayName=mD;var[gD,pf]=Fi(_s,{}),Nd="SelectViewport",Cw=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Kr(Nd,n),o=pf(Nd,n),l=qe(e,i.onViewportChange),u=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Dc.Slot,{scope:n,children:a.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const x=Math.abs(u.current-h.scrollTop);if(x>0){const w=window.innerHeight-pn*2,v=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),E=Math.max(v,b);if(E<w){const A=E+x,R=Math.min(w,A),j=A-R;f.style.height=R+"px",f.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});Cw.displayName=Nd;var Nw="SelectGroup",[yD,vD]=Fi(Nw),xD=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ks();return a.jsx(yD,{scope:n,id:s,children:a.jsx(Se.div,{role:"group","aria-labelledby":s,...r,ref:e})})});xD.displayName=Nw;var Rw="SelectLabel",Pw=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=vD(Rw,n);return a.jsx(Se.div,{id:s.id,...r,ref:e})});Pw.displayName=Rw;var Bl="SelectItem",[bD,kw]=Fi(Bl),jw=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=Hr(Bl,n),u=Kr(Bl,n),d=l.value===r,[h,f]=g.useState(i??""),[m,x]=g.useState(!1),w=qe(e,A=>{var R;return(R=u.itemRefCallback)==null?void 0:R.call(u,A,r,s)}),v=Ks(),b=g.useRef("touch"),E=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(bD,{scope:n,value:r,disabled:s,textId:v,isSelected:d,onItemTextChange:g.useCallback(A=>{f(R=>R||((A==null?void 0:A.textContent)??"").trim())},[]),children:a.jsx(Dc.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:a.jsx(Se.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:fe(o.onFocus,()=>x(!0)),onBlur:fe(o.onBlur,()=>x(!1)),onClick:fe(o.onClick,()=>{b.current!=="mouse"&&E()}),onPointerUp:fe(o.onPointerUp,()=>{b.current==="mouse"&&E()}),onPointerDown:fe(o.onPointerDown,A=>{b.current=A.pointerType}),onPointerMove:fe(o.onPointerMove,A=>{var R;b.current=A.pointerType,s?(R=u.onItemLeave)==null||R.call(u):b.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,A=>{var R;A.currentTarget===document.activeElement&&((R=u.onItemLeave)==null||R.call(u))}),onKeyDown:fe(o.onKeyDown,A=>{var j;((j=u.searchRef)==null?void 0:j.current)!==""&&A.key===" "||(oD.includes(A.key)&&E(),A.key===" "&&A.preventDefault())})})})})});jw.displayName=Bl;var lo="SelectItemText",Dw=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Hr(lo,n),l=Kr(lo,n),u=kw(lo,n),d=uD(lo,n),[h,f]=g.useState(null),m=qe(e,E=>f(E),u.onItemTextChange,E=>{var A;return(A=l.itemTextRefCallback)==null?void 0:A.call(l,E,u.value,u.disabled)}),x=h==null?void 0:h.textContent,w=g.useMemo(()=>a.jsx("option",{value:u.value,disabled:u.disabled,children:x},u.value),[u.disabled,u.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=d;return Ot(()=>(v(w),()=>b(w)),[v,b,w]),a.jsxs(a.Fragment,{children:[a.jsx(Se.span,{id:u.textId,...i,ref:m}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ai.createPortal(i.children,o.valueNode):null]})});Dw.displayName=lo;var Ow="SelectItemIndicator",Mw=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return kw(Ow,n).isSelected?a.jsx(Se.span,{"aria-hidden":!0,...r,ref:e}):null});Mw.displayName=Ow;var Rd="SelectScrollUpButton",Vw=g.forwardRef((t,e)=>{const n=Kr(Rd,t.__scopeSelect),r=pf(Rd,t.__scopeSelect),[s,i]=g.useState(!1),o=qe(e,r.onScrollButtonChange);return Ot(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollTop>0;i(d)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(Fw,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});Vw.displayName=Rd;var Pd="SelectScrollDownButton",Lw=g.forwardRef((t,e)=>{const n=Kr(Pd,t.__scopeSelect),r=pf(Pd,t.__scopeSelect),[s,i]=g.useState(!1),o=qe(e,r.onScrollButtonChange);return Ot(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<d;i(h)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(Fw,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});Lw.displayName=Pd;var Fw=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Kr("SelectScrollButton",n),o=g.useRef(null),l=Oc(n),u=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>u(),[u]),Ot(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(Se.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:fe(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{u()})})}),wD="SelectSeparator",Uw=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(Se.div,{"aria-hidden":!0,...r,ref:e})});Uw.displayName=wD;var kd="SelectArrow",_D=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Mc(n),i=Hr(kd,n),o=Kr(kd,n);return i.open&&o.position==="popper"?a.jsx(N0,{...s,...r,ref:e}):null});_D.displayName=kd;function Bw(t){return t===""||t===void 0}var $w=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=qe(e,s),o=b2(n);return g.useEffect(()=>{const l=s.current,u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(f)}},[o,n]),a.jsx(Qo,{asChild:!0,children:a.jsx("select",{...r,ref:i,defaultValue:n})})});$w.displayName="BubbleSelect";function zw(t){const e=sn(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const l=n.current+o;e(l),function u(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(l)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Ww(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=TD(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function TD(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ED=yw,qw=xw,AD=ww,ID=_w,SD=Tw,Hw=Ew,CD=Cw,Kw=Pw,Gw=jw,ND=Dw,RD=Mw,Qw=Vw,Yw=Lw,Xw=Uw;const bo=ED,wo=AD,ei=g.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(qw,{ref:r,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(ID,{asChild:!0,children:a.jsx(Wv,{className:"h-4 w-4 opacity-50"})})]}));ei.displayName=qw.displayName;const Jw=g.forwardRef(({className:t,...e},n)=>a.jsx(Qw,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(S1,{className:"h-4 w-4"})}));Jw.displayName=Qw.displayName;const Zw=g.forwardRef(({className:t,...e},n)=>a.jsx(Yw,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Wv,{className:"h-4 w-4"})}));Zw.displayName=Yw.displayName;const ti=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(SD,{children:a.jsxs(Hw,{ref:s,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(Jw,{}),a.jsx(CD,{className:je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(Zw,{})]})}));ti.displayName=Hw.displayName;const PD=g.forwardRef(({className:t,...e},n)=>a.jsx(Kw,{ref:n,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));PD.displayName=Kw.displayName;const ct=g.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(Gw,{ref:r,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(RD,{children:a.jsx(I1,{className:"h-4 w-4"})})}),a.jsx(ND,{children:e})]}));ct.displayName=Gw.displayName;const kD=g.forwardRef(({className:t,...e},n)=>a.jsx(Xw,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));kD.displayName=Xw.displayName;function jD(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function Vc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const jd=t=>Array.isArray(t);function e_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Bo(t){return typeof t=="string"||Array.isArray(t)}function Bg(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function mf(t,e,n,r){if(typeof e=="function"){const[s,i]=Bg(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Bg(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Lc(t,e,n){const r=t.getProps();return mf(r,e,n!==void 0?n:r.custom,t)}const gf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yf=["initial",...gf],rn=t=>t;let Dd=rn;function vf(t){let e;return()=>(e===void 0&&(e=t()),e)}const _i=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},nr=t=>t*1e3,rr=t=>t/1e3,DD=vf(()=>window.ScrollTimeline!==void 0);class OD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>DD()&&s.attachTimeline?s.attachTimeline(e):n(s));return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class MD extends OD{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function xf(t,e){return t?t[e]||t.default||t:void 0}const Od=2e4;function t_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Od;)e+=n,r=t.next(e);return e>=Od?1/0:e}function bf(t){return typeof t=="function"}function $g(t,e){t.timeline=e,t.onfinish=null}const wf=t=>Array.isArray(t)&&typeof t[0]=="number",VD={linearEasing:void 0};function LD(t,e){const n=vf(t);return()=>{var r;return(r=VD[e])!==null&&r!==void 0?r:n()}}const $l=LD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),n_=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(_i(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function r_(t){return!!(typeof t=="function"&&$l()||!t||typeof t=="string"&&(t in Md||$l())||wf(t)||Array.isArray(t)&&t.every(r_))}const co=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Md={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:co([0,.65,.55,1]),circOut:co([.55,0,1,.45]),backIn:co([.31,.01,.66,-.59]),backOut:co([.33,1.53,.69,.99])};function s_(t,e){if(t)return typeof t=="function"&&$l()?n_(t,e):wf(t)?co(t):Array.isArray(t)?t.map(n=>s_(n,e)||Md.easeOut):Md[t]}const mn={x:!1,y:!1};function i_(){return mn.x||mn.y}function FD(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function o_(t,e){const n=FD(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function zg(t){return e=>{e.pointerType==="touch"||i_()||t(e)}}function UD(t,e,n={}){const[r,s,i]=o_(t,n),o=zg(l=>{const{target:u}=l,d=e(l);if(!d||!u)return;const h=zg(f=>{d(f),u.removeEventListener("pointerleave",h)});u.addEventListener("pointerleave",h,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const _f=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,uo=new WeakSet;function Wg(t){return e=>{e.key==="Enter"&&t(e)}}function Nu(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const BD=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Wg(()=>{if(uo.has(n))return;Nu(n,"down");const s=Wg(()=>{Nu(n,"up")}),i=()=>Nu(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)},$D=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zD(t){return $D.has(t.tagName)||t.tabIndex!==-1}const a_=(t,e)=>e?t===e?!0:a_(t,e.parentElement):!1;function qg(t){return _f(t)&&!i_()}function WD(t,e,n={}){const[r,s,i]=o_(t,n),o=l=>{const u=l.currentTarget;if(!qg(l)||uo.has(u))return;uo.add(u);const d=e(l),h=(x,w)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!qg(x)||!uo.has(u))&&(uo.delete(u),d&&d(x,{success:w}))},f=x=>{h(x,n.useGlobalTarget||a_(u,x.target))},m=x=>{h(x,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",m,s)};return r.forEach(l=>{zD(l)||(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",d=>BD(d,s),s)}),i}function qD(t){return t==="x"||t==="y"?mn[t]?null:(mn[t]=!0,()=>{mn[t]=!1}):mn.x||mn.y?null:(mn.x=mn.y=!0,()=>{mn.x=mn.y=!1})}const ha=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cs=new Set(ha),HD=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),KD=t=>jd(t)?t[t.length-1]||0:t,GD={skipAnimations:!1,useManualTiming:!1};function QD(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(u.schedule(d),t()),d(o)}const u={schedule:(d,h=!1,f=!1)=>{const x=f&&r?e:n;return h&&i.add(d),x.has(d)||x.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(o=d,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,s&&(s=!1,u.process(d))}};return u}const Ya=["read","resolveKeyframes","update","preRender","render","postRender"],YD=40;function l_(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Ya.reduce((E,A)=>(E[A]=QD(i),E),{}),{read:l,resolveKeyframes:u,update:d,preRender:h,render:f,postRender:m}=o,x=()=>{const E=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(E-s.timestamp,YD),1),s.timestamp=E,s.isProcessing=!0,l.process(s),u.process(s),d.process(s),h.process(s),f.process(s),m.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(x))},w=()=>{n=!0,r=!0,s.isProcessing||t(x)};return{schedule:Ya.reduce((E,A)=>{const R=o[A];return E[A]=(j,D=!1,V=!1)=>(n||w(),R.schedule(j,D,V)),E},{}),cancel:E=>{for(let A=0;A<Ya.length;A++)o[Ya[A]].cancel(E)},state:s,steps:o}}const{schedule:We,cancel:$r,state:bt,steps:Ru}=l_(typeof requestAnimationFrame<"u"?requestAnimationFrame:rn,!0);let fl;function XD(){fl=void 0}const kn={now:()=>(fl===void 0&&kn.set(bt.isProcessing||GD.useManualTiming?bt.timestamp:performance.now()),fl),set:t=>{fl=t,queueMicrotask(XD)}};function Tf(t,e){t.indexOf(e)===-1&&t.push(e)}function Ef(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Af{constructor(){this.subscriptions=[]}add(e){return Tf(this.subscriptions,e),()=>Ef(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function c_(t,e){return e?t*(1e3/e):0}const Hg=30,JD=t=>!isNaN(parseFloat(t));class ZD{constructor(e,n={}){this.version="11.16.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=kn.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=JD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Af);const r=this.events[e].add(n);return e==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Hg)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Hg);return c_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $o(t,e){return new ZD(t,e)}function eO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,$o(n))}function tO(t,e){const n=Lc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=KD(i[o]);eO(t,o,l)}}const Dt=t=>!!(t&&t.getVelocity);function nO(t){return!!(Dt(t)&&t.add)}function Vd(t,e){const n=t.getValue("willChange");if(nO(n))return n.add(e)}const If=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rO="framerAppearId",u_="data-"+If(rO);function d_(t){return t.props[u_]}const h_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,sO=1e-7,iO=12;function oO(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=h_(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>sO&&++l<iO);return o}function fa(t,e,n,r){if(t===e&&n===r)return rn;const s=i=>oO(i,0,1,t,n);return i=>i===0||i===1?i:h_(s(i),e,r)}const f_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,p_=t=>e=>1-t(1-e),m_=fa(.33,1.53,.69,.99),Sf=p_(m_),g_=f_(Sf),y_=t=>(t*=2)<1?.5*Sf(t):.5*(2-Math.pow(2,-10*(t-1))),Cf=t=>1-Math.sin(Math.acos(t)),v_=p_(Cf),x_=f_(Cf),b_=t=>/^0[^.\s]+$/u.test(t);function aO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||b_(t):!0}const w_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),__=t=>e=>typeof e=="string"&&e.startsWith(t),T_=__("--"),lO=__("var(--"),Nf=t=>lO(t)?cO.test(t.split("/*")[0].trim()):!1,cO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dO(t){const e=uO.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function E_(t,e,n=1){const[r,s]=dO(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return w_(o)?parseFloat(o):o}return Nf(s)?E_(s,e,n+1):s}const ur=(t,e,n)=>n>e?e:n<t?t:n,Ui={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zo={...Ui,transform:t=>ur(0,1,t)},Xa={...Ui,default:1},pa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xr=pa("deg"),jn=pa("%"),re=pa("px"),hO=pa("vh"),fO=pa("vw"),Kg={...jn,parse:t=>jn.parse(t)/100,transform:t=>jn.transform(t*100)},pO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Gg=t=>t===Ui||t===re,Qg=(t,e)=>parseFloat(t.split(", ")[e]),Yg=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Qg(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?Qg(i[1],t):0}},mO=new Set(["x","y","z"]),gO=ha.filter(t=>!mO.has(t));function yO(t){const e=[];return gO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ti={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Yg(4,13),y:Yg(5,14)};Ti.translateX=Ti.x;Ti.translateY=Ti.y;const A_=t=>e=>e.test(t),vO={test:t=>t==="auto",parse:t=>t},I_=[Ui,re,jn,xr,fO,hO,vO],Xg=t=>I_.find(A_(t)),ps=new Set;let Ld=!1,Fd=!1;function S_(){if(Fd){const t=Array.from(ps).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=yO(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fd=!1,Ld=!1,ps.forEach(t=>t.complete()),ps.clear()}function C_(){ps.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fd=!0)})}function xO(){C_(),S_()}class Rf{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ps.add(this),Ld||(Ld=!0,We.read(C_),We.resolveKeyframes(S_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ps.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ps.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const _o=t=>Math.round(t*1e5)/1e5,Pf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bO(t){return t==null}const wO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kf=(t,e)=>n=>!!(typeof n=="string"&&wO.test(n)&&n.startsWith(t)||e&&!bO(n)&&Object.prototype.hasOwnProperty.call(n,e)),N_=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(Pf);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},_O=t=>ur(0,255,t),Pu={...Ui,transform:t=>Math.round(_O(t))},os={test:kf("rgb","red"),parse:N_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Pu.transform(t)+", "+Pu.transform(e)+", "+Pu.transform(n)+", "+_o(zo.transform(r))+")"};function TO(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ud={test:kf("#"),parse:TO,transform:os.transform},Bs={test:kf("hsl","hue"),parse:N_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+jn.transform(_o(e))+", "+jn.transform(_o(n))+", "+_o(zo.transform(r))+")"},Pt={test:t=>os.test(t)||Ud.test(t)||Bs.test(t),parse:t=>os.test(t)?os.parse(t):Bs.test(t)?Bs.parse(t):Ud.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?os.transform(t):Bs.transform(t)},EO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AO(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Pf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(EO))===null||n===void 0?void 0:n.length)||0)>0}const R_="number",P_="color",IO="var",SO="var(",Jg="${}",CO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wo(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(CO,u=>(Pt.test(u)?(r.color.push(i),s.push(P_),n.push(Pt.parse(u))):u.startsWith(SO)?(r.var.push(i),s.push(IO),n.push(u)):(r.number.push(i),s.push(R_),n.push(parseFloat(u))),++i,Jg)).split(Jg);return{values:n,split:l,indexes:r,types:s}}function k_(t){return Wo(t).values}function j_(t){const{split:e,types:n}=Wo(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const l=n[o];l===R_?i+=_o(s[o]):l===P_?i+=Pt.transform(s[o]):i+=s[o]}return i}}const NO=t=>typeof t=="number"?0:t;function RO(t){const e=k_(t);return j_(t)(e.map(NO))}const zr={test:AO,parse:k_,createTransformer:j_,getAnimatableNone:RO},PO=new Set(["brightness","contrast","saturate","opacity"]);function kO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Pf)||[];if(!r)return t;const s=n.replace(r,"");let i=PO.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const jO=/\b([a-z-]*)\(.*?\)/gu,Bd={...zr,getAnimatableNone:t=>{const e=t.match(jO);return e?e.map(kO).join(" "):t}},DO={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,backgroundPositionX:re,backgroundPositionY:re},OO={rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:Xa,scaleX:Xa,scaleY:Xa,scaleZ:Xa,skew:xr,skewX:xr,skewY:xr,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:zo,originX:Kg,originY:Kg,originZ:re},Zg={...Ui,transform:Math.round},jf={...DO,...OO,zIndex:Zg,size:re,fillOpacity:zo,strokeOpacity:zo,numOctaves:Zg},MO={...jf,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:Bd,WebkitFilter:Bd},Df=t=>MO[t];function D_(t,e){let n=Df(t);return n!==Bd&&(n=zr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VO=new Set(["auto","none","0"]);function LO(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!VO.has(i)&&Wo(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=D_(n,s)}class O_ extends Rf{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),Nf(d))){const h=E_(d,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!pO.has(r)||e.length!==2)return;const[s,i]=e,o=Xg(s),l=Xg(i);if(o!==l)if(Gg(o)&&Gg(l))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)aO(e[s])&&r.push(s);r.length&&LO(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ti[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Ti[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,d])=>{n.getValue(u).set(d)}),this.resolveNoneKeyframes()}}const ey=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zr.test(t)||t==="0")&&!t.startsWith("url("));function FO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function UO(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=ey(s,e),l=ey(i,e);return!o||!l?!1:FO(t)||(n==="spring"||bf(n))&&r}const BO=t=>t!==null;function Fc(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(BO),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const $O=40;class M_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=kn.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>$O?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&xO(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=kn.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:u,isGenerator:d}=this.options;if(!d&&!UO(e,r,s,i))if(o)this.options.duration=0;else{u==null||u(Fc(e,this.options,n)),l==null||l(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Qe=(t,e,n)=>t+(e-t)*n;function ku(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function zO({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;s=ku(u,l,t+1/3),i=ku(u,l,t),o=ku(u,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function zl(t,e){return n=>n>0?e:t}const ju=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},WO=[Ud,os,Bs],qO=t=>WO.find(e=>e.test(t));function ty(t){const e=qO(t);if(!e)return!1;let n=e.parse(t);return e===Bs&&(n=zO(n)),n}const ny=(t,e)=>{const n=ty(t),r=ty(e);if(!n||!r)return zl(t,e);const s={...n};return i=>(s.red=ju(n.red,r.red,i),s.green=ju(n.green,r.green,i),s.blue=ju(n.blue,r.blue,i),s.alpha=Qe(n.alpha,r.alpha,i),os.transform(s))},HO=(t,e)=>n=>e(t(n)),ma=(...t)=>t.reduce(HO),$d=new Set(["none","hidden"]);function KO(t,e){return $d.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function GO(t,e){return n=>Qe(t,e,n)}function Of(t){return typeof t=="number"?GO:typeof t=="string"?Nf(t)?zl:Pt.test(t)?ny:XO:Array.isArray(t)?V_:typeof t=="object"?Pt.test(t)?ny:QO:zl}function V_(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Of(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function QO(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Of(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function YO(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][s[o]],u=(n=t.values[l])!==null&&n!==void 0?n:0;r[i]=u,s[o]++}return r}const XO=(t,e)=>{const n=zr.createTransformer(e),r=Wo(t),s=Wo(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?$d.has(t)&&!s.values.length||$d.has(e)&&!r.values.length?KO(t,e):ma(V_(YO(r,s),s.values),n):zl(t,e)};function L_(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):Of(t)(t,e)}const JO=5;function F_(t,e,n){const r=Math.max(e-JO,0);return c_(n-t(r),e-r)}const et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Du=.001;function ZO({duration:t=et.duration,bounce:e=et.bounce,velocity:n=et.velocity,mass:r=et.mass}){let s,i,o=1-e;o=ur(et.minDamping,et.maxDamping,o),t=ur(et.minDuration,et.maxDuration,rr(t)),o<1?(s=d=>{const h=d*o,f=h*t,m=h-n,x=zd(d,o),w=Math.exp(-f);return Du-m/x*w},i=d=>{const f=d*o*t,m=f*n+n,x=Math.pow(o,2)*Math.pow(d,2)*t,w=Math.exp(-f),v=zd(Math.pow(d,2),o);return(-s(d)+Du>0?-1:1)*((m-x)*w)/v}):(s=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-Du+h*f},i=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,u=tM(s,i,l);if(t=nr(t),isNaN(u))return{stiffness:et.stiffness,damping:et.damping,duration:t};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const eM=12;function tM(t,e,n){let r=n;for(let s=1;s<eM;s++)r=r-t(r)/e(r);return r}function zd(t,e){return t*Math.sqrt(1-e*e)}const nM=["duration","bounce"],rM=["stiffness","damping","mass"];function ry(t,e){return e.some(n=>t[n]!==void 0)}function sM(t){let e={velocity:et.velocity,stiffness:et.stiffness,damping:et.damping,mass:et.mass,isResolvedFromDuration:!1,...t};if(!ry(t,rM)&&ry(t,nM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ur(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:et.mass,stiffness:s,damping:i}}else{const n=ZO(t);e={...e,...n,mass:et.mass},e.isResolvedFromDuration=!0}return e}function U_(t=et.visualDuration,e=et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:u,damping:d,mass:h,duration:f,velocity:m,isResolvedFromDuration:x}=sM({...n,velocity:-rr(n.velocity||0)}),w=m||0,v=d/(2*Math.sqrt(u*h)),b=o-i,E=rr(Math.sqrt(u/h)),A=Math.abs(b)<5;r||(r=A?et.restSpeed.granular:et.restSpeed.default),s||(s=A?et.restDelta.granular:et.restDelta.default);let R;if(v<1){const D=zd(E,v);R=V=>{const N=Math.exp(-v*E*V);return o-N*((w+v*E*b)/D*Math.sin(D*V)+b*Math.cos(D*V))}}else if(v===1)R=D=>o-Math.exp(-E*D)*(b+(w+E*b)*D);else{const D=E*Math.sqrt(v*v-1);R=V=>{const N=Math.exp(-v*E*V),_=Math.min(D*V,300);return o-N*((w+v*E*b)*Math.sinh(_)+D*b*Math.cosh(_))/D}}const j={calculatedDuration:x&&f||null,next:D=>{const V=R(D);if(x)l.done=D>=f;else{let N=0;v<1&&(N=D===0?nr(w):F_(R,D,V));const _=Math.abs(N)<=r,S=Math.abs(o-V)<=s;l.done=_&&S}return l.value=l.done?o:V,l},toString:()=>{const D=Math.min(t_(j),Od),V=n_(N=>j.next(D*N).value,D,30);return D+"ms "+V}};return j}function sy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},x=_=>l!==void 0&&_<l||u!==void 0&&_>u,w=_=>l===void 0?u:u===void 0||Math.abs(l-_)<Math.abs(u-_)?l:u;let v=n*e;const b=f+v,E=o===void 0?b:o(b);E!==b&&(v=E-f);const A=_=>-v*Math.exp(-_/r),R=_=>E+A(_),j=_=>{const S=A(_),P=R(_);m.done=Math.abs(S)<=d,m.value=m.done?E:P};let D,V;const N=_=>{x(m.value)&&(D=_,V=U_({keyframes:[m.value,w(m.value)],velocity:F_(R,_,m.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return N(0),{calculatedDuration:null,next:_=>{let S=!1;return!V&&D===void 0&&(S=!0,j(_),N(_)),D!==void 0&&_>=D?V.next(_-D):(!S&&j(_),m)}}}const iM=fa(.42,0,1,1),oM=fa(0,0,.58,1),B_=fa(.42,0,.58,1),aM=t=>Array.isArray(t)&&typeof t[0]!="number",iy={linear:rn,easeIn:iM,easeInOut:B_,easeOut:oM,circIn:Cf,circInOut:x_,circOut:v_,backIn:Sf,backInOut:g_,backOut:m_,anticipate:y_},oy=t=>{if(wf(t)){Dd(t.length===4);const[e,n,r,s]=t;return fa(e,n,r,s)}else if(typeof t=="string")return Dd(iy[t]!==void 0),iy[t];return t};function lM(t,e,n){const r=[],s=n||L_,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||rn:e;l=ma(u,l)}r.push(l)}return r}function cM(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Dd(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=lM(e,r,s),l=o.length,u=d=>{let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=_i(t[h],t[h+1],d);return o[h](f)};return n?d=>u(ur(t[0],t[i-1],d)):u}function uM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=_i(0,e,r);t.push(Qe(n,1,s))}}function dM(t){const e=[0];return uM(e,t.length-1),e}function hM(t,e){return t.map(n=>n*e)}function fM(t,e){return t.map(()=>e||B_).splice(0,t.length-1)}function Wl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=aM(r)?r.map(oy):oy(r),i={done:!1,value:e[0]},o=hM(n&&n.length===e.length?n:dM(e),t),l=cM(o,e,{ease:Array.isArray(s)?s:fM(e,s)});return{calculatedDuration:t,next:u=>(i.value=l(u),i.done=u>=t,i)}}const pM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>We.update(e,!0),stop:()=>$r(e),now:()=>bt.isProcessing?bt.timestamp:kn.now()}},mM={decay:sy,inertia:sy,tween:Wl,keyframes:Wl,spring:U_},gM=t=>t/100;class Mf extends M_{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Rf,l=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=bf(n)?n:mM[n]||Wl;let u,d;l!==Wl&&typeof e[0]!="number"&&(u=ma(gM,L_(e[0],e[1])),e=[0,100]);const h=l({...this.options,keyframes:e});i==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=t_(h));const{calculatedDuration:f}=h,m=f+s,x=m*(r+1)-s;return{generator:h,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:f,resolvedDuration:m,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:d,totalDuration:h,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);const{delay:m,repeat:x,repeatType:w,repeatDelay:v,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const E=this.currentTime-m*(this.speed>=0?1:-1),A=this.speed>=0?E<0:E>h;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let R=this.currentTime,j=i;if(x){const _=Math.min(this.currentTime,h)/f;let S=Math.floor(_),P=_%1;!P&&_>=1&&(P=1),P===1&&S--,S=Math.min(S,x+1),!!(S%2)&&(w==="reverse"?(P=1-P,v&&(P-=v/f)):w==="mirror"&&(j=o)),R=ur(0,1,P)*f}const D=A?{done:!1,value:u[0]}:j.next(R);l&&(D.value=l(D.value));let{done:V}=D;!A&&d!==null&&(V=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return N&&s!==void 0&&(D.value=Fc(u,this.options,s)),b&&b(D.value),N&&this.finish(),D}get duration(){const{resolved:e}=this;return e?rr(e.calculatedDuration):0}get time(){return rr(this.currentTime)}set time(e){e=nr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=rr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=pM,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const yM=new Set(["opacity","clipPath","filter","transform"]);function vM(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:u}={}){const d={[e]:n};u&&(d.offset=u);const h=s_(l,s);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const xM=vf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ql=10,bM=2e4;function wM(t){return bf(t.type)||t.type==="spring"||!r_(t.ease)}function _M(t,e){const n=new Mf({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<bM;)r=n.sample(i),s.push(r.value),i+=ql;return{times:void 0,keyframes:s,duration:i-ql,ease:"linear"}}const $_={anticipate:y_,backInOut:g_,circInOut:x_};function TM(t){return t in $_}class ay extends M_{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new O_(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:i,ease:o,type:l,motionValue:u,name:d,startTime:h}=this.options;if(!(!((r=u.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&$l()&&TM(o)&&(o=$_[o]),wM(this.options)){const{onComplete:m,onUpdate:x,motionValue:w,element:v,...b}=this.options,E=_M(e,b);e=E.keyframes,e.length===1&&(e[1]=e[0]),s=E.duration,i=E.times,o=E.ease,l="keyframes"}const f=vM(u.owner.current,d,e,{...this.options,duration:s,times:i,ease:o});return f.startTime=h??this.calcStartTime(),this.pendingTimeline?($g(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:m}=this.options;u.set(Fc(e,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:s,times:i,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return rr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return rr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=nr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return rn;const{animation:r}=n;$g(r,e)}return rn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:h,onComplete:f,element:m,...x}=this.options,w=new Mf({...x,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),v=nr(this.time);d.setWithVelocity(w.sample(v-ql).value,w.sample(v).value,ql)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=e;return xM()&&r&&yM.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const EM={type:"spring",stiffness:500,damping:25,restSpeed:10},AM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),IM={type:"keyframes",duration:.8},SM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CM=(t,{keyframes:e})=>e.length>2?IM:Cs.has(t)?t.startsWith("scale")?AM(e[1]):EM:SM;function NM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:u,elapsed:d,...h}){return!!Object.keys(h).length}const Vf=(t,e,n,r={},s,i)=>o=>{const l=xf(r,t)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-nr(u);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};NM(l)||(h={...h,...CM(t,h)}),h.duration&&(h.duration=nr(h.duration)),h.repeatDelay&&(h.repeatDelay=nr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!i&&e.get()!==void 0){const m=Fc(h.keyframes,l);if(m!==void 0)return We.update(()=>{h.onUpdate(m),h.onComplete()}),new MD([])}return!i&&ay.supports(h)?new ay(h):new Mf(h)};function RM({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function z_(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(o=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in u){const m=t.getValue(f,(i=t.latestValues[f])!==null&&i!==void 0?i:null),x=u[f];if(x===void 0||h&&RM(h,f))continue;const w={delay:n,...xf(o||{},f)};let v=!1;if(window.MotionHandoffAnimation){const E=d_(t);if(E){const A=window.MotionHandoffAnimation(E,f,We);A!==null&&(w.startTime=A,v=!0)}}Vd(t,f),m.start(Vf(f,m,x,t.shouldReduceMotion&&Cs.has(f)?{type:!1}:w,t,v));const b=m.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{We.update(()=>{l&&tO(t,l)})}),d}function Wd(t,e,n={}){var r;const s=Lc(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(z_(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=i;return PM(t,e,h+d,f,m,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[d,h]=u==="beforeChildren"?[o,l]:[l,o];return d().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function PM(t,e,n=0,r=0,s=1,i){const o=[],l=(t.variantChildren.size-1)*r,u=s===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(kM).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(Wd(d,e,{...i,delay:n+u(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function kM(t,e){return t.sortNodePosition(e)}function jM(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Wd(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Wd(t,e,n);else{const s=typeof e=="function"?Lc(t,e,n.custom):e;r=Promise.all(z_(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const DM=yf.length;function W_(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?W_(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<DM;n++){const r=yf[n],s=t.props[r];(Bo(s)||s===!1)&&(e[r]=s)}return e}const OM=[...gf].reverse(),MM=gf.length;function VM(t){return e=>Promise.all(e.map(({animation:n,options:r})=>jM(t,n,r)))}function LM(t){let e=VM(t),n=ly(),r=!0;const s=u=>(d,h)=>{var f;const m=Lc(t,h,u==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(m){const{transition:x,transitionEnd:w,...v}=m;d={...d,...v,...w}}return d};function i(u){e=u(t)}function o(u){const{props:d}=t,h=W_(t.parent)||{},f=[],m=new Set;let x={},w=1/0;for(let b=0;b<MM;b++){const E=OM[b],A=n[E],R=d[E]!==void 0?d[E]:h[E],j=Bo(R),D=E===u?A.isActive:null;D===!1&&(w=b);let V=R===h[E]&&R!==d[E]&&j;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),A.protectedKeys={...x},!A.isActive&&D===null||!R&&!A.prevProp||Vc(R)||typeof R=="boolean")continue;const N=FM(A.prevProp,R);let _=N||E===u&&A.isActive&&!V&&j||b>w&&j,S=!1;const P=Array.isArray(R)?R:[R];let k=P.reduce(s(E),{});D===!1&&(k={});const{prevResolvedValues:C={}}=A,I={...C,...k},U=Y=>{_=!0,m.has(Y)&&(S=!0,m.delete(Y)),A.needsAnimating[Y]=!0;const Q=t.getValue(Y);Q&&(Q.liveStyle=!1)};for(const Y in I){const Q=k[Y],se=C[Y];if(x.hasOwnProperty(Y))continue;let xe=!1;jd(Q)&&jd(se)?xe=!e_(Q,se):xe=Q!==se,xe?Q!=null?U(Y):m.add(Y):Q!==void 0&&m.has(Y)?U(Y):A.protectedKeys[Y]=!0}A.prevProp=R,A.prevResolvedValues=k,A.isActive&&(x={...x,...k}),r&&t.blockInitialAnimation&&(_=!1),_&&(!(V&&N)||S)&&f.push(...P.map(Y=>({animation:Y,options:{type:E}})))}if(m.size){const b={};m.forEach(E=>{const A=t.getBaseTarget(E),R=t.getValue(E);R&&(R.liveStyle=!0),b[E]=A??null}),f.push({animation:b})}let v=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function l(u,d){var h;if(n[u].isActive===d)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var x;return(x=m.animationState)===null||x===void 0?void 0:x.setActive(u,d)}),n[u].isActive=d;const f=o(u);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=ly(),r=!0}}}function FM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!e_(e,t):!1}function es(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ly(){return{animate:es(!0),whileInView:es(),whileHover:es(),whileTap:es(),whileDrag:es(),whileFocus:es(),exit:es()}}class Gr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class UM extends Gr{constructor(e){super(e),e.animationState||(e.animationState=LM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let BM=0;class $M extends Gr{constructor(){super(...arguments),this.id=BM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const zM={animation:{Feature:UM},exit:{Feature:$M}};function qo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ga(t){return{point:{x:t.pageX,y:t.pageY}}}const WM=t=>e=>_f(e)&&t(e,ga(e));function To(t,e,n,r){return qo(t,e,WM(n),r)}const cy=(t,e)=>Math.abs(t-e);function qM(t,e){const n=cy(t.x,e.x),r=cy(t.y,e.y);return Math.sqrt(n**2+r**2)}class q_{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Mu(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,x=qM(f.offset,{x:0,y:0})>=3;if(!m&&!x)return;const{point:w}=f,{timestamp:v}=bt;this.history.push({...w,timestamp:v});const{onStart:b,onMove:E}=this.handlers;m||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ou(m,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Mu(f.type==="pointercancel"?this.lastMoveEventInfo:Ou(m,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,b),w&&w(f,b)},!_f(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=ga(e),l=Ou(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=bt;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Mu(l,this.history)),this.removeListeners=ma(To(this.contextWindow,"pointermove",this.handlePointerMove),To(this.contextWindow,"pointerup",this.handlePointerUp),To(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$r(this.updatePoint)}}function Ou(t,e){return e?{point:e(t.point)}:t}function uy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Mu({point:t},e){return{point:t,delta:uy(t,H_(e)),offset:uy(t,HM(e)),velocity:KM(e,.1)}}function HM(t){return t[0]}function H_(t){return t[t.length-1]}function KM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=H_(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>nr(e)));)n--;if(!r)return{x:0,y:0};const i=rr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $s(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const K_=1e-4,GM=1-K_,QM=1+K_,G_=.01,YM=0-G_,XM=0+G_;function on(t){return t.max-t.min}function JM(t,e,n){return Math.abs(t-e)<=n}function dy(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=on(n)/on(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=GM&&t.scale<=QM||isNaN(t.scale))&&(t.scale=1),(t.translate>=YM&&t.translate<=XM||isNaN(t.translate))&&(t.translate=0)}function Eo(t,e,n,r){dy(t.x,e.x,n.x,r?r.originX:void 0),dy(t.y,e.y,n.y,r?r.originY:void 0)}function hy(t,e,n){t.min=n.min+e.min,t.max=t.min+on(e)}function ZM(t,e,n){hy(t.x,e.x,n.x),hy(t.y,e.y,n.y)}function fy(t,e,n){t.min=e.min-n.min,t.max=t.min+on(e)}function Ao(t,e,n){fy(t.x,e.x,n.x),fy(t.y,e.y,n.y)}function eV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function py(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function tV(t,{top:e,left:n,bottom:r,right:s}){return{x:py(t.x,n,s),y:py(t.y,e,r)}}function my(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function nV(t,e){return{x:my(t.x,e.x),y:my(t.y,e.y)}}function rV(t,e){let n=.5;const r=on(t),s=on(e);return s>r?n=_i(e.min,e.max-r,t.min):r>s&&(n=_i(t.min,t.max-s,e.min)),ur(0,1,n)}function sV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qd=.35;function iV(t=qd){return t===!1?t=0:t===!0&&(t=qd),{x:gy(t,"left","right"),y:gy(t,"top","bottom")}}function gy(t,e,n){return{min:yy(t,e),max:yy(t,n)}}function yy(t,e){return typeof t=="number"?t:t[e]||0}const vy=()=>({translate:0,scale:1,origin:0,originPoint:0}),zs=()=>({x:vy(),y:vy()}),xy=()=>({min:0,max:0}),st=()=>({x:xy(),y:xy()});function cn(t){return[t("x"),t("y")]}function Q_({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function oV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Vu(t){return t===void 0||t===1}function Hd({scale:t,scaleX:e,scaleY:n}){return!Vu(t)||!Vu(e)||!Vu(n)}function ns(t){return Hd(t)||Y_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Y_(t){return by(t.x)||by(t.y)}function by(t){return t&&t!=="0%"}function Hl(t,e,n){const r=t-n,s=e*r;return n+s}function wy(t,e,n,r,s){return s!==void 0&&(t=Hl(t,s,r)),Hl(t,n,r)+e}function Kd(t,e=0,n=1,r,s){t.min=wy(t.min,e,n,r,s),t.max=wy(t.max,e,n,r,s)}function X_(t,{x:e,y:n}){Kd(t.x,e.translate,e.scale,e.originPoint),Kd(t.y,n.translate,n.scale,n.originPoint)}const _y=.999999999999,Ty=1.0000000000001;function lV(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&qs(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,X_(t,o)),r&&ns(i.latestValues)&&qs(t,i.latestValues))}e.x<Ty&&e.x>_y&&(e.x=1),e.y<Ty&&e.y>_y&&(e.y=1)}function Ws(t,e){t.min=t.min+e,t.max=t.max+e}function Ey(t,e,n,r,s=.5){const i=Qe(t.min,t.max,s);Kd(t,e,n,i,r)}function qs(t,e){Ey(t.x,e.x,e.scaleX,e.scale,e.originX),Ey(t.y,e.y,e.scaleY,e.scale,e.originY)}function J_(t,e){return Q_(aV(t.getBoundingClientRect(),e))}function cV(t,e,n){const r=J_(t,n),{scroll:s}=e;return s&&(Ws(r.x,s.offset.x),Ws(r.y,s.offset.y)),r}const Z_=({current:t})=>t?t.ownerDocument.defaultView:null,uV=new WeakMap;class dV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=st(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ga(h).point)},i=(h,f)=>{const{drag:m,dragPropagation:x,onDragStart:w}=this.getProps();if(m&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qD(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cn(b=>{let E=this.getAxisMotionValue(b).get()||0;if(jn.test(E)){const{projection:A}=this.visualElement;if(A&&A.layout){const R=A.layout.layoutBox[b];R&&(E=on(R)*(parseFloat(E)/100))}}this.originPoint[b]=E}),w&&We.postRender(()=>w(h,f)),Vd(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:w,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=f;if(x&&this.currentDirection===null){this.currentDirection=hV(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(h,f)},l=(h,f)=>this.stop(h,f),u=()=>cn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new q_(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Z_(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&We.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Ja(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=eV(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&$s(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=tV(s.layoutBox,n):this.constraints=!1,this.elastic=iV(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&cn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=sV(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$s(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=cV(r,s.root,this.visualElement.getTransformPagePoint());let o=nV(s.layout.layoutBox,i);if(n){const l=n(oV(o));this.hasMutatedConstraints=!!l,l&&(o=Q_(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=cn(h=>{if(!Ja(h,n,this.currentDirection))return;let f=u&&u[h]||{};o&&(f={min:0,max:0});const m=s?200:1e6,x=s?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,w)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Vd(this.visualElement,e),r.start(Vf(e,r,0,n,this.visualElement,!1))}stopAnimation(){cn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){cn(n=>{const{drag:r}=this.getProps();if(!Ja(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-Qe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$s(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};cn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();s[o]=rV({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),cn(o=>{if(!Ja(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Qe(u,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;uV.set(this.visualElement,this);const e=this.visualElement.current,n=To(e,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();$s(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),We.read(r);const o=qo(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(cn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=qd,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ja(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function hV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class fV extends Gr{constructor(e){super(e),this.removeGroupControls=rn,this.removeListeners=rn,this.controls=new dV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ay=t=>(e,n)=>{t&&We.postRender(()=>t(e,n))};class pV extends Gr{constructor(){super(...arguments),this.removePointerDownListener=rn}onPointerDown(e){this.session=new q_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ay(e),onStart:Ay(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&We.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=To(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lf=g.createContext(null);function mV(){const t=g.useContext(Lf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=g.useId();g.useEffect(()=>r(s),[]);const i=g.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,i]:[!0]}const eT=g.createContext({}),tT=g.createContext({}),pl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Iy(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ro={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=Iy(t,e.target.x),r=Iy(t,e.target.y);return`${n}% ${r}%`}},gV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=zr.parse(t);if(s.length>5)return r;const i=zr.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=u;const d=Qe(l,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}},Kl={};function yV(t){Object.assign(Kl,t)}const{schedule:Ff,cancel:KL}=l_(queueMicrotask,!1);class vV extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;yV(xV),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),pl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||We.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ff.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nT(t){const[e,n]=mV(),r=g.useContext(eT);return a.jsx(vV,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(tT),isPresent:e,safeToRemove:n})}const xV={borderRadius:{...ro,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ro,borderTopRightRadius:ro,borderBottomLeftRadius:ro,borderBottomRightRadius:ro,boxShadow:gV};function bV(t,e,n){const r=Dt(t)?t:$o(t);return r.start(Vf("",r,e,n)),r.animation}function wV(t){return t instanceof SVGElement&&t.tagName!=="svg"}const _V=(t,e)=>t.depth-e.depth;class TV{constructor(){this.children=[],this.isDirty=!1}add(e){Tf(this.children,e),this.isDirty=!0}remove(e){Ef(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_V),this.isDirty=!1,this.children.forEach(e)}}function EV(t,e){const n=kn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&($r(r),t(i-e))};return We.read(r,!0),()=>$r(r)}function ml(t){const e=Dt(t)?t.get():t;return HD(e)?e.toValue():e}const rT=["TopLeft","TopRight","BottomLeft","BottomRight"],AV=rT.length,Sy=t=>typeof t=="string"?parseFloat(t):t,Cy=t=>typeof t=="number"||re.test(t);function IV(t,e,n,r,s,i){s?(t.opacity=Qe(0,n.opacity!==void 0?n.opacity:1,SV(r)),t.opacityExit=Qe(e.opacity!==void 0?e.opacity:1,0,CV(r))):i&&(t.opacity=Qe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<AV;o++){const l=`border${rT[o]}Radius`;let u=Ny(e,l),d=Ny(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||Cy(u)===Cy(d)?(t[l]=Math.max(Qe(Sy(u),Sy(d),r),0),(jn.test(d)||jn.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function Ny(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const SV=sT(0,.5,v_),CV=sT(.5,.95,rn);function sT(t,e,n){return r=>r<t?0:r>e?1:n(_i(t,e,r))}function Ry(t,e){t.min=e.min,t.max=e.max}function ln(t,e){Ry(t.x,e.x),Ry(t.y,e.y)}function Py(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ky(t,e,n,r,s){return t-=e,t=Hl(t,1/n,r),s!==void 0&&(t=Hl(t,1/s,r)),t}function NV(t,e=0,n=1,r=.5,s,i=t,o=t){if(jn.test(e)&&(e=parseFloat(e),e=Qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Qe(i.min,i.max,r);t===i&&(l-=e),t.min=ky(t.min,e,n,l,s),t.max=ky(t.max,e,n,l,s)}function jy(t,e,[n,r,s],i,o){NV(t,e[n],e[r],e[s],e.scale,i,o)}const RV=["x","scaleX","originX"],PV=["y","scaleY","originY"];function Dy(t,e,n,r){jy(t.x,e,RV,n?n.x:void 0,r?r.x:void 0),jy(t.y,e,PV,n?n.y:void 0,r?r.y:void 0)}function Oy(t){return t.translate===0&&t.scale===1}function iT(t){return Oy(t.x)&&Oy(t.y)}function My(t,e){return t.min===e.min&&t.max===e.max}function kV(t,e){return My(t.x,e.x)&&My(t.y,e.y)}function Vy(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function oT(t,e){return Vy(t.x,e.x)&&Vy(t.y,e.y)}function Ly(t){return on(t.x)/on(t.y)}function Fy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jV{constructor(){this.members=[]}add(e){Tf(this.members,e),e.scheduleRender()}remove(e){if(Ef(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DV(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:f,rotateY:m,skewX:x,skewY:w}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),x&&(r+=`skewX(${x}deg) `),w&&(r+=`skewY(${w}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const rs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ho=typeof window<"u"&&window.MotionDebug!==void 0,Lu=["","X","Y","Z"],OV={visibility:"hidden"},Uy=1e3;let MV=0;function Fu(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function aT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=d_(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&aT(r)}function lT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=MV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ho&&(rs.totalNodes=rs.resolvedTargetDeltas=rs.recalculatedProjection=0),this.nodes.forEach(FV),this.nodes.forEach(WV),this.nodes.forEach(qV),this.nodes.forEach(UV),ho&&window.MotionDebug.record(rs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new TV)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Af),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=wV(o),this.instance=o;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=EV(m,250),pl.hasAnimatedSinceResize&&(pl.hasAnimatedSinceResize=!1,this.nodes.forEach($y))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||YV,{onLayoutAnimationStart:b,onLayoutAnimationComplete:E}=h.getProps(),A=!this.targetLayout||!oT(this.targetLayout,w)||x,R=!m&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||R||m&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,R);const j={...xf(v,"layout"),onPlay:b,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||$y(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$r(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(By);return}this.isUpdating||this.nodes.forEach($V),this.isUpdating=!1,this.nodes.forEach(zV),this.nodes.forEach(VV),this.nodes.forEach(LV),this.clearAllSnapshots();const l=kn.now();bt.delta=ur(0,1e3/60,l-bt.timestamp),bt.timestamp=l,bt.isProcessing=!0,Ru.update.process(bt),Ru.preRender.process(bt),Ru.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ff.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BV),this.sharedNodes.forEach(KV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=st(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!iT(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(l||ns(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),XV(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return st();const u=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(JV))){const{scroll:h}=this.root;h&&(Ws(u.x,h.offset.x),Ws(u.y,h.offset.y))}return u}removeElementScroll(o){var l;const u=st();if(ln(u,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&ln(u,o),Ws(u.x,f.offset.x),Ws(u.y,f.offset.y))}return u}applyTransform(o,l=!1){const u=st();ln(u,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&qs(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ns(h.latestValues)&&qs(u,h.latestValues)}return ns(this.latestValues)&&qs(u,this.latestValues),u}removeTransform(o){const l=st();ln(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!ns(d.latestValues))continue;Hd(d.latestValues)&&d.updateSnapshot();const h=st(),f=d.measurePageBox();ln(h,f),Dy(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return ns(this.latestValues)&&Dy(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=bt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),Ao(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=st(),this.targetWithTransforms=st()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ln(this.target,this.layout.layoutBox),X_(this.target,this.targetDelta)):ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),Ao(this.relativeTargetOrigin,this.target,x.target),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ho&&rs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Hd(this.parent.latestValues)||Y_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;ln(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;lV(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=st());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Py(this.prevProjectionDelta.x,this.projectionDelta.x),Py(this.prevProjectionDelta.y,this.projectionDelta.y)),Eo(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==x||!Fy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),ho&&rs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zs(),this.projectionDelta=zs(),this.projectionDeltaWithTransform=zs()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},h={...this.latestValues},f=zs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=st(),x=u?u.source:void 0,w=this.layout?this.layout.source:void 0,v=x!==w,b=this.getStack(),E=!b||b.members.length<=1,A=!!(v&&!E&&this.options.crossfade===!0&&!this.path.some(QV));this.animationProgress=0;let R;this.mixTargetDelta=j=>{const D=j/1e3;zy(f.x,o.x,D),zy(f.y,o.y,D),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ao(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GV(this.relativeTarget,this.relativeTargetOrigin,m,D),R&&kV(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=st()),ln(R,this.relativeTarget)),v&&(this.animationValues=h,IV(h,d,this.latestValues,D,A,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($r(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{pl.hasAnimatedSinceResize=!0,this.currentAnimation=bV(0,Uy,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Uy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:h}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&cT(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||st();const f=on(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const m=on(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+m}ln(l,u),qs(l,h),Eo(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jV),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&Fu("z",o,d,this.animationValues);for(let h=0;h<Lu.length;h++)Fu(`rotate${Lu[h]}`,o,d,this.animationValues),Fu(`skew${Lu[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}getProjectionStyles(o){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return OV;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=ml(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ml(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ns(this.latestValues)&&(v.transform=h?h({},""):"none",this.hasProjected=!1),v}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=DV(this.projectionDeltaWithTransform,this.treeScale,m),h&&(d.transform=h(m,d.transform));const{x,y:w}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${w.origin*100}% 0`,f.animationValues?d.opacity=f===this?(u=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in Kl){if(m[v]===void 0)continue;const{correct:b,applyTo:E}=Kl[v],A=d.transform==="none"?m[v]:b(m[v],f);if(E){const R=E.length;for(let j=0;j<R;j++)d[E[j]]=A}else d[v]=A}return this.options.layoutId&&(d.pointerEvents=f===this?ml(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(By),this.root.sharedNodes.clear()}}}function VV(t){t.updateLayout()}function LV(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?cn(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],x=on(m);m.min=r[f].min,m.max=m.min+x}):cT(i,n.layoutBox,r)&&cn(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],x=on(r[f]);m.max=m.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+x)});const l=zs();Eo(l,r,n.layoutBox);const u=zs();o?Eo(u,t.applyTransform(s,!0),n.measuredBox):Eo(u,r,n.layoutBox);const d=!iT(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:x}=f;if(m&&x){const w=st();Ao(w,n.layoutBox,m.layoutBox);const v=st();Ao(v,r,x.layoutBox),oT(w,v)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function FV(t){ho&&rs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function BV(t){t.clearSnapshot()}function By(t){t.clearMeasurements()}function $V(t){t.isLayoutDirty=!1}function zV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function $y(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function WV(t){t.resolveTargetDelta()}function qV(t){t.calcProjection()}function HV(t){t.resetSkewAndRotation()}function KV(t){t.removeLeadSnapshot()}function zy(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Wy(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function GV(t,e,n,r){Wy(t.x,e.x,n.x,r),Wy(t.y,e.y,n.y,r)}function QV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const YV={duration:.45,ease:[.4,0,.1,1]},qy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Hy=qy("applewebkit/")&&!qy("chrome/")?Math.round:rn;function Ky(t){t.min=Hy(t.min),t.max=Hy(t.max)}function XV(t){Ky(t.x),Ky(t.y)}function cT(t,e,n){return t==="position"||t==="preserve-aspect"&&!JM(Ly(e),Ly(n),.2)}function JV(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const ZV=lT({attachResizeListener:(t,e)=>qo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uu={current:void 0},uT=lT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uu.current){const t=new ZV({});t.mount(window),t.setOptions({layoutScroll:!0}),Uu.current=t}return Uu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),e5={pan:{Feature:pV},drag:{Feature:fV,ProjectionNode:uT,MeasureLayout:nT}};function Gy(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&We.postRender(()=>i(e,ga(e)))}class t5 extends Gr{mount(){const{current:e}=this.node;e&&(this.unmount=UD(e,n=>(Gy(this.node,n,"Start"),r=>Gy(this.node,r,"End"))))}unmount(){}}class n5 extends Gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ma(qo(this.node.current,"focus",()=>this.onFocus()),qo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Qy(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&We.postRender(()=>i(e,ga(e)))}class r5 extends Gr{mount(){const{current:e}=this.node;e&&(this.unmount=WD(e,n=>(Qy(this.node,n,"Start"),(r,{success:s})=>Qy(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gd=new WeakMap,Bu=new WeakMap,s5=t=>{const e=Gd.get(t.target);e&&e(t)},i5=t=>{t.forEach(s5)};function o5({root:t,...e}){const n=t||document;Bu.has(n)||Bu.set(n,{});const r=Bu.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(i5,{root:t,...e})),r[s]}function a5(t,e,n){const r=o5(e);return Gd.set(t,n),r.observe(t),()=>{Gd.delete(t),r.unobserve(t)}}const l5={some:0,all:1};class c5 extends Gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:l5[s]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=d?h:f;m&&m(u)};return a5(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(u5(e,n))&&this.startObserver()}unmount(){}}function u5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const d5={inView:{Feature:c5},tap:{Feature:r5},focus:{Feature:n5},hover:{Feature:t5}},h5={layout:{ProjectionNode:uT,MeasureLayout:nT}},dT=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Uc=g.createContext({}),Uf=typeof window<"u",f5=Uf?g.useLayoutEffect:g.useEffect,hT=g.createContext({strict:!1});function p5(t,e,n,r,s){var i,o;const{visualElement:l}=g.useContext(Uc),u=g.useContext(hT),d=g.useContext(Lf),h=g.useContext(dT).reducedMotion,f=g.useRef(null);r=r||u.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,x=g.useContext(tT);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&m5(f.current,n,s,x);const w=g.useRef(!1);g.useInsertionEffect(()=>{m&&w.current&&m.update(n,d)});const v=n[u_],b=g.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return f5(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Ff.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),g.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)===null||E===void 0||E.call(window,v)}),b.current=!1))}),m}function m5(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:fT(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&$s(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:d})}function fT(t){if(t)return t.options.allowProjection!==!1?t.projection:fT(t.parent)}function g5(t,e,n){return g.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$s(n)&&(n.current=r))},[e])}function Bc(t){return Vc(t.animate)||yf.some(e=>Bo(t[e]))}function pT(t){return!!(Bc(t)||t.variants)}function y5(t,e){if(Bc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bo(n)?n:void 0,animate:Bo(r)?r:void 0}}return t.inherit!==!1?e:{}}function v5(t){const{initial:e,animate:n}=y5(t,g.useContext(Uc));return g.useMemo(()=>({initial:e,animate:n}),[Yy(e),Yy(n)])}function Yy(t){return Array.isArray(t)?t.join(" "):t}const Xy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ei={};for(const t in Xy)Ei[t]={isEnabled:e=>Xy[t].some(n=>!!e[n])};function x5(t){for(const e in t)Ei[e]={...Ei[e],...t[e]}}const b5=Symbol.for("motionComponentSymbol");function w5({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&x5(t);function i(l,u){let d;const h={...g.useContext(dT),...l,layoutId:_5(l)},{isStatic:f}=h,m=v5(l),x=r(l,f);if(!f&&Uf){T5();const w=E5(h);d=w.MeasureLayout,m.visualElement=p5(s,x,h,e,w.ProjectionNode)}return a.jsxs(Uc.Provider,{value:m,children:[d&&m.visualElement?a.jsx(d,{visualElement:m.visualElement,...h}):null,n(s,l,g5(x,m.visualElement,u),x,f,m.visualElement)]})}const o=g.forwardRef(i);return o[b5]=s,o}function _5({layoutId:t}){const e=g.useContext(eT).id;return e&&t!==void 0?e+"-"+t:t}function T5(t,e){g.useContext(hT).strict}function E5(t){const{drag:e,layout:n}=Ei;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const A5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bf(t){return typeof t!="string"||t.includes("-")?!1:!!(A5.indexOf(t)>-1||/[A-Z]/u.test(t))}function mT(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const gT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yT(t,e,n,r){mT(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(gT.has(s)?s:If(s),e.attrs[s])}function vT(t,{layout:e,layoutId:n}){return Cs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kl[t]||t==="opacity")}function $f(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Dt(s[o])||e.style&&Dt(e.style[o])||vT(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function xT(t,e,n){const r=$f(t,e,n);for(const s in t)if(Dt(t[s])||Dt(e[s])){const i=ha.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function I5(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}function S5({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:C5(r,s,i,t),renderState:e()};return n&&(o.mount=l=>n(r,l,o)),o}const bT=t=>(e,n)=>{const r=g.useContext(Uc),s=g.useContext(Lf),i=()=>S5(t,e,r,s);return n?i():I5(i)};function C5(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=ml(i[m]);let{initial:o,animate:l}=t;const u=Bc(t),d=pT(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!Vc(f)){const m=Array.isArray(f)?f:[f];for(let x=0;x<m.length;x++){const w=mf(t,m[x]);if(w){const{transitionEnd:v,transition:b,...E}=w;for(const A in E){let R=E[A];if(Array.isArray(R)){const j=h?R.length-1:0;R=R[j]}R!==null&&(s[A]=R)}for(const A in v)s[A]=v[A]}}}return s}const zf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),wT=()=>({...zf(),attrs:{}}),_T=(t,e)=>e&&typeof t=="number"?e.transform(t):t,N5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},R5=ha.length;function P5(t,e,n){let r="",s=!0;for(let i=0;i<R5;i++){const o=ha[i],l=t[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=_T(l,jf[o]);if(!u){s=!1;const h=N5[o]||o;r+=`${h}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Wf(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const u in e){const d=e[u];if(Cs.has(u)){o=!0;continue}else if(T_(u)){s[u]=d;continue}else{const h=_T(d,jf[u]);u.startsWith("origin")?(l=!0,i[u]=h):r[u]=h}}if(e.transform||(o||n?r.transform=P5(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:h=0}=i;r.transformOrigin=`${u} ${d} ${h}`}}function Jy(t,e,n){return typeof t=="string"?t:re.transform(e+n*t)}function k5(t,e,n){const r=Jy(e,t.x,t.width),s=Jy(n,t.y,t.height);return`${r} ${s}`}const j5={offset:"stroke-dashoffset",array:"stroke-dasharray"},D5={offset:"strokeDashoffset",array:"strokeDasharray"};function O5(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?j5:D5;t[i.offset]=re.transform(-r);const o=re.transform(e),l=re.transform(n);t[i.array]=`${o} ${l}`}function qf(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},h,f){if(Wf(t,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:x,dimensions:w}=t;m.transform&&(w&&(x.transform=m.transform),delete m.transform),w&&(s!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=k5(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&O5(m,o,l,u,!1)}const Hf=t=>typeof t=="string"&&t.toLowerCase()==="svg",M5={useVisualState:bT({scrapeMotionValuesFromProps:xT,createRenderState:wT,onMount:(t,e,{renderState:n,latestValues:r})=>{We.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),We.render(()=>{qf(n,r,Hf(e.tagName),t.transformTemplate),yT(e,n)})}})},V5={useVisualState:bT({scrapeMotionValuesFromProps:$f,createRenderState:zf})};function TT(t,e,n){for(const r in e)!Dt(e[r])&&!vT(r,n)&&(t[r]=e[r])}function L5({transformTemplate:t},e){return g.useMemo(()=>{const n=zf();return Wf(n,e,t),Object.assign({},n.vars,n.style)},[e])}function F5(t,e){const n=t.style||{},r={};return TT(r,n,t),Object.assign(r,L5(t,e)),r}function U5(t,e){const n={},r=F5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const B5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||B5.has(t)}let ET=t=>!Gl(t);function $5(t){t&&(ET=e=>e.startsWith("on")?!Gl(e):t(e))}try{$5(require("@emotion/is-prop-valid").default)}catch{}function z5(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(ET(s)||n===!0&&Gl(s)||!e&&!Gl(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function W5(t,e,n,r){const s=g.useMemo(()=>{const i=wT();return qf(i,e,Hf(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};TT(i,t.style,t),s.style={...i,...s.style}}return s}function q5(t=!1){return(n,r,s,{latestValues:i},o)=>{const u=(Bf(n)?W5:U5)(r,i,o,n),d=z5(r,typeof n=="string",t),h=n!==g.Fragment?{...d,...u,ref:s}:{},{children:f}=r,m=g.useMemo(()=>Dt(f)?f.get():f,[f]);return g.createElement(n,{...h,children:m})}}function H5(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Bf(r)?M5:V5,preloadedFeatures:t,useRender:q5(s),createVisualElement:e,Component:r};return w5(o)}}const Qd={current:null},AT={current:!1};function K5(){if(AT.current=!0,!!Uf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qd.current=t.matches;t.addListener(e),e()}else Qd.current=!1}function G5(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Dt(s))t.addValue(r,s);else if(Dt(i))t.addValue(r,$o(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,$o(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Zy=new WeakMap,Q5=[...I_,Pt,zr],Y5=t=>Q5.find(A_(t)),ev=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class X5{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Rf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=kn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,We.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Bc(n),this.isVariantNode=pT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const x=f[m];u[m]!==void 0&&Dt(x)&&x.set(u[m],!1)}}mount(e){this.current=e,Zy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AT.current||K5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Zy.delete(this.current),this.projection&&this.projection.unmount(),$r(this.notifyUpdate),$r(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Cs.has(e),s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ei){const n=Ei[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):st()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ev.length;r++){const s=ev[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=G5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=$o(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(w_(s)||b_(s))?s=parseFloat(s):!Y5(s)&&zr.test(n)&&(s=D_(e,n)),this.setBaseTarget(e,Dt(s)?s.get():s)),Dt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=mf(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Dt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Af),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class IT extends X5{constructor(){super(...arguments),this.KeyframeResolver=O_}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function J5(t){return window.getComputedStyle(t)}class Z5 extends IT{constructor(){super(...arguments),this.type="html",this.renderInstance=mT}readValueFromInstance(e,n){if(Cs.has(n)){const r=Df(n);return r&&r.default||0}else{const r=J5(e),s=(T_(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return J_(e,n)}build(e,n,r){Wf(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return $f(e,n,r)}}class eL extends IT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=st}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Cs.has(n)){const r=Df(n);return r&&r.default||0}return n=gT.has(n)?n:If(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return xT(e,n,r)}build(e,n,r){qf(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){yT(e,n,r,s)}mount(e){this.isSVGTag=Hf(e.tagName),super.mount(e)}}const tL=(t,e)=>Bf(t)?new eL(e):new Z5(e,{allowProjection:t!==g.Fragment}),nL=H5({...zM,...d5,...e5,...h5},tL),Te=jD(nL);function ST(t){return dt({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function tv(t){return dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function CT(t){return dt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M12 14l9-5-9-5-9 5 9 5z"},child:[]},{tag:"path",attr:{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"},child:[]}]})(t)}function rL(t){return dt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},child:[]}]})(t)}function Ql(t){return dt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},child:[]}]})(t)}function nv(t){return dt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"},child:[]}]})(t)}const sL=()=>{var v;const t=As(),e=Es(),{toast:n}=Wr(),r=t.state||{},s=ji();g.useEffect(()=>{const b=async()=>{const A=s.currentUser;if(!A){console.log("No authenticated user found"),e("/auth/developer",{replace:!0});return}try{const R=gt(),j=tt(R,"developers",A.uid);if((await nn(j)).exists()){e("/developerdashboard",{state:{uid:A.uid},replace:!0});return}}catch(R){console.error("Error checking user profile:",R)}},E=Ah(s,A=>{b()});return()=>E()},[s,e]);const i=((v=r.name)==null?void 0:v.split(" "))||["",""],o=i[0],l=i.slice(1).join(" "),[u,d]=g.useState({firstName:o,lastName:l,email:r.email||"",experience:"",skills:"",bio:"",github:r.github||"",university:"",degree:"",graduationYear:"",uid:r.uid||"",photoURL:r.photoURL||""}),h=async b=>{b.preventDefault();try{const E=s.currentUser;if(!E){n({title:"Authentication Error",description:"Please sign in again to complete your profile.",variant:"destructive"}),e("/auth/developer",{replace:!0});return}const A=gt(),R=tt(A,"developers",E.uid);await lf(R,{...u,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),n({title:"Profile Created",description:"Your developer profile has been created successfully!"}),e("/developerdashboard",{state:{uid:E.uid},replace:!0})}catch(E){console.error("Error saving profile:",E),n({title:"Error",description:"There was an error creating your profile. Please try again.",variant:"destructive"})}},f=(b,E)=>{d(A=>({...A,[b]:E}))},m=(b,E)=>{d(A=>({...A,[E]:b}))},x=()=>Object.values(u).every(b=>b.trim()!==""),w={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}};return a.jsxs(a.Fragment,{children:[a.jsx(Ri,{}),a.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-6 lg:pr-8",children:[a.jsx("h1",{className:"text-4xl font-bold leading-tight lg:text-5xl bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:"Welcome to Grow With Me"}),a.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:"Join our community of talented developers and find your perfect startup match. We connect passionate engineers with innovative founders."}),a.jsxs("div",{className:"space-y-4 py-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:a.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-lg text-gray-700",children:"Access exclusive startup opportunities"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:a.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-lg text-gray-700",children:"Get matched with founders who value your skills"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:a.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-lg text-gray-700",children:"Earn competitive equity packages"})]})]}),a.jsx("div",{className:"bg-white/50 backdrop-blur-sm rounded-xl p-6 border border-gray-100"})]}),a.jsx(Te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:a.jsx("form",{onSubmit:h,children:a.jsxs(Ht,{className:"border-none shadow-xl",children:[a.jsxs(Kt,{children:[a.jsx(Te.h2,{...w,className:"text-3xl font-bold text-center bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:"Developer Profile"}),a.jsx(Te.p,{...w,transition:{delay:.2},className:"mt-2 text-center text-gray-600",children:"Let's create your developer profile to find the perfect opportunity"})]}),a.jsxs(Gt,{className:"space-y-8",children:[a.jsxs(Te.div,{...w,transition:{delay:.3},children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(td,{className:"text-primary"})}),"Personal Information"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"firstName",children:"First Name"}),a.jsx(oe,{id:"firstName",placeholder:"John",value:u.firstName,onChange:b=>f("firstName",b.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"lastName",children:"Last Name"}),a.jsx(oe,{id:"lastName",placeholder:"Doe",value:u.lastName,onChange:b=>f("lastName",b.target.value),required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"email",children:"Email"}),a.jsx(oe,{id:"email",type:"email",placeholder:"john@example.com",value:u.email,onChange:b=>f("email",b.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"experience",children:"Years of Experience"}),a.jsxs(bo,{onValueChange:b=>m(b,"experience"),required:!0,children:[a.jsx(ei,{children:a.jsx(wo,{placeholder:"Select experience"})}),a.jsxs(ti,{className:"bg-white",children:[a.jsx(ct,{value:"0-1",children:"0-1 years"}),a.jsx(ct,{value:"1-3",children:"1-3 years"}),a.jsx(ct,{value:"3-5",children:"3-5 years"}),a.jsx(ct,{value:"5+",children:"5+ years"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"skills",children:"Primary Skills"}),a.jsx(oe,{id:"skills",placeholder:"e.g., React, Node.js, Python",value:u.skills,onChange:b=>f("skills",b.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"bio",children:"About You"}),a.jsx("textarea",{id:"bio",className:"w-full min-h-[100px] p-3 border rounded-md",placeholder:"Tell us about yourself...",value:u.bio,onChange:b=>f("bio",b.target.value),required:!0})]})]})]}),a.jsxs(Te.div,{...w,transition:{delay:.4},children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(ST,{className:"text-primary"})}),"Professional Details"]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"github",children:"GitHub Profile"}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:"github.com/"}),a.jsx(oe,{id:"github",className:"rounded-l-none",placeholder:"username",value:u.github,onChange:b=>f("github",b.target.value),required:!0})]})]})})]}),a.jsxs(Te.div,{...w,transition:{delay:.5},children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(CT,{className:"text-primary"})}),"Education"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"university",children:"College/University"}),a.jsx(oe,{id:"university",placeholder:"e.g., Stanford University",value:u.university,onChange:b=>f("university",b.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"degree",children:"Degree & Major"}),a.jsx(oe,{id:"degree",placeholder:"e.g., BS Computer Science",value:u.degree,onChange:b=>f("degree",b.target.value),required:!0})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"graduationYear",children:"Graduation Year"}),a.jsxs(bo,{onValueChange:b=>m(b,"graduationYear"),required:!0,children:[a.jsx(ei,{children:a.jsx(wo,{placeholder:"Select year"})}),a.jsx(ti,{className:"bg-white",children:Array.from({length:10},(b,E)=>{const A=new Date().getFullYear()-E;return a.jsx(ct,{value:A.toString(),children:A},A)})})]})]})})]})]})]}),a.jsxs(kc,{className:"flex justify-end space-x-4",children:[a.jsx(Z,{type:"button",variant:"outline",className:"hover:bg-gray-100 transition-colors",children:"Cancel"}),a.jsx(Z,{type:"submit",disabled:!x(),className:"bg-gradient-to-r from-primary to-blue-600 hover:opacity-90 transition-opacity",children:"Create Profile"})]})]})})})]})})]})},iL=()=>{const t=As(),e=Es(),{toast:n}=Wr(),r=t.state||{},s=ji();g.useEffect(()=>{const h=async()=>{const m=s.currentUser;if(!m){e("/auth/recruiter",{replace:!0});return}try{const x=gt(),w=tt(x,"recruiters",m.uid);if((await nn(w)).exists()){e("/recruiterdashboard",{state:{uid:m.uid},replace:!0});return}}catch(x){console.error("Error checking user profile:",x)}},f=Ah(s,m=>{h()});return()=>f()},[s,e]);const[i,o]=g.useState({companyName:"",companyWebsite:"",companySize:"",fundingStage:"",equityRange:"",salaryRange:"",roleDescription:"",techStack:"",experienceRequired:"",uid:r.uid||"",email:r.email||"",photoURL:r.photoURL||""}),l=async h=>{h.preventDefault();try{const f=s.currentUser;if(!f){n({title:"Authentication Error",description:"Please sign in again to complete your profile.",variant:"destructive"}),e("/auth/recruiter",{replace:!0});return}const m=gt(),x=tt(m,"recruiters",f.uid);await lf(x,{...i,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),n({title:"Profile Created",description:"Your recruiter profile has been created successfully!"}),e("/recruiterdashboard",{state:{uid:f.uid},replace:!0})}catch(f){console.error("Error saving profile:",f),n({title:"Error",description:"There was an error creating your profile. Please try again.",variant:"destructive"})}},u=(h,f)=>{o(m=>({...m,[h]:f}))},d=()=>!!(i.companyName&&i.companyWebsite&&i.companySize&&i.fundingStage&&i.equityRange&&i.salaryRange&&i.roleDescription&&i.techStack&&i.experienceRequired);return a.jsxs(a.Fragment,{children:[a.jsx(Ri,{}),a.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-6 lg:pr-8",children:[a.jsx("h1",{className:"text-4xl font-bold leading-tight lg:text-5xl bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:"Find Your Next Tech Co-founder"}),a.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:"Connect with talented developers who can bring your vision to life. Grow With Me helps you find the perfect technical match for your startup."}),a.jsxs("div",{className:"space-y-4 py-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:a.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-lg text-gray-700",children:"Access a pool of pre-vetted developers"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:a.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-lg text-gray-700",children:"Find developers who match your tech stack"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:a.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-lg text-gray-700",children:"Fast-track your startup's technical growth"})]})]})]}),a.jsx(Te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:a.jsx("form",{onSubmit:l,children:a.jsxs(Ht,{className:"border-none shadow-xl",children:[a.jsxs(Kt,{children:[a.jsx("h2",{className:"text-2xl font-bold text-center bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:"Recruiter Profile"}),a.jsx("p",{className:"mt-2 text-center text-gray-600",children:"Let's create your recruiter profile to find talented developers"})]}),a.jsxs(Gt,{className:"space-y-8",children:[a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(nd,{className:"text-primary"})}),"Company Details"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"companyName",children:"Company Name"}),a.jsx(oe,{id:"companyName",value:i.companyName,onChange:h=>u("companyName",h.target.value),placeholder:"e.g., Tech Innovations Inc."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"companyWebsite",children:"Company Website"}),a.jsx(oe,{id:"companyWebsite",value:i.companyWebsite,onChange:h=>u("companyWebsite",h.target.value),placeholder:"e.g., https://example.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"companySize",children:"Company Size"}),a.jsxs(bo,{onValueChange:h=>u("companySize",h),children:[a.jsx(ei,{children:a.jsx(wo,{placeholder:"Select company size"})}),a.jsxs(ti,{className:"bg-white",children:[a.jsx(ct,{value:"1-10",children:"1-10 employees"}),a.jsx(ct,{value:"11-50",children:"11-50 employees"}),a.jsx(ct,{value:"51-200",children:"51-200 employees"}),a.jsx(ct,{value:"201-500",children:"201-500 employees"}),a.jsx(ct,{value:"500+",children:"500+ employees"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"fundingStage",children:"Funding Stage"}),a.jsxs(bo,{onValueChange:h=>u("fundingStage",h),children:[a.jsx(ei,{children:a.jsx(wo,{placeholder:"Select funding stage"})}),a.jsxs(ti,{className:"bg-white",children:[a.jsx(ct,{value:"bootstrap",children:"Bootstrapped"}),a.jsx(ct,{value:"seed",children:"Seed"}),a.jsx(ct,{value:"seriesA",children:"Series A"}),a.jsx(ct,{value:"seriesB",children:"Series B"}),a.jsx(ct,{value:"seriesC",children:"Series C+"})]})]})]})]}),a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(El,{className:"text-primary"})}),"Equity & Compensation"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"equityRange",children:"Equity Range (%)"}),a.jsx(oe,{id:"equityRange",value:i.equityRange,onChange:h=>u("equityRange",h.target.value),placeholder:"e.g., 0.5-2.0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"salaryRange",children:"Salary Range ($)"}),a.jsx(oe,{id:"salaryRange",value:i.salaryRange,onChange:h=>u("salaryRange",h.target.value),placeholder:"e.g., 80k-120k"})]})]})]}),a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(Ql,{className:"text-primary"})}),"Role Details"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"roleDescription",children:"Role Description"}),a.jsx("textarea",{id:"roleDescription",value:i.roleDescription,onChange:h=>u("roleDescription",h.target.value),className:"w-full min-h-[100px] p-3 border rounded-md",placeholder:"Describe the role, responsibilities, and what you're looking for in a candidate..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"techStack",children:"Required Tech Stack"}),a.jsx(oe,{id:"techStack",value:i.techStack,onChange:h=>u("techStack",h.target.value),placeholder:"e.g., React, Node.js, Python"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"experienceRequired",children:"Experience Required"}),a.jsxs(bo,{onValueChange:h=>u("experienceRequired",h),children:[a.jsx(ei,{children:a.jsx(wo,{placeholder:"Select required experience"})}),a.jsxs(ti,{className:"bg-white",children:[a.jsx(ct,{value:"0-1",children:"0-1 years"}),a.jsx(ct,{value:"1-3",children:"1-3 years"}),a.jsx(ct,{value:"3-5",children:"3-5 years"}),a.jsx(ct,{value:"5+",children:"5+ years"})]})]})]})]})]}),a.jsxs(kc,{className:"flex justify-end space-x-4",children:[a.jsx(Z,{type:"button",variant:"outline",className:"hover:bg-gray-100 transition-colors",children:"Cancel"}),a.jsx(Z,{type:"submit",disabled:!d(),className:"bg-gradient-to-r from-primary to-blue-600 hover:opacity-90 transition-opacity",children:"Create Profile"})]})]})})})]})})]})},oL=()=>{var w;const t=As(),e=Es(),{toast:n}=Wr(),r=t.state||{},s=ji();g.useEffect(()=>{const v=async()=>{const E=s.currentUser;if(!E){console.log("No authenticated user found"),e("/auth/investor",{replace:!0});return}try{const A=gt(),R=tt(A,"investors",E.uid);if((await nn(R)).exists()){e("/investorsdashboard",{state:{uid:E.uid},replace:!0});return}}catch(A){console.error("Error checking user profile:",A)}},b=Ah(s,E=>{E&&v()});return()=>b()},[s,e]);const i=((w=r.name)==null?void 0:w.split(" "))||["",""],o=i[0],l=i.slice(1).join(" "),[u,d]=g.useState({firstName:o,lastName:l,email:r.email||"",investmentInterests:"",netWorth:"",pastInvestments:"",uid:r.uid||"",photoURL:r.photoURL||""}),h=async v=>{v.preventDefault();try{const b=s.currentUser;if(!b){n({title:"Authentication Error",description:"Please sign in again to complete your profile.",variant:"destructive"}),e("/auth/investor",{replace:!0});return}const E=gt(),A=tt(E,"investors",b.uid);await lf(A,{...u,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),n({title:"Profile Created",description:"Your investor profile has been created successfully!"}),e("/investorsdashboard",{state:{uid:b.uid},replace:!0})}catch(b){console.error("Error saving profile:",b),n({title:"Error",description:"There was an error creating your profile. Please try again.",variant:"destructive"})}},f=(v,b)=>{d(E=>({...E,[v]:b}))},m=()=>Object.values(u).every(v=>v.trim()!==""),x={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}};return a.jsxs(a.Fragment,{children:[a.jsx(Ri,{}),a.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-6 lg:pr-8",children:[a.jsx("h1",{className:"text-4xl font-bold leading-tight lg:text-5xl bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:"Welcome to Grow With Me"}),a.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:"Join our community of investors and discover promising startups. We connect visionary investors with innovative founders."}),a.jsxs("div",{className:"space-y-4 py-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:a.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-lg text-gray-700",children:"Access exclusive startup opportunities"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:a.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-lg text-gray-700",children:"Get matched with founders who value your investment"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:a.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-lg text-gray-700",children:"Earn competitive returns on your investments"})]})]}),a.jsx("div",{className:"bg-white/50 backdrop-blur-sm rounded-xl p-6 border border-gray-100"})]}),a.jsx(Te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:a.jsx("form",{onSubmit:h,children:a.jsxs(Ht,{className:"border-none shadow-xl",children:[a.jsxs(Kt,{children:[a.jsx(Te.h2,{...x,className:"text-3xl font-bold text-center bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:"Investor Profile"}),a.jsx(Te.p,{...x,transition:{delay:.2},className:"mt-2 text-center text-gray-600",children:"Let's create your investor profile to find the perfect opportunities"})]}),a.jsx(Gt,{className:"space-y-8",children:a.jsxs(Te.div,{...x,transition:{delay:.3},children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),"Personal Information"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"firstName",children:"First Name"}),a.jsx(oe,{id:"firstName",placeholder:"John",value:u.firstName,onChange:v=>f("firstName",v.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"lastName",children:"Last Name"}),a.jsx(oe,{id:"lastName",placeholder:"Doe",value:u.lastName,onChange:v=>f("lastName",v.target.value),required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"email",children:"Email"}),a.jsx(oe,{id:"email",type:"email",placeholder:"john@example.com",value:u.email,onChange:v=>f("email",v.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"investmentInterests",children:"Investment Interests"}),a.jsx(oe,{id:"investmentInterests",placeholder:"e.g., Technology, Healthcare",value:u.investmentInterests,onChange:v=>f("investmentInterests",v.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"netWorth",children:"Net Worth"}),a.jsx(oe,{id:"netWorth",placeholder:"e.g., $1,000,000",value:u.netWorth,onChange:v=>f("netWorth",v.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ue,{htmlFor:"pastInvestments",children:"Past Investments"}),a.jsx("textarea",{id:"pastInvestments",className:"w-full min-h-[100px] p-3 border rounded-md",placeholder:"List your past investments...",value:u.pastInvestments,onChange:v=>f("pastInvestments",v.target.value),required:!0})]})]})]})}),a.jsxs(kc,{className:"flex justify-end space-x-4",children:[a.jsx(Z,{type:"button",variant:"outline",className:"hover:bg-gray-100 transition-colors",children:"Cancel"}),a.jsx(Z,{type:"submit",disabled:!m(),className:"bg-gradient-to-r from-primary to-blue-600 hover:opacity-90 transition-opacity",children:"Create Profile"})]})]})})})]})})]})};(()=>{try{localStorage.getItem("theme")==="light"?document.documentElement.classList.remove("dark"):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")),console.log("Theme initialized:",document.documentElement.classList.contains("dark")?"dark":"light")}catch(t){document.documentElement.classList.add("dark"),console.error("Error initializing theme, defaulting to dark:",t)}})();const NT=()=>typeof window>"u"||document.documentElement.classList.contains("dark")?"dark":localStorage.getItem("theme")==="light"?"light":"dark",aL=t=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",t),console.log("Theme applied:",t)},RT=()=>{const e=(document.documentElement.classList.contains("dark")?"dark":"light")==="light"?"dark":"light";return aL(e),e};var Kf="Dialog",[PT,QL]=Jl(Kf),[lL,Tn]=PT(Kf),kT=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=g.useRef(null),u=g.useRef(null),[d=!1,h]=gl({prop:r,defaultProp:s,onChange:i});return a.jsx(lL,{scope:e,triggerRef:l,contentRef:u,contentId:Ks(),titleId:Ks(),descriptionId:Ks(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};kT.displayName=Kf;var jT="DialogTrigger",cL=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Tn(jT,n),i=qe(e,s.triggerRef);return a.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Yf(s.open),...r,ref:i,onClick:fe(t.onClick,s.onOpenToggle)})});cL.displayName=jT;var Gf="DialogPortal",[uL,DT]=PT(Gf,{forceMount:void 0}),OT=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Tn(Gf,e);return a.jsx(uL,{scope:e,forceMount:n,children:g.Children.map(r,o=>a.jsx(Ii,{present:n||i.open,children:a.jsx(Zl,{asChild:!0,container:s,children:o})}))})};OT.displayName=Gf;var Yl="DialogOverlay",MT=g.forwardRef((t,e)=>{const n=DT(Yl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Tn(Yl,t.__scopeDialog);return i.modal?a.jsx(Ii,{present:r||i.open,children:a.jsx(dL,{...s,ref:e})}):null});MT.displayName=Yl;var dL=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Tn(Yl,n);return a.jsx(ff,{as:ms,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Se.div,{"data-state":Yf(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ts="DialogContent",VT=g.forwardRef((t,e)=>{const n=DT(Ts,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Tn(Ts,t.__scopeDialog);return a.jsx(Ii,{present:r||i.open,children:i.modal?a.jsx(hL,{...s,ref:e}):a.jsx(fL,{...s,ref:e})})});VT.displayName=Ts;var hL=g.forwardRef((t,e)=>{const n=Tn(Ts,t.__scopeDialog),r=g.useRef(null),s=qe(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return uw(i)},[]),a.jsx(LT,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,i=>i.preventDefault())})}),fL=g.forwardRef((t,e)=>{const n=Tn(Ts,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return a.jsx(LT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),LT=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=Tn(Ts,n),u=g.useRef(null),d=qe(e,u);return aw(),a.jsxs(a.Fragment,{children:[a.jsx(hf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Go,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Yf(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(pL,{titleId:l.titleId}),a.jsx(gL,{contentRef:u,descriptionId:l.descriptionId})]})]})}),Qf="DialogTitle",FT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Tn(Qf,n);return a.jsx(Se.h2,{id:s.titleId,...r,ref:e})});FT.displayName=Qf;var UT="DialogDescription",BT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Tn(UT,n);return a.jsx(Se.p,{id:s.descriptionId,...r,ref:e})});BT.displayName=UT;var $T="DialogClose",zT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Tn($T,n);return a.jsx(Se.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});zT.displayName=$T;function Yf(t){return t?"open":"closed"}var WT="DialogTitleWarning",[YL,qT]=FE(WT,{contentName:Ts,titleName:Qf,docsSlug:"dialog"}),pL=({titleId:t})=>{const e=qT(WT),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},mL="DialogDescriptionWarning",gL=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qT(mL).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},yL=kT,vL=OT,HT=MT,KT=VT,GT=FT,QT=BT,xL=zT;const Cr=yL,bL=vL,YT=g.forwardRef(({className:t,...e},n)=>a.jsx(HT,{ref:n,className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));YT.displayName=HT.displayName;const Xn=g.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(bL,{children:[a.jsx(YT,{}),a.jsxs(KT,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(xL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(qv,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xn.displayName=KT.displayName;const Jn=({className:t,...e})=>a.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Jn.displayName="DialogHeader";const Zn=g.forwardRef(({className:t,...e},n)=>a.jsx(GT,{ref:n,className:je("text-lg font-semibold leading-none tracking-tight",t),...e}));Zn.displayName=GT.displayName;const wL=g.forwardRef(({className:t,...e},n)=>a.jsx(QT,{ref:n,className:je("text-sm text-muted-foreground",t),...e}));wL.displayName=QT.displayName;const er=g.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));er.displayName="Textarea";const _L=()=>{var va;const t=As(),{toast:e}=Wr(),[n,r]=g.useState("all"),[s,i]=g.useState(null);g.useState([]);const[o,l]=g.useState(!0),[u,d]=g.useState(!1),[h,f]=g.useState(null),[m,x]=g.useState(!1),[w,v]=g.useState(null),[b,E]=g.useState(!1),[A,R]=g.useState(null),[j,D]=g.useState(!1),[V,N]=g.useState([]),[_,S]=g.useState([]),[P,k]=g.useState(!1),[C,I]=g.useState(null),[U,G]=g.useState("developers"),[q,Y]=g.useState(""),[Q,se]=g.useState([]),[xe,Pe]=g.useState([]),[Me,Ie]=g.useState("newest"),[ye,nt]=g.useState("all"),[He,ee]=g.useState([]),[Ce,Ke]=g.useState(!1),[be,ge]=g.useState(!1),[pe,Xe]=g.useState(NT()),[pt,zt]=g.useState(!1),[ht,At]=g.useState("all"),[F,W]=g.useState([]),[Ve,de]=g.useState(!1),[dn,Wt]=g.useState(!1),an=L=>{R(L),D(!0)},yt=["Python","Java","JavaScript","Kotlin","Swift","C","C++","C#","React","Angular","Vue","Node.js","Django","Flask","Spring"],rt=["SaaS","FinTech","Healthcare","EdTech","E-commerce","AI/ML","Blockchain","IoT","CleanTech","B2B","B2C","Mobile Apps"],ot=L=>{I(L),k(!0)},Un=()=>{const L=RT();Xe(L)};g.useEffect(()=>{const L=document.documentElement.classList.contains("dark");Xe(L?"dark":"light")},[]);const Bi=()=>{de(!0),setTimeout(()=>zt(!0),100)},$i=()=>{zt(!1),setTimeout(()=>de(!1),300)},Ns=async(L,K)=>{try{E(!0);const ie=gt(),te=tt(ie,"applications",L);await xo(te,{status:K,updatedAt:Uo()}),N(we=>we.map(Fe=>Fe.id===L?{...Fe,status:K}:Fe)),e({title:"Success",description:`Application ${K} successfully`})}catch(ie){console.error("Error updating application:",ie),e({title:"Error",description:"Failed to update application status",variant:"destructive"})}finally{E(!1)}},En=async(L,K)=>{try{E(!0);const ie=gt(),te=tt(ie,"investmentInterests",L);await xo(te,{status:K,updatedAt:Uo()}),S(we=>we.map(Fe=>Fe.id===L?{...Fe,status:K}:Fe)),e({title:"Success",description:`Application ${K} successfully`})}catch(ie){console.error("Error updating application:",ie),e({title:"Error",description:"Failed to update application status",variant:"destructive"})}finally{E(!1)}};g.useEffect(()=>{(async()=>{var K;try{const ie=gt(),te=(K=t.state)==null?void 0:K.uid;if(!te){e({title:"Error",description:"User ID not found. Please try logging in again.",variant:"destructive"}),l(!1);return}const we=tt(ie,"recruiters",te),Fe=await nn(we);Fe.exists()&&i(Fe.data());const Ee=jr(ie,"applications"),at=Ag(Ee,Ig("recruiterId","==",te)),Rs=await Fo(at),xa=await Promise.all(Rs.docs.map(async Lt=>{var Yr,_a;const Ge=Lt.data(),qi=tt(ie,"developers",Ge.developerId),De=(await nn(qi)).data();return De?{id:Lt.id,developerId:Ge.developerId,ideaId:Ge.ideaId,name:`${De.firstName} ${De.lastName}`,experience:De.experience||"",skills:((Yr=De.skills)==null?void 0:Yr.split(",").map(Ps=>Ps.trim()))||[],appliedDate:((_a=Ge.createdAt)==null?void 0:_a.toDate().toISOString().split("T")[0])||"",status:Ge.status,coverLetter:Ge.coverLetter,resume:Ge.resume,email:De.email||"",github:De.github||"",university:De.university||"",degree:De.degree||"",graduationYear:De.graduationYear||"",photoURL:De.photoURL||"",whatsappNumber:Ge.whatsappNumber||""}:(console.warn(`Developer data not found for ID: ${Ge.developerId}`),null)}));N(xa.filter(Lt=>Lt!==null));const Qr=jr(ie,"investmentInterests"),ba=Ag(Qr,Ig("recruiterId","==",te)),vt=await Fo(ba),wa=await Promise.all(vt.docs.map(async Lt=>{var Yr;const Ge=Lt.data(),qi=tt(ie,"investors",Ge.investorId),De=(await nn(qi)).data();return De?{id:Lt.id,investorId:Ge.investorId,ideaId:Ge.ideaId,name:`${De.firstName} ${De.lastName}`,email:De.email||"",portfolioValue:De.portfolioValue||0,investmentHistory:De.investmentHistory||[],investmentInterests:De.investmentInterests||"",netWorth:De.netWorth||"",pastInvestments:De.pastInvestments||"",appliedDate:((Yr=Ge.createdAt)==null?void 0:Yr.toDate().toISOString().split("T")[0])||"",status:Ge.status,coverLetter:Ge.coverLetter,photoURL:De.photoURL||"",whatsappNumber:Ge.whatsappNumber||""}:(console.warn(`Investor data not found for ID: ${Ge.investorId}`),null)}));S(wa.filter(Lt=>Lt!==null)),l(!1)}catch(ie){console.error("Error fetching data:",ie),e({title:"Error",description:"Failed to load dashboard data. Please try again.",variant:"destructive"}),l(!1)}})()},[(va=t.state)==null?void 0:va.uid,e]),g.useEffect(()=>{const L=V.filter(we=>q===""||we.name.toLowerCase().includes(q.toLowerCase())||we.skills.some(Fe=>Fe.toLowerCase().includes(q.toLowerCase()))),K=n==="all"?L:L.filter(we=>we.status===n);se(K);const ie=_.filter(we=>q===""||we.name.toLowerCase().includes(q.toLowerCase())||we.investmentInterests.toLowerCase().includes(q.toLowerCase())),te=n==="all"?ie:ie.filter(we=>we.status===n);Pe(te)},[q,V,_,n]);const ya=async()=>{var L;if(!(!h||!((L=t.state)!=null&&L.uid)))try{const K=gt(),ie=tt(K,"recruiters",t.state.uid);await xo(ie,{...h}),i(h),d(!1),e({title:"Success",description:"Company profile updated successfully"})}catch(K){console.error("Error updating profile:",K),e({title:"Error",description:"Failed to update profile. Please try again.",variant:"destructive"})}};g.useEffect(()=>{const K=[...V.filter(ie=>{if(n!=="all"&&ie.status!==n)return!1;if(q){const te=q.toLowerCase();if(!ie.name.toLowerCase().includes(te)&&!ie.skills.some(we=>we.toLowerCase().includes(te)))return!1}if(ye!=="all"){const te=parseInt(ie.experience);if(ye==="0-1"&&(te<0||te>1)||ye==="1-3"&&(te<1||te>3)||ye==="3-5"&&(te<3||te>5)||ye==="5+"&&te<5)return!1}return!(He.length>0&&!He.some(te=>ie.skills.includes(te)))})].sort((ie,te)=>{const we=new Date(ie.appliedDate),Fe=new Date(te.appliedDate);return Me==="newest"?Fe.getTime()-we.getTime():we.getTime()-Fe.getTime()});se(K)},[V,n,q,ye,He,Me]),g.useEffect(()=>{if(U!=="investors")return;const K=[..._.filter(ie=>{if(n!=="all"&&ie.status!==n)return!1;if(q){const te=q.toLowerCase();if(!ie.name.toLowerCase().includes(te)&&!ie.investmentInterests.toLowerCase().includes(te))return!1}if(ht!=="all"){const te=ie.netWorth.toLowerCase(),we=te.match(/[\d,.]+/),Fe=te.includes("k"),Ee=te.includes("m");let at=0;switch(we&&(at=parseFloat(we[0].replace(/,/g,"")),Fe&&(at*=1e3),Ee&&(at*=1e6)),ht){case"under100k":if(!(te.includes("under 100")||te.includes("<100")||te.includes("less than 100")||at>0&&at<1e5))return!1;break;case"100k-500k":if(!(te.includes("100k-500k")||te.includes("100-500")||at>=1e5&&at<=5e5))return!1;break;case"500k-1m":if(!(te.includes("500k-1m")||te.includes("500-1")||at>=5e5&&at<=1e6))return!1;break;case"over1m":if(!(te.includes("over 1m")||te.includes(">1m")||te.includes("more than 1m")||Ee&&at>1||at>1e6))return!1;break}}if(F.length>0){const te=ie.investmentInterests.toLowerCase();if(!F.some(we=>te.includes(we.toLowerCase())))return!1}return!0})].sort((ie,te)=>{const we=new Date(ie.appliedDate),Fe=new Date(te.appliedDate);return Me==="newest"?Fe.getTime()-we.getTime():we.getTime()-Fe.getTime()});Pe(K)},[_,n,q,ht,F,Me,U]);const zi=L=>L?!!(L.cofounderRole&&L.ideaDescription&&L.responsibilities&&L.idealCandidate):!1,Wi=async()=>{var L;if(!(!w||!((L=t.state)!=null&&L.uid))){if(!zi(w)){e({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}try{E(!0);const K=gt(),ie=jr(K,"ideas");await cf(ie,{...w,recruiterId:t.state.uid,createdAt:new Date().toISOString(),status:"active"}),x(!1),e({title:"Success",description:"Your idea has been posted successfully"})}catch(K){console.error("Error posting idea:",K),e({title:"Error",description:"Failed to post idea. Please try again.",variant:"destructive"})}finally{E(!1)}}};if(o||!s)return a.jsx(a.Fragment,{children:a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-12 px-4",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded"}),a.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})})})});const $c=({activeApplicationTab:L,setActiveApplicationTab:K,isSideMenuOpen:ie,setIsSideMenuOpen:te,isFilterOpen:we,setIsFilterOpen:Fe})=>a.jsxs(a.Fragment,{children:[a.jsx("style",{jsx:!0,children:`
            .modern-scrollbar::-webkit-scrollbar {
              width: 4px;
            }
            .modern-scrollbar::-webkit-scrollbar-track {
              background: transparent;
            }
            .modern-scrollbar::-webkit-scrollbar-thumb {
              background-color: transparent;
              border-radius: 20px;
              transition: background-color 0.3s ease;
            }
            .modern-scrollbar:hover::-webkit-scrollbar-thumb {
              background-color: rgba(156, 163, 175, 0.5);
            }
            .modern-scrollbar::-webkit-scrollbar-thumb:hover {
              background-color: rgba(107, 114, 128, 0.7);
            }
            .dark .modern-scrollbar:hover::-webkit-scrollbar-thumb {
              background-color: rgba(99, 102, 241, 0.5);
            }
            .dark .modern-scrollbar::-webkit-scrollbar-thumb:hover {
              background-color: rgba(99, 102, 241, 0.7);
            }
          `}),a.jsx("div",{className:`fixed top-16 left-0 h-[calc(100vh-4rem)] w-64 bg-white border border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-lg z-50 transform transition-transform ${ie?"translate-x-0":"-translate-x-full"} sm:translate-x-0 overflow-hidden`,children:a.jsx("div",{className:"h-full overflow-y-auto modern-scrollbar",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent dark:from-green-500 dark:to-blue-500",children:"Menu"}),a.jsx("button",{onClick:()=>te(!1),className:"text-gray-600 dark:text-gray-300 sm:hidden",children:a.jsx(hh,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsx("div",{className:"flex flex-col space-y-2",children:[{id:"developers",icon:a.jsx(AS,{className:"h-4 w-4 mr-2"}),label:"Developer Applications"},{id:"investors",icon:a.jsx($0,{className:"h-4 w-4 mr-2"}),label:"Investor Applications"}].map(Ee=>a.jsxs(Z,{variant:L===Ee.id?"default":"outline",size:"sm",onClick:()=>K(Ee.id),className:`flex items-center justify-center px-3 py-2 capitalize transition-all duration-300 ${L===Ee.id?"bg-primary hover:bg-primary/90 dark:bg-blue-600 shadow-md":"hover:bg-gray-100 text-gray-700 hover:text-gray-800 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center",children:[Ee.icon,a.jsx("span",{children:Ee.label})]}),L===Ee.id&&a.jsx("span",{className:"ml-auto bg-white/20 px-1.5 py-0.5 rounded-full text-xs",children:L==="developers"?Q.length:xe.length})]},Ee.id))}),a.jsxs("div",{className:"relative",children:[a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>Fe(!we),className:"flex items-center justify-start w-full px-3 py-2 border-gray-300 dark:border-blue-400 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700 transition-all duration-300",children:[a.jsx(B0,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:"Filter"})]}),we&&a.jsxs("div",{className:"mt-2 w-full bg-white dark:bg-gray-800 border rounded-md shadow-lg py-2",children:[a.jsx("div",{className:"px-4 py-2 text-sm font-semibold text-gray-500 dark:text-gray-200",children:"Sort By"}),a.jsxs("div",{className:"px-4 py-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"sortOption",value:"newest",checked:Me==="newest",onChange:()=>Ie("newest"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"Newest"})]}),a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"radio",name:"sortOption",value:"oldest",checked:Me==="oldest",onChange:()=>Ie("oldest"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"Oldest"})]})]}),L==="developers"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-4 py-2 text-sm font-semibold text-gray-500 dark:text-gray-200",children:"Experience Range"}),a.jsxs("div",{className:"px-4 py-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"experienceFilter",value:"all",checked:ye==="all",onChange:()=>nt("all"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"All"})]}),a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"radio",name:"experienceFilter",value:"0-1",checked:ye==="0-1",onChange:()=>nt("0-1"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"0-1 years"})]}),a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"radio",name:"experienceFilter",value:"1-3",checked:ye==="1-3",onChange:()=>nt("1-3"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"1-3 years"})]}),a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"radio",name:"experienceFilter",value:"3-5",checked:ye==="3-5",onChange:()=>nt("3-5"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"3-5 years"})]}),a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"radio",name:"experienceFilter",value:"5+",checked:ye==="5+",onChange:()=>nt("5+"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"5+ years"})]})]}),a.jsx("div",{className:"px-4 py-2 text-sm font-semibold text-gray-500 dark:text-gray-200",children:"Skills"}),a.jsx("div",{className:"px-4 py-2 max-h-40 overflow-y-auto modern-scrollbar",children:yt.map(Ee=>a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"checkbox",checked:He.includes(Ee),onChange:()=>{He.includes(Ee)?ee(He.filter(at=>at!==Ee)):ee([...He,Ee])},className:"form-checkbox"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:Ee})]},Ee))})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-4 py-2 text-sm font-semibold text-gray-500 dark:text-gray-200",children:"Net Worth"}),a.jsxs("div",{className:"px-4 py-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"netWorthFilter",value:"all",checked:ht==="all",onChange:()=>At("all"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"All"})]}),a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"radio",name:"netWorthFilter",value:"under100k",checked:ht==="under100k",onChange:()=>At("under100k"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"Under $100K"})]}),a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"radio",name:"netWorthFilter",value:"100k-500k",checked:ht==="100k-500k",onChange:()=>At("100k-500k"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"$100K - $500K"})]}),a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"radio",name:"netWorthFilter",value:"500k-1m",checked:ht==="500k-1m",onChange:()=>At("500k-1m"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"$500K - $1M"})]}),a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"radio",name:"netWorthFilter",value:"over1m",checked:ht==="over1m",onChange:()=>At("over1m"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"Over $1M"})]})]}),a.jsx("div",{className:"px-4 py-2 text-sm font-semibold text-gray-500 dark:text-gray-200",children:"Investment Interests"}),a.jsx("div",{className:"px-4 py-2 max-h-40 overflow-y-auto",children:rt.map(Ee=>a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"checkbox",checked:F.includes(Ee),onChange:()=>{F.includes(Ee)?W(F.filter(at=>at!==Ee)):W([...F,Ee])},className:"form-checkbox"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:Ee})]},Ee))})]})]})]}),a.jsxs(Z,{variant:"outline",className:"flex items-center justify-start w-full px-3 py-2 border-gray-300 dark:border-blue-400 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700 transition-all duration-300",onClick:()=>{v({...s,cofounderRole:"",ideaDescription:"",responsibilities:"",idealCandidate:""}),x(!0)},children:[a.jsx(ES,{className:"h-4 w-4"}),"Post New Idea"]})]})]})})})]});return a.jsxs("div",{className:"min-h-screen bg-gray-100",children:[a.jsx(Ri,{theme:pe,setIsSideMenuOpen:Ke,searchQuery:q,setSearchQuery:Y,profileElement:a.jsx("button",{onClick:Bi,className:"flex items-center justify-center w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 transition-colors duration-200 ml-2",children:a.jsx("img",{src:s==null?void 0:s.photoURL,alt:"Profile",className:"h-10 w-10 rounded-full border-2 border-gray-300 dark:border-blue-400"})})}),a.jsx($c,{activeApplicationTab:U,setActiveApplicationTab:G,isSideMenuOpen:Ce,setIsSideMenuOpen:Ke,isFilterOpen:be,setIsFilterOpen:ge}),Ce&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 sm:hidden",onClick:()=>Ke(!1)}),a.jsxs(Te.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen h-[calc(100vh-16rem)] overflow-y-auto modern-scrollbar bg-white transition-all duration-300 dark:bg-gray-900 text-black dark:text-white sm:ml-64",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 mt-10",children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent dark:from-red-300 dark:to-blue-500",children:"Founder Dashboard"}),a.jsxs("div",{className:" hidden flex-col sm:flex-row items-center gap-4 mt-4 sm:mt-0 w-full sm:w-auto",children:[a.jsxs("div",{className:"relative w-full sm:w-auto flex-grow",children:[a.jsx("input",{type:"text",placeholder:"Search...",value:q,onChange:L=>Y(L.target.value),className:"p-2 pl-10 border border-gray-300 rounded-full"}),a.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),a.jsxs(Z,{variant:"outline",className:"flex items-center gap-2 hover:bg-primary hover:text-white transition-colors",onClick:()=>{v({...s,cofounderRole:"",ideaDescription:"",responsibilities:"",idealCandidate:""}),x(!0)},children:[a.jsx(td,{className:"h-4 w-4"}),"Post Idea"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-8",children:a.jsxs("div",{className:"space-y-6",children:[U==="developers"&&a.jsxs(Ht,{className:"lg:col-span-1 border-none shadow-xl bg-gray-100 duration-300 dark:bg-gradient-to-r dark:from-gray-900 dark:to-gray-800 dark:border-b dark:border-blue-400 dark:shadow-blue-500/80",children:[a.jsx(Kt,{className:"border-b border-gray-100 dark:border-gray-700",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent flex items-center gap-2 dark:from-green-500 dark:to-blue-500",children:[a.jsx(nv,{className:"text-primary dark:text-gray-300"}),"Developer Applications"]}),a.jsx("div",{className:"flex gap-2",children:["all","pending","accepted","rejected"].map(L=>a.jsxs(Z,{variant:n===L?"default":"outline",size:"sm",onClick:()=>r(L),className:`capitalize ${n===L?"bg-primary hover:bg-primary/90 dark:bg-blue-600":"hover:bg-gray-300 hover:text-gray-800 dark:hover:bg-gray-700 dark:hover:text-gray-200"}`,children:[L,n===L&&a.jsx("span",{className:"ml-2 bg-white/20 px-1.5 py-0.5 rounded-full text-xs",children:L==="all"?U==="developers"?V.length:_.length:U==="developers"?Q.length:xe.length})]},L))})]})}),a.jsx(Gt,{className:"p-5",children:a.jsxs("div",{className:"space-y-4",children:[Q.map(L=>a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-3 sm:p-4 rounded-lg shadow-xl border border-gray-100 hover:border-primary/50 transition-all duration-300 dark:bg-gray-800 dark:border-gray-700 dark:hover:border-blue-500",layout:!0,children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:L.photoURL||"https://via.placeholder.com/40",alt:L.name,className:"w-12 h-12 rounded-full object-cover border-2 border-primary/20"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100",children:L.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Experience: ",L.experience," years"]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[L.skills.slice(0,4).map((K,ie)=>a.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium dark:bg-blue-400/10 dark:text-blue-400",children:K},ie)),L.skills.length>4&&a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium dark:bg-gray-700 dark:text-gray-300",children:["+",L.skills.length-4," more"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 pt-2 border-t border-gray-100 dark:border-gray-700",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Applied on ",L.appliedDate]}),a.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto justify-end",children:[a.jsx(Z,{variant:"outline",size:"sm",className:"bg-primary hover:bg-primary/90 text-xs px-3 py-2 h-auto text-gray-100 dark:bg-gradient-to-r dark:from-blue-500 dark:to-blue-700 dark:hover:bg-gradient-to-r dark:hover:from-blue-700 dark:hover:to-blue-500 dark:text-gray-200",onClick:()=>an(L),children:"View Profile"}),L.status==="pending"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Z,{variant:"default",size:"sm",className:"text-xs px-3 py-1 h-auto",onClick:()=>Ns(L.id,"accepted"),disabled:b,children:"Accept"}),a.jsx(Z,{variant:"destructive",size:"sm",className:"text-xs px-3 py-1 h-auto",onClick:()=>Ns(L.id,"rejected"),disabled:b,children:"Reject"})]})]})]})]})},L.id)),Q.length===0&&a.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white p-8 rounded-lg shadow-xl text-center border border-gray-100 dark:bg-gray-800 dark:border-gray-700 ",children:a.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["No candidates found in ",n," status."]})})]})})]}),U==="investors"&&a.jsxs(Ht,{className:"lg:col-span-1 border-none shadow-xl bg-gray-100 duration-300 dark:bg-gradient-to-r dark:from-gray-900 dark:to-gray-800 dark:border-b dark:border-blue-400 dark:shadow-blue-500/80",children:[a.jsx(Kt,{className:"border-b border-gray-100 dark:border-gray-700",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent flex items-center gap-2 dark:from-green-500 dark:to-blue-500",children:[a.jsx(nv,{className:"text-primary dark:text-gray-300"}),"Investor Applications"]}),a.jsx("div",{className:"flex gap-2",children:["all","pending","accepted","rejected"].map(L=>a.jsxs(Z,{variant:n===L?"default":"outline",size:"sm",onClick:()=>r(L),className:`capitalize ${n===L?"bg-primary hover:bg-primary/90 dark:bg-blue-600":"hover:bg-gray-300 hover:text-gray-800 dark:hover:bg-gray-700 dark:hover:text-gray-200"}`,children:[L,n===L&&a.jsx("span",{className:"ml-2 bg-white/20 px-1.5 py-0.5 rounded-full text-xs",children:L==="all"?U==="investors"?_.length:V.length:U==="investors"?xe.length:Q.length})]},L))})]})}),a.jsx(Gt,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[xe.map(L=>a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-3 sm:p-4 rounded-lg shadow-xl border border-gray-100 hover:border-primary/50 transition-all duration-300 dark:bg-gray-800 dark:border-gray-700 dark:hover:border-blue-500",layout:!0,children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:L.photoURL||"https://via.placeholder.com/40",alt:L.name,className:"w-12 h-12 rounded-full object-cover border-2 border-primary/20"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100",children:L.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Net Worth: ",L.netWorth]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[L.investmentInterests.split(",").slice(0,3).map((K,ie)=>a.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium dark:bg-blue-400/10 dark:text-blue-400",children:K.trim()},ie)),L.investmentInterests.split(",").length>3&&a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium dark:bg-gray-700 dark:text-gray-300",children:["+",L.investmentInterests.split(",").length-3," more"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 pt-2 border-t border-gray-100 dark:border-gray-700",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Applied on ",L.appliedDate]}),a.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto justify-end",children:[a.jsx(Z,{variant:"outline",size:"sm",className:"bg-primary hover:bg-primary/90 text-xs px-3 py-2 h-auto text-gray-100 dark:bg-gradient-to-r dark:from-blue-500 dark:to-blue-700 dark:hover:bg-gradient-to-r dark:hover:from-blue-700 dark:hover:to-blue-500 dark:text-gray-200",onClick:()=>ot(L),children:"View Profile"}),L.status==="pending"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Z,{variant:"default",size:"sm",className:"text-xs px-3 py-1 h-auto",onClick:()=>En(L.id,"accepted"),disabled:b,children:"Accept"}),a.jsx(Z,{variant:"outline",size:"sm",className:"text-xs px-3 py-1 h-auto",onClick:()=>En(L.id,"rejected"),disabled:b,children:"Reject"})]})]})]})]})},L.id)),xe.length===0&&a.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white p-8 rounded-lg shadow-xl text-center border border-gray-100 dark:bg-gray-800 dark:border-gray-700 ",children:a.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["No candidates found in ",n," status."]})})]})})]})]})})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 rounded-lg bg-white dark:bg-gray-900 border-t border-gray-300 dark:border-gray-700 sm:hidden",children:a.jsxs("div",{className:"flex justify-around items-center py-2",children:[a.jsx("button",{onClick:()=>Wt(!dn),className:"text-gray-600 dark:text-gray-300",children:a.jsx(ds,{className:"h-7 w-7"})}),a.jsx("button",{onClick:Bi,className:"text-gray-600 dark:text-gray-300",children:a.jsx("img",{src:s.photoURL,alt:"Profile",className:"h-8 w-8 rounded-full"})})]})}),dn&&a.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-white dark:bg-transparent  sm:hidden",children:a.jsxs("div",{className:"relative w-full p-2",children:[a.jsx("input",{type:"text",placeholder:"Search...",value:q,onChange:L=>Y(L.target.value),className:"w-full p-2 pl-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:outline-none dark:focus:ring-2 dark:focus:ring-blue-400 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),a.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})})]}),Ve&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:$i}),a.jsx("div",{className:`fixed top-0 right-0 h-full w-[95%] max-w-md bg-white dark:bg-gray-800 shadow-xl z-50 overflow-y-auto modern-scrollbar transition-transform duration-300 ease-in-out transform ${pt?"translate-x-0":"translate-x-full"}`,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent dark:from-green-500 dark:to-blue-500",children:"Company Profile"}),a.jsx(Z,{variant:"ghost",size:"icon",onClick:$i,className:"rounded-full",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5 dark:text-white",children:[a.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col items-center py-6 gap-4 mb-4",children:[a.jsx("img",{src:s==null?void 0:s.photoURL,alt:"Profile",className:"h-24 w-24 rounded-full border-4 border-primary/30 dark:border-blue-400/30"}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-2xl font-bold dark:text-white",children:(s==null?void 0:s.name)||(s==null?void 0:s.companyName)||"Your Profile"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:s==null?void 0:s.email})]}),a.jsxs(Z,{variant:"outline",className:"flex items-center mt-2 justify-center w-full px-3 py-2 border-gray-300 dark:border-blue-400 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700 transition-all duration-300",onClick:()=>{f(s),d(!0)},children:[a.jsx(fh,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-gray-50/80 dark:bg-gray-700/30",children:[a.jsx(nd,{className:"text-primary text-xl mt-1 dark:text-blue-400 w-4 h-5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Company Details"}),a.jsx("p",{className:"text-gray-600 mt-1 dark:text-gray-300",children:s==null?void 0:s.companyName}),a.jsx("a",{href:s==null?void 0:s.companyWebsite,className:"text-primary hover:underline mt-1 block dark:text-blue-400",children:s==null?void 0:s.companyWebsite}),a.jsxs("p",{className:"text-gray-600 mt-1 dark:text-gray-300",children:["Size: ",s==null?void 0:s.companySize," employees"]}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Stage: ",s==null?void 0:s.fundingStage]})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-gray-50/80 dark:bg-gray-700/30",children:[a.jsx(El,{className:"text-primary text-xl mt-1 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Compensation"}),a.jsxs("p",{className:"text-gray-600 mt-1 dark:text-gray-300",children:["Equity: ",s==null?void 0:s.equityRange,"%"]}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Salary: $",s==null?void 0:s.salaryRange]})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-gray-50/80 dark:bg-gray-700/30",children:[a.jsx(Ql,{className:"text-primary text-xl mt-1 dark:text-blue-400 w-12 h-5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Role Requirements"}),a.jsx("p",{className:"text-gray-600 mt-1 dark:text-gray-300",children:s==null?void 0:s.roleDescription}),a.jsxs("p",{className:"text-gray-600 mt-2 dark:text-gray-300",children:["Experience: ",s==null?void 0:s.experienceRequired," years"]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s==null?void 0:s.techStack.split(",").map((L,K)=>a.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium dark:bg-blue-400/10 dark:text-blue-400",children:L},K))})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50/80 dark:bg-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"dark:text-white",children:[a.jsx("circle",{cx:"12",cy:"12",r:"4"}),a.jsx("path",{d:"M12 2v2"}),a.jsx("path",{d:"M12 20v2"}),a.jsx("path",{d:"M4.93 4.93l1.41 1.41"}),a.jsx("path",{d:"M17.66 17.66l1.41 1.41"}),a.jsx("path",{d:"M2 12h2"}),a.jsx("path",{d:"M20 12h2"}),a.jsx("path",{d:"M6.34 17.66l-1.41 1.41"}),a.jsx("path",{d:"M19.07 4.93l-1.41 1.41"})]}),a.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-200",children:"Appearance"})]}),a.jsxs("div",{onClick:Un,className:"w-12 h-6 flex items-center bg-gray-300 dark:bg-gray-600 rounded-full px-1 cursor-pointer relative",children:[a.jsxs("div",{className:"absolute left-1 right-0 flex justify-between items-center px-1 text-xs",children:[a.jsx("span",{className:"text-yellow-500",children:"☀️"}),a.jsx("span",{className:"text-indigo-300",children:"🌙"})]}),a.jsx("div",{className:`bg-white dark:bg-indigo-500 w-5 h-5 rounded-full shadow-md transform transition-transform duration-300 ${pe==="dark"?"translate-x-6":""}`})]})]})]})]})})]}),a.jsx(Cr,{open:u,onOpenChange:d,children:a.jsxs(Xn,{className:"max-w-3xl bg-white dark:bg-gray-800 ",children:[a.jsx(Jn,{children:a.jsx(Zn,{children:"Edit Company Profile"})}),a.jsxs("div",{className:"space-y-4 overflow-y-auto max-h-[70vh] modern-scrollbar p-1",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Company Name"}),a.jsx(oe,{value:h==null?void 0:h.companyName,onChange:L=>f(K=>K?{...K,companyName:L.target.value}:null)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Company Website"}),a.jsx(oe,{value:h==null?void 0:h.companyWebsite,onChange:L=>f(K=>K?{...K,companyWebsite:L.target.value}:null)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Company Size"}),a.jsx(oe,{value:h==null?void 0:h.companySize,onChange:L=>f(K=>K?{...K,companySize:L.target.value}:null)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Funding Stage"}),a.jsx(oe,{value:h==null?void 0:h.fundingStage,onChange:L=>f(K=>K?{...K,fundingStage:L.target.value}:null)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Equity Range (%)"}),a.jsx(oe,{value:h==null?void 0:h.equityRange,onChange:L=>f(K=>K?{...K,equityRange:L.target.value}:null)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Salary Range ($)"}),a.jsx(oe,{value:h==null?void 0:h.salaryRange,onChange:L=>f(K=>K?{...K,salaryRange:L.target.value}:null)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Role Description"}),a.jsx(er,{value:h==null?void 0:h.roleDescription,onChange:L=>f(K=>K?{...K,roleDescription:L.target.value}:null)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Tech Stack (comma-separated)"}),a.jsx(oe,{value:h==null?void 0:h.techStack,onChange:L=>f(K=>K?{...K,techStack:L.target.value}:null)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Experience Required (years)"}),a.jsx(oe,{value:h==null?void 0:h.experienceRequired,onChange:L=>f(K=>K?{...K,experienceRequired:L.target.value}:null)})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>d(!1),className:"bg-primary hover:bg-primary/90 text-gray-200 dark:bg-primary dark:hover:bg-gray-700",children:"Cancel"}),a.jsx(Z,{variant:"outline",onClick:ya,className:"bg-primary hover:bg-primary/90 text-gray-200 dark:bg-gradient-to-r dark:from-blue-500 dark:to-blue-700 dark:hover:bg-gradient-to-r dark:hover:from-blue-700 dark:hover:to-blue-500",children:"Save Changes"})]})]})]})}),a.jsx(Cr,{open:m,onOpenChange:x,children:a.jsxs(Xn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-gradient-to-b from-gray-50 to-white",children:[a.jsx(Jn,{children:a.jsx(Zn,{className:`w-full sm:w-auto text-xl px-12 py-8 rounded-xl text-white shadow-lg 
              bg-gradient-to-r from-primary to-blue-400 hover:from-primary/90 hover:to-blue-500
              transform transition-all duration-300 ease-in-out
              hover:scale-105 hover:shadow-xl
              active:scale-95 active:shadow-md
              backdrop-blur-sm`,children:"Post a New Idea"})}),a.jsxs("div",{className:"space-y-8 p-2",children:[a.jsxs(Ht,{className:"border-none shadow-lg bg-white",children:[a.jsx(Kt,{className:"border-b border-gray-100",children:a.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[a.jsx(nd,{className:"text-primary"}),"Company Details"]})}),a.jsxs(Gt,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Company Name"}),a.jsx(oe,{value:w==null?void 0:w.companyName,disabled:!0,className:"bg-gray-50/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Company Website"}),a.jsx(oe,{value:w==null?void 0:w.companyWebsite,disabled:!0,className:"bg-gray-50/50"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Company Size"}),a.jsx(oe,{value:w==null?void 0:w.companySize,disabled:!0,className:"bg-gray-50/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Funding Stage"}),a.jsx(oe,{value:w==null?void 0:w.fundingStage,disabled:!0,className:"bg-gray-50/50"})]})]})]})]}),a.jsxs(Ht,{className:"border-none shadow-lg bg-white",children:[a.jsx(Kt,{className:"border-b border-gray-100",children:a.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[a.jsx(El,{className:"text-primary"}),"Compensation"]})}),a.jsx(Gt,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Equity Range (%)"}),a.jsx(oe,{value:w==null?void 0:w.equityRange,disabled:!0,className:"bg-gray-50/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Salary Range ($)"}),a.jsx(oe,{value:w==null?void 0:w.salaryRange,disabled:!0,className:"bg-gray-50/50"})]})]})})]}),a.jsxs(Ht,{className:"border-none shadow-lg bg-white",children:[a.jsx(Kt,{className:"border-b border-gray-100",children:a.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[a.jsx(Ql,{className:"text-primary"}),"Idea Details"]})}),a.jsxs(Gt,{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Co-founder Role"}),a.jsx(oe,{value:w==null?void 0:w.cofounderRole,onChange:L=>v(K=>K?{...K,cofounderRole:L.target.value}:null),placeholder:"e.g., Technical Co-founder, Product Co-founder",className:"border-gray-200 focus:border-primary"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Detailed Idea Description"}),a.jsx(er,{value:w==null?void 0:w.ideaDescription,onChange:L=>v(K=>K?{...K,ideaDescription:L.target.value}:null),placeholder:"Describe your idea in detail...",className:"h-32 border-gray-200 focus:border-primary"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Key Responsibilities"}),a.jsx(er,{value:w==null?void 0:w.responsibilities,onChange:L=>v(K=>K?{...K,responsibilities:L.target.value}:null),placeholder:"List the key responsibilities...",className:"h-24 border-gray-200 focus:border-primary"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ideal Candidate Profile"}),a.jsx(er,{value:w==null?void 0:w.idealCandidate,onChange:L=>v(K=>K?{...K,idealCandidate:L.target.value}:null),placeholder:"Describe your ideal co-founder...",className:"h-24 border-gray-200 focus:border-primary"})]})]})]}),a.jsxs(Ht,{className:"border-none shadow-lg bg-white",children:[a.jsx(Kt,{className:"border-b border-gray-100",children:a.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[a.jsx(td,{className:"text-primary"}),"Technical Requirements"]})}),a.jsxs(Gt,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tech Stack"}),a.jsx(oe,{value:w==null?void 0:w.techStack,disabled:!0,className:"bg-gray-50/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Experience Required"}),a.jsx(oe,{value:w==null?void 0:w.experienceRequired,disabled:!0,className:"bg-gray-50/50"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(Z,{variant:"outline",onClick:()=>x(!1),disabled:b,className:"hover:bg-gray-100",children:"Cancel"}),a.jsx(Z,{onClick:Wi,disabled:b||!zi(w),className:"bg-primary hover:bg-primary/90 text-white px-6",children:b?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:"Posting..."}),a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]}):"Post Idea"})]})]})]})}),a.jsx(Cr,{open:j,onOpenChange:D,children:a.jsxs(Xn,{className:"max-w-2xl dark:bg-gray-800",children:[a.jsx(Jn,{children:a.jsx(Zn,{children:"Candidate Details"})}),A&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[A.photoURL&&a.jsx("img",{src:A.photoURL,alt:A.name,className:"w-16 h-16 rounded-full"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold",children:A.name}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:A.email}),A.whatsappNumber&&a.jsxs("p",{className:"text-gray-500 flex items-center space-x-2",children:[a.jsx(tv,{className:"text-green-500 text-lg"}),a.jsx("a",{href:`https://wa.me/${A.whatsappNumber.replace(/\+/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline flex items-center dark:text-blue-400",children:A.whatsappNumber})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Experience"}),a.jsx("p",{className:"dark:text-gray-300",children:A.experience})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Education"}),a.jsxs("p",{className:"dark:text-gray-300",children:[A.degree," at ",A.university]}),a.jsxs("p",{className:"dark:text-gray-300",children:["Class of ",A.graduationYear]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Skills"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:A.skills.map((L,K)=>a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm dark:bg-blue-400/10 dark:text-blue-400",children:L},K))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Cover Letter"}),a.jsx("p",{className:"whitespace-pre-wrap dark:text-gray-400",children:A.coverLetter})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Resume"}),a.jsx("p",{className:"whitespace-pre-wrap dark:text-gray-400",children:A.resume})]}),A.github&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"GitHub"}),a.jsx("a",{href:A.github,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline dark:text-blue-400",children:A.github})]}),A.status==="pending"&&a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx(Z,{variant:"default",onClick:()=>{Ns(A.id,"accepted"),D(!1)},disabled:b,children:"Accept Application"}),a.jsx(Z,{variant:"outline",onClick:()=>{Ns(A.id,"rejected"),D(!1)},disabled:b,children:"Reject Application"})]})]})]})}),a.jsx(Cr,{open:P,onOpenChange:k,children:a.jsxs(Xn,{className:"max-w-2xl",children:[a.jsx(Jn,{children:a.jsx(Zn,{children:"Investor Details"})}),C&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[C.photoURL&&a.jsx("img",{src:C.photoURL,alt:C.name,className:"w-16 h-16 rounded-full"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold",children:C.name}),a.jsx("p",{className:"text-gray-500",children:C.email}),C.whatsappNumber&&a.jsxs("p",{className:"text-gray-500 flex items-center space-x-2",children:[a.jsx(tv,{className:"text-green-500 text-lg"}),a.jsx("a",{href:`https://wa.me/${C.whatsappNumber.replace(/\+/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline flex items-center",children:C.whatsappNumber})]})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Net Worth"}),a.jsx("p",{children:C.netWorth})]})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Investment Interests"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:C.investmentInterests.split(",").map((L,K)=>a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:L},K))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Past Investments"}),a.jsx("p",{className:"whitespace-pre-wrap",children:C.pastInvestments})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Cover Letter"}),a.jsx("p",{className:"whitespace-pre-wrap",children:C.coverLetter})]}),C.status==="pending"&&a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx(Z,{variant:"outline",onClick:()=>{En(C.id,"accepted"),k(!1)},disabled:b,children:"Accept Application"}),a.jsx(Z,{variant:"outline",onClick:()=>{En(C.id,"rejected"),k(!1)},disabled:b,children:"Reject Application"})]})]})]})})]})},TL=async()=>{try{console.log("Fetching active ideas...");const t=jr(Dr,"ideas");console.log("Collection reference:",t.path);const e=await Fo(t);console.log("Total ideas in collection:",e.size),e.forEach(r=>{console.log("Found idea:",{id:r.id,data:r.data()})});const n=e.docs.filter(r=>{const s=r.data();return console.log("Checking idea status:",r.id,s.status),s.status==="active"}).map(r=>{const s=r.data();return{id:r.id,...s,createdAt:s.createdAt||s.updatedAt||new Date().toISOString(),updatedAt:s.updatedAt||new Date().toISOString()}});return console.log("Filtered active ideas:",n.length),console.log("Active ideas data:",n),n}catch(t){throw console.error("Error fetching ideas:",t),t}},EL=async t=>{try{const n=ji().currentUser;if(!n)return{success:!1,error:"You must be signed in to submit an application"};const r=tt(Dr,"developers",n.uid);if(!(await nn(r)).exists())throw new Error("Only developers can submit applications");const i=tt(Dr,"ideas",t.ideaId),o=await nn(i);if(!o.exists())return{success:!1,error:"Job posting not found"};const l=o.data(),u=jr(Dr,"applications");return await cf(u,{developerId:n.uid,recruiterId:l.recruiterId,ideaId:t.ideaId,coverLetter:t.coverLetter,resume:t.resume,whatsappNumber:t.whatsappNumber,status:"pending",createdAt:Uo()}),{success:!0}}catch(e){return console.error("Error submitting application:",e),{success:!1,error:e instanceof Error?e.message:"Failed to submit application"}}},AL=()=>{var k;const t=As(),{toast:e}=Wr(),[n,r]=g.useState("all"),[s,i]=g.useState([]),[o,l]=g.useState(null),[u,d]=g.useState([]),[h,f]=g.useState(!0),[m,x]=g.useState(!1),[w,v]=g.useState(null),[b,E]=g.useState(null),[A,R]=g.useState({coverLetter:"",resume:"",whatsappNumber:""}),[j,D]=g.useState(!1);if(g.useEffect(()=>{(async()=>{var I;try{const U=gt(),G=(I=t.state)==null?void 0:I.uid;if(!G){e({title:"Error",description:"User ID not found. Please try logging in again.",variant:"destructive"});return}const q=tt(U,"developers",G),Y=await nn(q);Y.exists()&&l(Y.data()),f(!1)}catch(U){console.error("Error fetching data:",U),e({title:"Error",description:"Failed to load dashboard data. Please try again.",variant:"destructive"}),f(!1)}})()},[(k=t.state)==null?void 0:k.uid,e]),g.useEffect(()=>{(async()=>{try{console.log("Starting to fetch ideas...");const I=await TL();console.log("Received ideas data:",I);const U=I.map(G=>({...G,recruiterId:G.recruiterId||"",uid:G.uid||"",cofounderRole:G.cofounderRole||"",companyName:G.companyName||"",companySize:G.companySize||"",companyWebsite:G.companyWebsite||"",email:G.email||"",equityRange:G.equityRange||"",experienceRequired:G.experienceRequired||"",fundingStage:G.fundingStage||"",ideaDescription:G.ideaDescription||"",idealCandidate:G.idealCandidate||"",photoURL:G.photoURL||"",responsibilities:G.responsibilities||"",roleDescription:G.roleDescription||"",salaryRange:G.salaryRange||"",status:G.status||"",techStack:G.techStack||"",createdAt:G.createdAt,updatedAt:G.updatedAt,id:G.id}));d(U)}catch(I){console.error("Error fetching ideas:",I),e({title:"Error",description:"Failed to fetch ideas. Please try again.",variant:"destructive"})}})()},[e]),h||!o)return a.jsx(a.Fragment,{children:a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-12 px-4",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded"}),a.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})})})});const V=C=>{i(I=>I.includes(C)?I.filter(U=>U!==C):[...I,C])},N=u.filter(C=>n==="saved"?s.includes(C.id):!0),_=async()=>{var C;if(!(!w||!((C=t.state)!=null&&C.uid)))try{const I=gt(),U=tt(I,"developers",t.state.uid);await xo(U,{...w}),l(w),x(!1),e({title:"Success",description:"Profile updated successfully"})}catch(I){console.error("Error updating profile:",I),e({title:"Error",description:"Failed to update profile. Please try again.",variant:"destructive"})}},S=C=>C?C.split(",").map((I,U)=>a.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium",children:I.trim()},U)):null,P=async C=>{try{D(!0);const I=await EL({ideaId:C,coverLetter:A.coverLetter,resume:A.resume,whatsappNumber:A.whatsappNumber,developerId:t.state.uid,recruiterId:(b==null?void 0:b.recruiterId)||""});I.success?(e({title:"Success",description:"Application submitted successfully"}),E(null),R({coverLetter:"",resume:"",whatsappNumber:""})):e({title:"Error",description:I.error||"Failed to submit application",variant:"destructive"})}catch(I){console.error("Error submitting application:",I),e({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}finally{D(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-white dark:bg-gradient-to-b dark:from-[#0f0c29] dark:via-[#6b29e4] dark:to-[#24243e] text-black dark:text-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("div",{className:"flex justify-between items-center mb-8",children:a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent dark:from-red-300 dark:to-blue-500",children:"Developer Dashboard"})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs(Ht,{className:"lg:col-span-1 border-none shadow-xl bg-white",children:[a.jsx(Kt,{className:"border-b border-gray-100",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:"Developer Profile"}),a.jsx(Z,{variant:"ghost",size:"icon",className:"hover:bg-primary",onClick:()=>{v(o),x(!0)},children:a.jsx(fh,{className:"h-4 w-4"})})]})}),a.jsx(Gt,{className:"p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[o.firstName," ",o.lastName]}),a.jsx("p",{className:"text-gray-600",children:o.email}),a.jsxs("p",{className:"text-gray-600",children:["Experience: ",o.experience]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Skills"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.skills.split(",").map((C,I)=>a.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium",children:C.trim()},I))})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-gray-50/80",children:[a.jsx(CT,{className:"text-primary text-xl mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Education"}),a.jsx("p",{className:"text-gray-600 mt-1",children:o.university}),a.jsx("p",{className:"text-gray-600",children:o.degree}),a.jsxs("p",{className:"text-gray-600",children:["Class of ",o.graduationYear]})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-gray-50/80",children:[a.jsx(ST,{className:"text-primary text-xl mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"GitHub Profile"}),a.jsx("a",{href:o.github,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline mt-1 block",children:o.github})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"About"}),a.jsx("p",{className:"text-gray-600",children:o.bio})]})]})})]}),a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs(Ht,{className:"border-none shadow-xl bg-white",children:[a.jsx(Kt,{className:"border-b border-gray-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent flex items-center gap-2",children:[a.jsx(rL,{className:"text-primary"}),"Startup Ideas"]}),a.jsx("div",{className:"flex gap-2",children:["all","saved","applied"].map(C=>a.jsxs(Z,{variant:n===C?"default":"outline",size:"sm",onClick:()=>r(C),className:`capitalize ${n===C?"bg-primary hover:bg-primary/90":"hover:bg-gray-100"}`,children:[C,n===C&&a.jsx("span",{className:"ml-2 bg-white/20 px-1.5 py-0.5 rounded-full text-xs",children:N.length})]},C))})]})}),a.jsx(Gt,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[N.map(C=>a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-lg shadow-xl border border-gray-100 hover:border-primary/50 transition-all",children:a.jsxs("div",{className:"flex flex-col space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:C.cofounderRole}),a.jsx("p",{className:"text-gray-600 mt-1",children:C.companyName})]}),a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>V(C.id),className:"hover:bg-primary/10",children:s.includes(C.id)?a.jsx(ed,{className:"h-5 w-5 text-primary"}):a.jsx(U0,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600",children:[a.jsxs("span",{children:[C.experienceRequired," years exp"]}),a.jsx("span",{children:"•"}),a.jsx("span",{children:C.fundingStage}),C.salaryRange&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"•"}),a.jsxs("span",{children:["$",C.salaryRange,"k"]})]}),C.equityRange&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"•"}),a.jsxs("span",{children:[C.equityRange,"% equity"]})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:S(C.techStack)}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Idea Description"}),a.jsx("p",{className:"text-gray-600",children:C.ideaDescription})]}),C.roleDescription&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Role Description"}),a.jsx("p",{className:"text-gray-600",children:C.roleDescription})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:C.photoURL,alt:"Recruiter",className:"w-8 h-8 rounded-full"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["Posted by ",C.email]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(Z,{className:"bg-primary hover:bg-primary/90",onClick:()=>E(C),children:"Apply Now"})})]})]})},C.id)),N.length===0&&a.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white p-8 rounded-lg shadow-xl text-center border border-gray-100",children:a.jsxs("p",{className:"text-gray-500",children:["No ideas found in ",n," category."]})})]})})]})})]})]})}),a.jsx(Cr,{open:m,onOpenChange:x,children:a.jsxs(Xn,{className:"max-w-md",children:[a.jsx(Jn,{children:a.jsx(Zn,{children:"Edit Profile"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"First Name"}),a.jsx(oe,{value:w==null?void 0:w.firstName,onChange:C=>v(I=>I?{...I,firstName:C.target.value}:null)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Last Name"}),a.jsx(oe,{value:w==null?void 0:w.lastName,onChange:C=>v(I=>I?{...I,lastName:C.target.value}:null)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Experience"}),a.jsx(oe,{value:w==null?void 0:w.experience,onChange:C=>v(I=>I?{...I,experience:C.target.value}:null)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Skills (comma-separated)"}),a.jsx(oe,{value:w==null?void 0:w.skills,onChange:C=>v(I=>I?{...I,skills:C.target.value}:null)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"GitHub URL"}),a.jsx(oe,{value:w==null?void 0:w.github,onChange:C=>v(I=>I?{...I,github:C.target.value}:null)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Bio"}),a.jsx(er,{value:w==null?void 0:w.bio,onChange:C=>v(I=>I?{...I,bio:C.target.value}:null)})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),a.jsx(Z,{onClick:_,children:"Save Changes"})]})]})]})}),b&&a.jsx(Cr,{open:!!b,onOpenChange:()=>E(null),children:a.jsxs(Xn,{className:"max-w-3xl",children:[a.jsx(Jn,{children:a.jsxs(Zn,{children:["Apply for ",b.companyName]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Cover Letter"}),a.jsx(er,{value:A.coverLetter,onChange:C=>R(I=>({...I,coverLetter:C.target.value})),placeholder:"Write a brief cover letter explaining why you're interested in this opportunity...",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Resume Link"}),a.jsx(oe,{value:A.resume,onChange:C=>R(I=>({...I,resume:C.target.value})),placeholder:"Paste your resume link here...",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"WhatsApp Number"}),a.jsx(oe,{value:A.whatsappNumber,onChange:C=>R(I=>({...I,whatsappNumber:C.target.value})),placeholder:"Enter your WhatsApp number with country code (e.g., +91XXXXXXXXXX)",className:"mt-1"})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>E(null),children:"Cancel"}),a.jsx(Z,{onClick:()=>P(b.id),disabled:j||!A.coverLetter||!A.resume||!A.whatsappNumber,children:j?"Submitting...":"Submit Application"})]})]})]})})]})},IL=async()=>{try{const t=gt(),e=jr(t,"investmentOpportunities");return(await Fo(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(t){throw console.error("Error fetching investment opportunities:",t),t}},SL=async t=>{try{const e=gt(),n=tt(e,"portfolios",t),r=await nn(n);if(!r.exists())throw new Error("Portfolio not found");return r.data()}catch(e){throw console.error("Error fetching portfolio performance:",e),e}},CL=async t=>{try{const n=ji().currentUser;if(!n)return{success:!1,error:"You must be signed in to submit an investment interest"};const r=tt(Dr,"investors",n.uid);if(!(await nn(r)).exists())throw new Error("Only investors can submit investment interests");const i=tt(Dr,"ideas",t.ideaId),o=await nn(i);if(!o.exists())return{success:!1,error:"Investment opportunity not found"};const l=o.data(),u=jr(Dr,"investmentInterests");return await cf(u,{investorId:n.uid,recruiterId:l.recruiterId,ideaId:t.ideaId,opportunityId:t.opportunityId,coverLetter:t.coverLetter,whatsappNumber:t.whatsappNumber,status:"pending",createdAt:Uo(),updatedAt:Uo()}),{success:!0}}catch(e){return console.error("Error submitting investment interest:",e),{success:!1,error:e instanceof Error?e.message:"Failed to submit investment interest"}}},NL=async()=>{try{console.log("Fetching active ideas...");const t=jr(Dr,"ideas");console.log("Collection reference:",t.path);const e=await Fo(t);console.log("Total ideas in collection:",e.size),e.forEach(r=>{console.log("Found idea:",{id:r.id,data:r.data()})});const n=e.docs.filter(r=>{const s=r.data();return console.log("Checking idea status:",r.id,s.status),s.status==="active"}).map(r=>{const s=r.data();return{id:r.id,...s,createdAt:s.createdAt||s.updatedAt||new Date().toISOString(),updatedAt:s.updatedAt||new Date().toISOString()}});return console.log("Filtered active ideas:",n.length),console.log("Active ideas data:",n),n}catch(t){throw console.error("Error fetching ideas:",t),t}},RL=()=>{var At;const t=As(),{toast:e}=Wr(),[n,r]=g.useState("all"),[s,i]=g.useState(null),[o,l]=g.useState(!1),[u,d]=g.useState([]),[h,f]=g.useState([]),[m,x]=g.useState(null),[w,v]=g.useState(null),[b,E]=g.useState([]);g.useState([]);const[A,R]=g.useState(null),[j,D]=g.useState(!0),[V,N]=g.useState(!1),[_,S]=g.useState(!1),[P,k]=g.useState(""),[C,I]=g.useState(!1),[U,G]=g.useState("newest"),[q,Y]=g.useState("all"),[Q,se]=g.useState(!1),[xe,Pe]=g.useState(!1),[Me,Ie]=g.useState(NT()),[ye,nt]=g.useState({}),[He,ee]=g.useState({coverLetter:"",whatsappNumber:""}),Ce=()=>{const F=RT();Ie(F)};g.useEffect(()=>{const F=document.documentElement.classList.contains("dark");Ie(F?"dark":"light")},[]);const Ke=F=>{nt(W=>{var Ve,de;return{...W,[F]:{description:!(((Ve=W[F])==null?void 0:Ve.description)??!1),role:((de=W[F])==null?void 0:de.role)??!1}}})},be=F=>{nt(W=>{var Ve,de;return{...W,[F]:{description:((Ve=W[F])==null?void 0:Ve.description)??!1,role:!(((de=W[F])==null?void 0:de.role)??!1)}}})};if(g.useEffect(()=>{(async()=>{var W;try{const Ve=gt(),de=(W=t.state)==null?void 0:W.uid;if(!de){e({title:"Error",description:"User ID not found. Please try logging in again.",variant:"destructive"});return}const dn=tt(Ve,"investors",de),Wt=await nn(dn);Wt.exists()&&i(Wt.data());const an=await IL();E(an);const yt=await SL(de);R(yt),D(!1)}catch(Ve){console.error("Error fetching data:",Ve),e({title:"Error",description:"Failed to load dashboard data. Please try again.",variant:"destructive"}),D(!1)}})()},[(At=t.state)==null?void 0:At.uid,e]),g.useEffect(()=>{(async()=>{try{console.log("Starting to fetch ideas...");const W=await NL();console.log("Received ideas data:",W);const Ve=W.map(de=>({...de,id:de.id,recruiterId:de.recruiterId||"",uid:de.uid||"",cofounderRole:de.cofounderRole||"",companyName:de.companyName||"",companySize:de.companySize||"",companyWebsite:de.companyWebsite||"",email:de.email||"",equityRange:de.equityRange||"",experienceRequired:de.experienceRequired||"",fundingStage:de.fundingStage||"",ideaDescription:de.ideaDescription||"",idealCandidate:de.idealCandidate||"",photoURL:de.photoURL||"",responsibilities:de.responsibilities||"",roleDescription:de.roleDescription||"",salaryRange:de.salaryRange||"",status:de.status||"",techStack:de.techStack||"",createdAt:de.createdAt,updatedAt:de.updatedAt}));d(Ve)}catch(W){console.error("Error fetching ideas:",W),e({title:"Error",description:"Failed to fetch ideas. Please try again.",variant:"destructive"})}})()},[e]),j||!s)return a.jsx(a.Fragment,{children:a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-12 px-4 mt-10 dark:bg-gradient-to-b dark:from-[#0f0c29] dark:via-[#6b29e4] dark:to-[#24243e] text-black dark:text-white",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/4"}),a.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"}),a.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]})})})});const ge=F=>{f(W=>W.includes(F)?W.filter(Ve=>Ve!==F):[...W,F])},pe=u.filter(F=>{if(n==="saved")return h.includes(F.id);if(P){const W=P.toLowerCase();return F.cofounderRole.toLowerCase().includes(W)||F.companyName.toLowerCase().includes(W)||F.email.toLowerCase().includes(W)||F.ideaDescription.toLowerCase().includes(W)}return!0}).filter(F=>{if(q==="all")return!0;const W=parseFloat(F.equityRange.replace("%",""));return q==="below1"?W<1:q==="1to5"?W>=1&&W<=5:q==="5to10"?W>=5&&W<=10:q==="above10"?W>10:!0}).sort((F,W)=>U==="newest"?new Date(W.createdAt).getTime()-new Date(F.createdAt).getTime():U==="oldest"?new Date(F.createdAt).getTime()-new Date(W.createdAt).getTime():0),Xe=async()=>{var F;if(!(!m||!((F=t.state)!=null&&F.uid)))try{const W=gt(),Ve=tt(W,"investors",t.state.uid);await xo(Ve,{...m}),i(m),l(!1),e({title:"Success",description:"Profile updated successfully"})}catch(W){console.error("Error updating profile:",W),e({title:"Error",description:"Failed to update profile. Please try again.",variant:"destructive"})}},pt=F=>F?F.split(",").map((W,Ve)=>a.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium dark:bg-primary/70 dark:text-gray-200",children:W.trim()},Ve)):null,zt=async F=>{try{N(!0);const W=await CL({ideaId:F,opportunityId:F,investorId:t.state.uid,coverLetter:He.coverLetter,whatsappNumber:He.whatsappNumber,recruiterId:(w==null?void 0:w.recruiterId)||""});W.success?(e({title:"Success",description:"Application submitted successfully"}),v(null),ee({coverLetter:"",whatsappNumber:""})):e({title:"Error",description:W.error||"Failed to submit application",variant:"destructive"})}catch(W){console.error("Error submitting application:",W),e({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}finally{N(!1)}},ht=({activeTab:F,setActiveTab:W,setIsProfileOpen:Ve,isSideMenuOpen:de,setIsSideMenuOpen:dn,isFilterOpen:Wt,setIsFilterOpen:an})=>a.jsxs(a.Fragment,{children:[a.jsx("style",{jsx:!0,children:`
            .modern-scrollbar::-webkit-scrollbar {
              width: 4px;
            }
            .modern-scrollbar::-webkit-scrollbar-track {
              background: transparent;
            }
            .modern-scrollbar::-webkit-scrollbar-thumb {
              background-color: transparent;
              border-radius: 20px;
              transition: background-color 0.3s ease;
            }
            .modern-scrollbar:hover::-webkit-scrollbar-thumb {
              background-color: rgba(156, 163, 175, 0.5);
            }
            .modern-scrollbar::-webkit-scrollbar-thumb:hover {
              background-color: rgba(107, 114, 128, 0.7);
            }
            .dark .modern-scrollbar:hover::-webkit-scrollbar-thumb {
              background-color: rgba(99, 102, 241, 0.5);
            }
            .dark .modern-scrollbar::-webkit-scrollbar-thumb:hover {
              background-color: rgba(99, 102, 241, 0.7);
            }
          `}),a.jsx("div",{className:`fixed top-16 left-0 h-[calc(100vh-4rem)] w-64 bg-white border border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-lg z-50 transform transition-transform ${de?"translate-x-0":"-translate-x-full"} sm:translate-x-0 overflow-hidden`,children:a.jsx("div",{className:"h-full overflow-y-auto modern-scrollbar",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent dark:from-green-500 dark:to-blue-500",children:"Menu"}),a.jsx("button",{onClick:()=>dn(!1),className:"text-gray-600 dark:text-gray-300 sm:hidden",children:a.jsx(hh,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsx("div",{className:"flex flex-col space-y-2",children:[{id:"all",icon:a.jsx($0,{className:"h-4 w-4 mr-2"})},{id:"saved",icon:a.jsx(ed,{className:"h-4 w-4 mr-2"})},{id:"applied",icon:a.jsx(TS,{className:"h-4 w-4 mr-2"})}].map(yt=>a.jsxs(Z,{variant:F===yt.id?"default":"outline",size:"sm",onClick:()=>W(yt.id),className:`flex items-center justify-start px-3 py-2 capitalize transition-all duration-300 ${F===yt.id?"bg-primary hover:bg-primary/90 dark:bg-blue-600 shadow-md":"hover:bg-gray-100 text-gray-700 hover:text-gray-800 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center",children:[yt.icon,a.jsx("span",{children:yt.id})]}),F===yt.id&&a.jsx("span",{className:"ml-auto bg-white/20 px-1.5 py-0.5 rounded-full text-xs",children:pe.length})]},yt.id))}),a.jsxs("div",{className:"relative",children:[a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>an(!Wt),className:"flex items-center justify-start w-full px-3 py-2 border-gray-300 dark:border-blue-400 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700 transition-all duration-300",children:[a.jsx(B0,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:"Filter"})]}),Wt&&a.jsxs("div",{className:"mt-2 w-full bg-white dark:bg-gray-800 border rounded-md shadow-lg py-2",children:[a.jsx("div",{className:"px-4 py-2 text-sm font-semibold text-gray-500 dark:text-gray-200",children:"Sort By"}),a.jsxs("div",{className:"px-4 py-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"sortOption",value:"newest",checked:U==="newest",onChange:()=>G("newest"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"Newest"})]}),a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"radio",name:"sortOption",value:"oldest",checked:U==="oldest",onChange:()=>G("oldest"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"Oldest"})]})]}),a.jsx("div",{className:"px-4 py-2 text-sm font-semibold text-gray-500 dark:text-gray-200",children:"Equity Range"}),a.jsxs("div",{className:"px-4 py-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"equityRange",value:"all",checked:q==="all",onChange:()=>Y("all"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"All"})]}),a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"radio",name:"equityRange",value:"below1",checked:q==="below1",onChange:()=>Y("below1"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"Below 1%"})]}),a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"radio",name:"equityRange",value:"1to5",checked:q==="1to5",onChange:()=>Y("1to5"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"1-5%"})]}),a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"radio",name:"equityRange",value:"5to10",checked:q==="5to10",onChange:()=>Y("5to10"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"5-10%"})]}),a.jsxs("label",{className:"flex items-center mt-2",children:[a.jsx("input",{type:"radio",name:"equityRange",value:"above10",checked:q==="above10",onChange:()=>Y("above10"),className:"form-radio"}),a.jsx("span",{className:"ml-2 dark:text-gray-200",children:"Above 10%"})]})]})]})]})]})]})})})]});return a.jsxs(a.Fragment,{children:[a.jsx(Ri,{theme:Me,setIsSideMenuOpen:Pe,searchQuery:P,setSearchQuery:k,profileElement:a.jsx("button",{onClick:()=>S(!0),className:"flex items-center justify-center w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 transition-colors duration-200 ml-2",children:a.jsx("img",{src:s==null?void 0:s.photoURL,alt:"Profile",className:"h-10 w-10 rounded-full border-2 border-gray-300 dark:border-blue-400"})})}),a.jsx(ht,{activeTab:n,setActiveTab:r,setIsProfileOpen:S,isSideMenuOpen:xe,setIsSideMenuOpen:Pe,isFilterOpen:C,setIsFilterOpen:I}),xe&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 sm:hidden",onClick:()=>Pe(!1)}),a.jsxs(Te.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen h-[calc(100vh-16rem)] overflow-y-auto modern-scrollbar bg-white transition-all duration-300 dark:bg-gray-900 text-black dark:text-white sm:ml-64",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 mt-10",children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent dark:from-red-300 dark:to-blue-500",children:"Investor Dashboard"}),a.jsx("div",{className:" hidden flex-col sm:flex-row items-center gap-4 mt-4 sm:mt-0 w-full sm:w-auto",children:a.jsxs("div",{className:"relative w-full sm:w-auto flex-grow",children:[a.jsx("input",{type:"text",placeholder:"Search...",value:P,onChange:F=>k(F.target.value),className:"w-full p-2 pl-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-2 dark:focus:ring-blue-400 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),a.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 ",children:a.jsx("div",{className:"lg:col-span-3 space-y-6",children:a.jsxs(Ht,{className:"lg:col-span-1 border-none shadow-xl bg-gray-100 duration-300 dark:bg-gradient-to-r dark:from-gray-900 dark:to-gray-800 dark:border-b dark:border-blue-400 dark:shadow-blue-500/80",children:[a.jsx(Kt,{className:"border-b border-gray-100 dark:border-gray-700",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent transition-all duration-300 dark:from-green-500 dark:to-blue-500",children:"Investment Opportunities"}),a.jsx("div",{className:"flex gap-2",children:["all","saved","applied"].map(F=>a.jsxs(Z,{variant:n===F?"default":"outline",size:"sm",onClick:()=>r(F),className:`capitalize ${n===F?"bg-primary hover:bg-primary/90 dark:bg-blue-600":"hover:bg-gray-300 hover:text-gray-800 dark:hover:bg-gray-700 dark:hover:text-gray-200"}`,children:[F,n===F&&a.jsx("span",{className:"ml-2 bg-white/20 px-1.5 py-0.5 rounded-full text-xs",children:pe.length})]},F))})]})}),a.jsx(Gt,{className:"p-5 ",children:a.jsxs("div",{className:"space-y-4",children:[pe.map(F=>{var W,Ve,de,dn,Wt,an,yt,rt,ot,Un;return a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-3 rounded-lg shadow-xl border border-gray-100 hover:border-primary/50 transition-all duration-300 dark:bg-gray-800 dark:border-gray-700 dark:hover:border-blue-500",layout:!0,children:a.jsxs("div",{className:"flex flex-col space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:F.cofounderRole}),a.jsx("p",{className:"text-gray-600 mt-1 dark:text-gray-300",children:F.companyName})]}),a.jsx(Z,{variant:"outline",size:"icon",onClick:()=>ge(F.id),className:"duration-300 hover:bg-gray-300",children:h.includes(F.id)?a.jsx(ed,{className:"h-5 w-5 text-primary dark:text-blue-400"}):a.jsx(U0,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600 dark:text-gray-200",children:[a.jsxs("span",{children:[F.experienceRequired," years exp"]}),a.jsx("span",{children:"•"}),a.jsx("span",{children:F.fundingStage}),F.salaryRange&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"•"}),a.jsxs("span",{children:["$",F.salaryRange,"k"]})]}),F.equityRange&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"•"}),a.jsxs("span",{children:[F.equityRange,"% equity"]})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:pt(F.techStack)}),a.jsxs("div",{className:"my-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2 dark:text-gray-100",children:"Idea Description"}),a.jsx(Te.div,{initial:!1,animate:{height:(W=ye[F.id])!=null&&W.description?"auto":"50px"},className:"relative overflow-hidden",transition:{duration:.4,ease:[.4,0,.2,1]},children:a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-line break-words",children:[F.ideaDescription,!((Ve=ye[F.id])!=null&&Ve.description)&&F.ideaDescription.length>150&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-10 bg-gradient-to-t from-white dark:from-gray-800 to-transparent pointer-events-none"})]})}),F.ideaDescription.length>150&&a.jsxs(Z,{variant:"link",className:"text-primary dark:text-blue-400 p-0 h-auto mt-1 flex items-center gap-1 transition-transform duration-300",onClick:()=>Ke(F.id),children:[a.jsx("span",{children:(de=ye[F.id])!=null&&de.description?"See less":"See more"}),a.jsx(Te.span,{animate:{rotate:(dn=ye[F.id])!=null&&dn.description?180:0},transition:{duration:.3},children:(Wt=ye[F.id])!=null&&Wt.description?"↑":"↓"})]})]}),F.roleDescription&&a.jsxs("div",{className:"my-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2 dark:text-gray-100",children:"Role Description"}),a.jsx(Te.div,{initial:!1,animate:{height:(an=ye[F.id])!=null&&an.role?"auto":"50px"},className:"relative overflow-hidden",transition:{duration:.4,ease:[.4,0,.2,1]},children:a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-line break-words",children:[F.roleDescription,!((yt=ye[F.id])!=null&&yt.role)&&F.roleDescription.length>150&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-10 bg-gradient-to-t from-white dark:from-gray-800 to-transparent pointer-events-none"})]})}),F.roleDescription.length>150&&a.jsxs(Z,{variant:"link",className:"text-primary dark:text-blue-400 p-0 h-auto mt-1 flex items-center gap-1",onClick:()=>be(F.id),children:[a.jsx("span",{children:(rt=ye[F.id])!=null&&rt.role?"See more":"See less"}),a.jsx(Te.span,{animate:{rotate:(ot=ye[F.id])!=null&&ot.role?180:0},transition:{duration:.3},children:(Un=ye[F.id])!=null&&Un.role?"↑":"↓"})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:F.photoURL,alt:"Recruiter",className:"w-8 h-8 rounded-full"}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-300",children:["Posted by ",F.email]})]}),a.jsx("div",{className:"flex justify-between items-start",children:a.jsx(Z,{className:"bg-primary hover:bg-primary/90 dark:bg-gradient-to-r dark:from-blue-500 dark:to-blue-700 dark:hover:bg-gradient-to-r dark:hover:from-blue-700 dark:hover:to-blue-500",onClick:()=>v(F),children:n==="applied"?"Re-Apply Now":"Apply Now"})})]})]})},F.id)}),pe.length===0&&a.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white p-8 rounded-lg shadow-xl text-center border border-gray-100 dark:bg-gray-800 dark:border-gray-700",children:a.jsxs("p",{className:"text-gray-500 dark:text-gray-300",children:["No ideas found in ",n," category."]})})]})})]})})})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-300 dark:border-gray-700 sm:hidden",children:a.jsxs("div",{className:"flex justify-around items-center py-2",children:[a.jsx("button",{onClick:()=>se(!Q),className:"text-gray-600 dark:text-gray-300",children:a.jsx(ds,{className:"h-6 w-6"})}),a.jsx("button",{onClick:()=>S(!0),className:"text-gray-600 dark:text-gray-300",children:a.jsx("img",{src:s.photoURL,alt:"Profile",className:"h-6 w-6 rounded-full"})})]})}),Q&&a.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-white dark:bg-transparent  sm:hidden",children:a.jsxs("div",{className:"relative w-full p-2",children:[a.jsx("input",{type:"text",placeholder:"Search...",value:P,onChange:F=>k(F.target.value),className:"w-full p-2 pl-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:outline-none dark:focus:ring-2 dark:focus:ring-blue-400 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),a.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})})]}),_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>S(!1)}),a.jsx("div",{className:`fixed top-0 right-0 w-80 h-full w-[95%] max-w-md bg-white dark:bg-gray-800 shadow-lg overflow-y-auto modern-scrollbar transform transition-transform duration-300 ease-in-out z-50 ${_?"translate-x-0":"translate-x-full"}`,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent dark:from-green-500 dark:to-blue-500",children:"Investor Profile"}),a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>S(!1),className:"rounded-full",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5 dark:text-white",children:[a.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col items-center py-6 gap-4 mb-4",children:[a.jsx("img",{src:s==null?void 0:s.photoURL,alt:"Profile",className:"h-24 w-24 rounded-full border-4 border-primary/30 dark:border-blue-400/30"}),a.jsxs("div",{className:"text-center",children:[a.jsxs("h3",{className:"text-2xl font-bold dark:text-white",children:[s==null?void 0:s.firstName," ",s==null?void 0:s.lastName]}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:s==null?void 0:s.email})]}),a.jsxs(Z,{variant:"outline",className:"flex items-center mt-2 justify-center w-full px-3 py-2 border-gray-300 dark:border-blue-400 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700 transition-all duration-300",onClick:()=>{x(s),l(!0)},children:[a.jsx(fh,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),a.jsx("div",{className:"space-y-2",children:a.jsxs("p",{className:"text-gray-900 ml-3 text-lg dark:text-gray-400",children:["Net Worth: $",s.netWorth]})}),a.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-gray-50/80 dark:bg-gray-700",children:[a.jsx(Ql,{className:"h-5 w-5 dark:text-white"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-200",children:"Past Investments"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:s.pastInvestments})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-gray-50/80 dark:bg-gray-700",children:[a.jsx(El,{className:"h-5 w-5 dark:text-white"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-200",children:"Investment Interests"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.investmentInterests.split(",").map((F,W)=>a.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium dark:bg-blue-400/10 dark:text-blue-400",children:F.trim()},W))})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50/80 dark:bg-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"dark:text-white",children:[a.jsx("circle",{cx:"12",cy:"12",r:"4"}),a.jsx("path",{d:"M12 2v2"}),a.jsx("path",{d:"M12 20v2"}),a.jsx("path",{d:"M4.93 4.93l1.41 1.41"}),a.jsx("path",{d:"M17.66 17.66l1.41 1.41"}),a.jsx("path",{d:"M2 12h2"}),a.jsx("path",{d:"M20 12h2"}),a.jsx("path",{d:"M6.34 17.66l-1.41 1.41"}),a.jsx("path",{d:"M19.07 4.93l-1.41 1.41"})]}),a.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-200",children:"Appearance"})]}),a.jsxs("div",{onClick:Ce,className:"w-12 h-6 flex items-center bg-gray-300 dark:bg-gray-600 rounded-full px-1 cursor-pointer relative",children:[a.jsxs("div",{className:"absolute left-1 right-0 flex justify-between items-center px-1 text-xs",children:[a.jsx("span",{className:"text-yellow-500",children:"☀️"}),a.jsx("span",{className:"text-indigo-300",children:"🌙"})]}),a.jsx("div",{className:`bg-white dark:bg-indigo-500 w-5 h-5 rounded-full shadow-md transform transition-transform duration-300 ${Me==="dark"?"translate-x-6":""}`})]})]})]})]})}),a.jsx(Cr,{open:o,onOpenChange:l,children:a.jsxs(Xn,{className:"max-w-md dark:bg-gray-800",children:[a.jsx(Jn,{children:a.jsx(Zn,{children:"Edit Profile"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium dark:text-gray-100",children:"First Name"}),a.jsx(oe,{value:m==null?void 0:m.firstName,onChange:F=>x(W=>W?{...W,firstName:F.target.value}:null)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium dark:text-gray-100",children:"Last Name"}),a.jsx(oe,{value:m==null?void 0:m.lastName,onChange:F=>x(W=>W?{...W,lastName:F.target.value}:null)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Investment Interests (comma-separated)"}),a.jsx(oe,{value:m==null?void 0:m.investmentInterests,onChange:F=>x(W=>W?{...W,investmentInterests:F.target.value}:null)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Net Worth $"}),a.jsx(oe,{value:m==null?void 0:m.netWorth,onChange:F=>x(W=>W?{...W,netWorth:F.target.value}:null)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Past Investments"}),a.jsx(er,{value:m==null?void 0:m.pastInvestments,onChange:F=>x(W=>W?{...W,pastInvestments:F.target.value}:null)})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>l(!1),className:"bg-primary hover:bg-primary/90 text-gray-200 dark:bg-primary dark:hover:bg-gray-700",children:"Cancel"}),a.jsx(Z,{variant:"outline",onClick:Xe,children:"Save Changes"})]})]})]})}),w&&a.jsx(Cr,{open:!!w,onOpenChange:()=>v(null),children:a.jsxs(Xn,{className:"max-w-3xl dark:bg-gray-800",children:[a.jsx(Jn,{children:a.jsxs(Zn,{children:["Apply for ",w.companyName]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Cover Letter"}),a.jsx(er,{value:He.coverLetter,onChange:F=>ee(W=>({...W,coverLetter:F.target.value})),placeholder:"Write a brief cover letter explaining why you're interested in this opportunity...",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"WhatsApp Number"}),a.jsx(oe,{value:He.whatsappNumber,onChange:F=>ee(W=>({...W,whatsappNumber:F.target.value})),placeholder:"Enter your WhatsApp number with country code (e.g., +91XXXXXXXXXX)",className:"mt-1"})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>v(null),className:"bg-primary hover:bg-primary/90 text-gray-200 dark:bg-primary dark:hover:bg-gray-700",children:"Cancel"}),a.jsx(Z,{variant:"outline",onClick:()=>zt(w.id),disabled:V||!He.coverLetter||!He.whatsappNumber,className:"bg-primary hover:bg-primary/90 text-gray-200 dark:bg-gradient-to-r dark:from-blue-500 dark:to-blue-700 dark:hover:bg-gradient-to-r dark:hover:from-blue-700 dark:hover:to-blue-500",children:V?"Submitting...":"Submit Application"})]})]})]})})]})},PL=new MA;function kL(){const[t,e]=g.useState("light");return g.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),a.jsx(LA,{client:PL,children:a.jsx(hS,{children:a.jsx(vE,{children:a.jsxs("div",{className:`min-h-screen ${t==="dark"?"bg-gray-900 text-white":"bg-white text-black"}`,children:[a.jsx(Ri,{theme:t}),a.jsxs(xE,{children:[a.jsx(fn,{path:"/",element:a.jsx(NS,{})}),a.jsx(fn,{path:"/auth/developer",element:a.jsx(wu,{userType:"developer"})}),a.jsx(fn,{path:"/auth/recruiter",element:a.jsx(wu,{userType:"recruiter"})}),a.jsx(fn,{path:"/auth/investor",element:a.jsx(wu,{userType:"investor"})}),a.jsx(fn,{path:"/signup/developer",element:a.jsx(sL,{})}),a.jsx(fn,{path:"/signup/recruiter",element:a.jsx(iL,{})}),a.jsx(fn,{path:"/signup/investor",element:a.jsx(oL,{})}),a.jsx(fn,{path:"/recruiterdashboard",element:a.jsx(_L,{})}),a.jsx(fn,{path:"/developerdashboard",element:a.jsx(AL,{})}),a.jsx(fn,{path:"/investorsdashboard",element:a.jsx(RL,{})}),a.jsx(fn,{path:"*",element:a.jsx(bE,{to:"/",replace:!0})})]}),a.jsx(pA,{})]})})})})}const jL=pv(document.getElementById("root")),rv=localStorage.getItem("theme");rv==="dark"||!rv&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");jL.render(a.jsx(Ut.StrictMode,{children:a.jsx(wE,{children:a.jsx(kL,{})})}));
//# sourceMappingURL=index-HTdt4L_a.js.map
